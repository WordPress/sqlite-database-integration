"SELECT ID FROM INFORMATION_SCHEMA.PROCESSLIST WHERE INFO LIKE ""ALTER TABLE%"" INTO @thread_id"
"reset binary logs and gtids"
"UNLOCK TABLES"
"ALTER TABLE t1 ORDER BY t1.id, t1.status, t1.type_id, t1.user_id, t1.body"
"CHECK TABLES t1"
"alter table table_24562
order by table_24562.subsection ASC, table_24562.section DESC"
"unlock tables"
"EVAL insert into t1 values (2,2),(2,2),(2,2),(2,2),(2,2)"
"alter table t1 algorithm=inplace, rename key k to kk"
"alter table t2 algorithm=inplace, rename key k to kk"
"alter table t1 algorithm=copy, rename key kkk to kkkk"
"alter table t2 algorithm=copy, rename key kkk to kkkk"
"alter table t1 algorithm=inplace, rename key kkkk to k, alter column i set default 100"
"alter table t2 algorithm=inplace, rename key kkkk to k, alter column i set default 100"
"alter table t1 algorithm=copy, rename key kk to kkk"
"ALTER TABLE t1 ALGORITHM=INPLACE, DROP INDEX fld1,
ADD FULLTEXT INDEX fld1(fld1)"
"CREATE TABLE t3(a POINT GENERATED ALWAYS AS (POINT(1,1)) VIRTUAL NOT NULL)
ENGINE=INNODB"
"CREATE TABLE t4 (a BLOB, b BLOB GENERATED ALWAYS AS (a) VIRTUAL NOT NULL) ENGINE=INNODB"
"CREATE TABLE t (a TIMESTAMP(1) GENERATED ALWAYS AS (1) VIRTUAL,
b INT GENERATED ALWAYS AS (1) VIRTUAL
) ENGINE=INNODB"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW SET @a:=0"
"CREATE TRIGGER trg1 BEFORE UPDATE on t2 FOR EACH ROW SET NEW.d=OLD.d + 10"
"CREATE TABLE t_gen(a INT, b DOUBLE GENERATED ALWAYS AS (SQRT(a)))"
"ALTER TABLE t_gen RENAME COLUMN a TO c, CHANGE COLUMN b b DOUBLE GENERATED ALWAYS AS (SQRT(c))"
"ANALYZE TABLE foo UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ALTER TABLE t
ADD COLUMN b DATE GENERATED ALWAYS AS ('1999-09-09') VIRTUAL NOT NULL"
"ALTER TABLE t
ADD COLUMN c DATE GENERATED ALWAYS AS ('1999-09-09') STORED NOT NULL"
"ALTER TABLE t
ADD COLUMN d DATE GENERATED ALWAYS AS (NULL) VIRTUAL NOT NULL"
"CREATE TABLE t1(fld1 INT, fld2 INT GENERATED ALWAYS AS (-fld1) VIRTUAL,
fld3 INT GENERATED ALWAYS AS (-fld1) STORED)"
"CREATE TABLE t1(c1 int,
c2 VARCHAR(1) CHARSET UTF8MB3,
c3 VARCHAR(1) CHARSET UTF8MB3,
c4 VARCHAR(2) GENERATED ALWAYS AS (CONCAT(c2,c3)) virtual)"
"ALTER TABLE t1 ADD gcol INT AS (b + 1) VIRTUAL FIRST, ADD COLUMN a INT"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = SHARED, ADD PARTITION (PARTITION p4 VALUES LESS THAN (2010))"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = SHARED, DROP PARTITION p4"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = EXCLUSIVE, ADD PARTITION (PARTITION p4 VALUES LESS THAN (2010))"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = EXCLUSIVE, DROP PARTITION p4"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = SHARED, REORGANIZE PARTITION p3 INTO
(PARTITION p31 VALUES LESS THAN (2003), PARTITION p32 VALUES LESS THAN (2005))"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = EXCLUSIVE, REORGANIZE PARTITION p31, p32 INTO (PARTITION p3 VALUES LESS THAN (2005))"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = SHARED, REBUILD PARTITION p1"
"ALTER TABLE t2 ALGORITHM = COPY, LOCK = EXCLUSIVE, REBUILD PARTITION p2"
"ALTER TABLE t2 ALGORITHM = COPY, LOCK = SHARED, ADD PARTITION PARTITIONS 1"
"ALTER TABLE t2 ALGORITHM = COPY, LOCK = SHARED, COALESCE PARTITION 1"
"ALTER TABLE t2 ALGORITHM = COPY, LOCK = EXCLUSIVE, ADD PARTITION PARTITIONS 1"
"ALTER TABLE t2 ALGORITHM = COPY, LOCK = EXCLUSIVE, COALESCE PARTITION 1"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = NONE, ADD PARTITION (PARTITION p4 VALUES LESS THAN (2010))"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = NONE, DROP PARTITION p4"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = SHARED, ADD PARTITION (PARTITION p4 VALUES LESS THAN (2010))"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = SHARED, DROP PARTITION p4"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, ADD PARTITION (PARTITION p4 VALUES LESS THAN (2010))"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, DROP PARTITION p4"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = SHARED, REORGANIZE PARTITION p3 INTO
(PARTITION p31 VALUES LESS THAN (2003), PARTITION p32 VALUES LESS THAN (2005))"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, REORGANIZE PARTITION p31, p32 INTO (PARTITION p3 VALUES LESS THAN (2005))"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = SHARED, REBUILD PARTITION p1"
"ALTER TABLE t2 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, REBUILD PARTITION p2"
"ALTER TABLE t2 ALGORITHM = INPLACE, LOCK = SHARED, ADD PARTITION PARTITIONS 1"
"ALTER TABLE t2 ALGORITHM = INPLACE, LOCK = SHARED, COALESCE PARTITION 1"
"ALTER TABLE t2 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, ADD PARTITION PARTITIONS 1"
"ALTER TABLE t2 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, COALESCE PARTITION 1"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = NONE, EXCHANGE PARTITION p0 WITH TABLE t"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = SHARED, EXCHANGE PARTITION p0 WITH TABLE t"
"ALTER TABLE t1 ALGORITHM = COPY, LOCK = EXCLUSIVE, EXCHANGE PARTITION p0 WITH TABLE t"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = NONE, EXCHANGE PARTITION p0 WITH TABLE t"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = SHARED, EXCHANGE PARTITION p0 WITH TABLE t"
"ALTER TABLE t1 ALGORITHM = INPLACE, LOCK = EXCLUSIVE, EXCHANGE PARTITION p0 WITH TABLE t"
reap
"CREATE TABLE ta (pk INT, embedding VECTOR(4)) ENGINE=ARCHIVE"
"insert into t1 values
(NULL,b'1111111111111111111111111111111111111111111111111111111111111111'),
(NULL,b'1000000000000000000000000000000000000000000000000000000000000000'),
(NULL,b'0000000000000000000000000000000000000000000000000000000000000001'),
(NULL,b'1010101010101010101010101010101010101010101010101010101010101010'),
(NULL,b'0101010101010101010101010101010101010101010101010101010101010101')"
"insert into t1 values
(NULL,b'000000000'),
(NULL,b'000000001'),
(NULL,b'000000010'),
(NULL,b'000000011'),
(NULL,b'000000100')"
"INSERT INTO `t1` VALUES
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'000001',b'111111',b'111110',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'000010',b'000000',b'111101',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'000100',b'001111',b'111011',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'001000',b'110000',b'110111',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'010000',b'100001',b'101111',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'100000',b'010010',b'011111',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'000000',b'001100',b'111111',4,5,5,5,5,5,5,5,5,5,3,2,1),
(NULL,1,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,b'111111',b'000000',b'000000',4,5,5,5,5,5,5,5,5,5,3,2,1)"
"SELECT * FROM t1 FOR UPDATE SKIP LOCKED"
"CREATE USER caching_sha2@localhost IDENTIFIED BY 'caching'"
"CREATE USER sha256@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER 'plug_user' IDENTIFIED WITH 'test_plugin_server' AS 'plug_user'"
"CHANGE REPLICATION SOURCE TO
SOURCE_USER=     'plug_user',
SOURCE_PASSWORD= 'plug_user',
SOURCE_RETRY_COUNT= 0"
SHUTDOWN
"EOF




use strict"
"my $mysqld_log= $ENV{'MYSQLD_LOG'}"
"open(MYSQLD_LOG, $mysqld_log) || die ""Failed to open '$mysqld_log': $!"""
"print ""# Look for [ERROR] in error log (there should be none):\n"""
"EOF

use strict"
"my $bdir= $ENV{'BDIR'}"
"chdir $bdir"
"my $binary= $ENV{'MYSQLD'}"
"$binary =~ s|$bdir/||"
"my $init_file_args= $ENV{'INIT_FILE_ARGS'}"
"(system(""$binary $init_file_args"") == 0) ||
die ""system failed on '$binary $init_file_args': $!"""
"open(MYSQLD_LOG, $ENV{'MYSQLD_LOG'}) ||
die ""Failed to open '$mysqld_log': $!"""
"use File::Basename"
"my $bindir= dirname($ENV{'MYSQLD'})"
"$ENV{'PATH'}=""$bindir:$ENV{'PATH'}"""
"(system(""$binary $init_file_args"") == 0) ||
die ""system failed on 'mysqld $init_file_args': $!"""
"my $mysqld_out= $ENV{'MYSQLD_OUT'}"
"open(MYSQLD_OUT, $mysqld_out) || die ""Failed to open '$mysqld_out': $!"""
"my $found_expected_error= 0"
"$found_expected_error= 1"
"my $found_expected_errors= 0"
++$found_expected_errors
"EOF



use strict"
"my $mysqld= $ENV{'MYSQLD'}"
"my $mysql_tmp_dir= $ENV{'MYSQL_TMP_DIR'}"
"my $init_file_args_d= $ENV{'INIT_FILE_ARGS_D'}"
"chdir($mysql_tmp_dir) || die ""# Could not chdir to '$mysql_tmp_dir': $!"""
"(system(""$mysqld $init_file_args_d >$mysqld_out 2>&1"") == 0) ||
die ""system failed on '$mysqld $init_file_args_d': $!"""
"print ""# Look for output (there should be none):\n"""
"print ""# Supressing output for initialize:\n"""
"print ""# Supressing output for server shutdown\n"""
"EOF


SHOW DATABASES"
disable_query_log
"INSERT INTO t1 VALUES ('tinyblob-text readable', 'blob-text readable',
'mediumblob-text readable', 'longblob-text readable',
'text readable', b'1', 'c', 'variable',
POINT(1, 1))"
"INSERT INTO t2 VALUES (1, X'AB1234', X'123ABC'), (2, X'DE1234', X'123DEF')"
"SELECT 1 FROM t1 WHERE a = ANY (SELECT a FROM t2)"
"CREATE TABLE ta (pk INT, embedding VECTOR(4), PRIMARY KEY (pk)) ENGINE=BLACKHOLE"
"SELECT MAX(processlist_id) FROM performance_schema.threads INTO @id2"
"SELECT variable_value FROM performance_schema.global_status WHERE variable_name='connections' INTO @id3"
"EXPLAIN FORMAT=tree SELECT col_varchar_key FROM t1
WHERE ( col_varchar_key, col_varchar_key ) NOT IN (
SELECT alias1.col_varchar_key, alias1.col_varchar_key
FROM (
t1 AS alias1
JOIN ( t1 AS alias2 JOIN t2 ON t2.col_varchar_key = alias2.col_varchar_key )
ON ( t2.col_int_key = alias2.col_int_key AND alias2.col_varchar_key IN ( SELECT f1 FROM v1 ) ) )
WHERE alias1.col_varchar >= 'Z' )"
send
REAP
"CREATE USER user1@localhost"
"DROP FUNCTION f"
"SELECT CONVERT(TIMESTAMP ""2004-01-22 21:45:33"" USING latin1)"
"SELECT CONVERT(TIMESTAMP ""2004-01-22 21:45:33"", CHAR)"
"SELECT CONVERT(TIMESTAMP ""2004-01-22 21:45:33"", CHAR(4))"
"SELECT CONVERT(TIMESTAMP ""2004-01-22 21:45:33"", BINARY(4))"
"select CAST(TIMESTAMP ""2004-01-22 21:45:33"" AS BINARY(4))"
"SELECT a FROM t1
WHERE CAST(a as BINARY)=x'62736D697468'
AND CAST(a AS BINARY)=x'65736D697468'"
"SELECT CAST(1/3 AS FLOAT(10)), CAST(1/3 AS FLOAT(53))"
"SELECT CAST(DATE'2000-01-01' AS FLOAT), CAST(DATE'2000-01-01' AS DOUBLE)"
"SELECT CAST(TIME'23:59:59' AS FLOAT), CAST(TIME'23:59:59' AS DOUBLE)"
"SELECT CAST(TIME'23:59:59.123456' AS FLOAT),
CAST(TIME'23:59:59.123456' AS DOUBLE)"
"SELECT CAST(TIMESTAMP'2000-01-01 23:59:59' AS FLOAT),
CAST(TIMESTAMP'2000-01-01 23:59:59' AS DOUBLE)"
"SELECT CAST(TIMESTAMP'2000-01-01 23:59:59.123456' AS FLOAT),
CAST(TIMESTAMP'2000-01-01 23:59:59.123456' AS DOUBLE)"
"CREATE VIEW v1 AS SELECT CAST(1/3 AS REAL), CAST(1/3 AS FLOAT(2)), CAST(1/3 AS FLOAT(50))"
"EXPLAIN SELECT d=t, LEAD(d,1) OVER w FROM dt_t WINDOW w AS (ORDER BY d=t)"
"EXPLAIN SELECT LEAD(d,1) OVER w FROM dt_t WINDOW w AS (ORDER BY d=t)"
"EXPLAIN SELECT FIRST_VALUE(date) OVER (ORDER BY spID = date) FROM t1"
"EXPLAIN SELECT date, spid = FIRST_VALUE(date) OVER (ORDER BY date ) FROM t1"
"EXPLAIN SELECT * from t1 WHERE userID = DATE'2012-02-20'"
"SELECT CAST(CAST(-1 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(-99 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(0 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(69 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(70 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(99 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(100 AS SIGNED) AS YEAR)"
"SELECT CAST(CAST(2010 AS SIGNED) AS YEAR)"
"SELECT CAST(-1.1 AS YEAR)"
"SELECT CAST(1.1 AS YEAR)"
"SELECT CAST(0.0 AS YEAR)"
"SELECT CAST(69.1 AS YEAR)"
"SELECT CAST(70.1 AS YEAR)"
"SELECT CAST(100.1 AS YEAR)"
"SELECT CAST(2010.9 AS YEAR)"
"SELECT CAST(CAST(-1.1 AS DECIMAL) AS YEAR)"
"SELECT CAST(CAST(1.1 AS DECIMAL) AS YEAR)"
"SELECT CAST(CAST(0.0 AS DECIMAL) AS YEAR)"
"SELECT CAST(CAST(69.1 AS DECIMAL) AS YEAR)"
"SELECT CAST(CAST(70.1 AS DECIMAL) AS YEAR)"
"SELECT CAST(CAST(100.1 AS DECIMAL) AS YEAR)"
"SELECT CAST(CAST(2010.9 AS DECIMAL) AS YEAR)"
"SELECT CAST(""-1"" AS YEAR)"
"SELECT CAST(""-99"" AS YEAR)"
"SELECT CAST(""0"" AS YEAR)"
"SELECT CAST(""69"" AS YEAR)"
"SELECT CAST(""70"" AS YEAR)"
"SELECT CAST(""99"" AS YEAR)"
"SELECT CAST(""100"" AS YEAR)"
"SELECT CAST(""2010"" AS YEAR)"
"SELECT CAST(""extra"" AS YEAR)"
"SELECT CAST(""22extra"" AS YEAR)"
"SELECT CAST(""2020extra"" AS YEAR)"
"SELECT CAST(TIMESTAMP'2010-01-01 00:00' AS YEAR)"
"SELECT CAST(TIMESTAMP'0000-00-00 00:00' AS YEAR)"
"SELECT CAST(TIMESTAMP'2010-01-01 08:09:10' AS YEAR)"
"SELECT CAST(TIME'08:09:10' AS YEAR)"
"SELECT CAST(TIME'00:00:00' AS YEAR)"
"CREATE TABLE t AS SELECT CAST(""2010"" AS YEAR)"
"SELECT CAST(JSON_EXTRACT('{""key_year"":1934}', '$.key_year') AS YEAR)"
"SELECT CAST(CAST('{""_id"":""192312412512""}' AS JSON) AS YEAR)"
"INSERT INTO t1 VALUES (19, CAST(TIMESTAMP'2015-01-15 23:24:25' AS JSON))"
"INSERT INTO t1 VALUES (22, CAST(x'07C4' AS JSON))"
"INSERT INTO t1 VALUES (23, CAST(x'07C407C4' AS JSON))"
"SELECT i, CAST(j AS YEAR), CAST(j AS SIGNED) FROM t1 ORDER BY i"
"SELECT CAST(numbers AS YEAR), CAST(colors AS YEAR) FROM t"
"INSERT INTO t values(CAST(""2020extra"" AS YEAR))"
"INSERT INTO t values(CAST(20201 AS YEAR))"
"SELECT CAST(1988 AS YEAR), REPEAT(CAST(1988 AS YEAR), 3) AS c2"
"SELECT CONCAT('x', CAST(1988 AS YEAR))"
"SELECT CAST(1988 AS YEAR) + 1.5e0"
"SELECT CAST(CAST(1988 AS YEAR) AS DECIMAL)"
"SELECT DATE_ADD(CAST(1988 AS YEAR), INTERVAL 1 DAY)"
"SELECT TIME_TO_SEC(CAST('2030' AS YEAR))"
"SELECT TIMESTAMPADD(MINUTE, 1, CAST(1988 AS YEAR))"
"SELECT CAST(CAST(1988 AS YEAR) AS SIGNED)"
"SELECT CAST(CAST(1988 AS YEAR) AS UNSIGNED)"
"SELECT CAST(TIMESTAMP'579-10-10 10:10:10' AS YEAR)"
"SELECT CAST(STR_TO_DATE('nope','%d-%m-%Y') AS YEAR)"
"INSERT INTO tmp VALUES (CONVERT(X'F09F8DBA' USING utf8mb4))"
"CREATE TABLE t AS
SELECT CONVERT(X'F09F8DBA' USING utf8mb4) AS beer"
"CREATE TABLE t AS
SELECT CONVERT(CONVERT(X'F09F8DBA' USING utf8mb4) USING binary) AS beer"
"CREATE TABLE t AS
SELECT CONVERT(CONVERT(X'F09F8DBA', CHAR(1) CHARACTER SET utf8mb4) USING binary) AS beer"
"CREATE TABLE t AS
SELECT CONVERT(X'D83CDF7A' USING utf16) as beer"
"create user test_nopw"
"create user test_newpw identified by ""newpw"""
"CREATE PROCEDURE p_flush_status()
BEGIN
DECLARE x INT DEFAULT 3000"
"WHILE x DO
SET x = x-1"
"END WHILE"
"END |

CREATE PROCEDURE p_processlist()
BEGIN
DECLARE x INT DEFAULT 3000"
"END |





let $i = 3000"
"DROP FUNCTION f1"
"DROP FUNCTION f2"
"DROP FUNCTION f3"
"DROP FUNCTION f4"
"DROP FUNCTION f5"
"DROP FUNCTION f6"
"DROP FUNCTION f7"
"DROP FUNCTION f8"
"RESET PERSIST character_set_server"
"CREATE TABLE ðŸ¬(a INT)"
"CREATE TABLE t1(ðŸ¬ INT)"
"DROP TABLE ðŸ¬"
"my $input_file= $ENV{'_INPUT_FILE_'}"
"my $mode = (stat($input_file))[2]"
"open(FILE, "">"", ""$ENV{MYSQL_TMP_DIR}/permissions.inc"") or die"
"my $perm= $mode & 07777"
"print FILE ""let \$FILE_PERMISSIONS= $perm;\n"""
"close FILE"
"use File::Spec"
"my $bindir= dirname($binary)"
"my $binary= basename($binary)"
"chdir(""$bindir/.."") || die ""Cannot chdir to $bindir/..; $!"""
"my $relbindir= basename($bindir)"
"my $exe= File::Spec->catfile($relbindir, $binary)"
"my $syscmd= ""$exe $ENV{'HVARGS'}"""
"(system($syscmd) == 0) || die ""system($syscmd) failed: $!"""
"EOF


use strict"
"$binary= basename($binary)"
"$ENV{'PATH'}=""$bindir$Config{'path_sep'}$ENV{'PATH'}"""
"my $syscmd= ""$binary $ENV{'HVARGS'}"""
"create table t1 (f1 int,
CONSTRAINT cafe CHECK (f1 < 10),
CONSTRAINT cafÃ© CHECK (f1 < 10))"
"CREATE TABLE t1(c1 INT,
c2 INT,
c3 INT GENERATED ALWAYS AS (c1 + c2),
CONSTRAINT ck CHECK (c3 > 10)
)"
"CREATE TABLE t1(f1 INT CHECK (f1 < 10), f2 INT, CHECK (f2 < 10),
CONSTRAINT min CHECK (f1 + f2 > 10),
CONSTRAINT max CHECK (f1 + f2 < 929))"
"CREATE TABLE t2 LIKE t1"
"CREATE TEMPORARY TABLE tmp_t2 LIKE t2"
"CREATE TABLE t3 LIKE tmp_t2"
"SELECT * FROM t2 INTO OUTFILE 'tmp1.txt'"
"SELECT * FROM t2 INTO OUTFILE 'tmp2.txt'"
"ALTER TABLE t1 ADD f3 INT CHECK (f3 < 10) NOT ENFORCED, ALGORITHM=INPLACE"
"ALTER TABLE t1 ADD CONSTRAINT CHECK (f2 < 10) NOT ENFORCED, ALGORITHM=INPLACE"
"ALTER TABLE t1 ALTER CHECK t1_chk_1 NOT ENFORCED, ALGORITHM=INPLACE"
"ALTER TABLE t1 ALTER CHECK t1_chk_1 ENFORCED, ALGORITHM=COPY"
"ALTER TABLE t1 ALTER CHECK t1_chk_1 ENFORCED, ALGORITHM=INPLACE"
"CREATE TABLE t1(f1 INT,
f2 INT CHECK (f2 < 10),
f3 INT CHECK (f3 < 10) NOT ENFORCED,
CONSTRAINT ck CHECK (f1 > 10),
CONSTRAINT CHECK (f1 > 10) NOT ENFORCED)"
"ALTER TABLE t1 ALTER CHECK ck NOT ENFORCED"
"ALTER TABLE t1 ALTER CHECK ck ENFORCED"
"ALTER TABLE t1 ADD CONSTRAINT ck1 CHECK(f1<10) NOT ENFORCED"
"ALTER TABLE t1 ALTER CHECK ck1 ENFORCED"
"ALTER TABLE t1 ALTER CHECK t1_chk_2 ENFORCED"
"ALTER TABLE t1 ADD f4 INT CONSTRAINT t1_f4_chk CHECK (f4 < 10) NOT ENFORCED"
"ALTER TABLE t1 ALTER CHECK t1_f4_chk ENFORCED"
"ALTER TABLE t1
DROP CHECK ck21, ADD CONSTRAINT ck21 CHECK (c1 > 10),
DROP CHECK ck22, ADD CONSTRAINT ck22 CHECK (c1 < 10),
DROP CHECK ck31, ADD CONSTRAINT ck31 CHECK (c1 > 10),
DROP CHECK ck32, ADD CONSTRAINT ck32 CHECK (c1 < 10),
DROP CHECK ck41, ADD CONSTRAINT ck41 CHECK (c1 > 10),
DROP CHECK ck42, ADD CONSTRAINT ck42 CHECK (c1 < 10),
ALTER CHECK ck11 NOT ENFORCED,
ALTER CHECK ck12 NOT ENFORCED,
ALTER CHECK ck11 ENFORCED"
"ALTER TABLE t1 MODIFY COLUMN c1 FLOAT(10.3), DROP CHECK t1_chk_1, ADD CONSTRAINT CHECK(C1 > 10.1) ENFORCED"
"DROP FUNCTION func"
"INSERT INTO t1(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10)
VALUES(B'1111000',1,11,11,11,11,11,10.2,10.2,10.2)"
"CREATE TRIGGER before_t2_insert
BEFORE INSERT ON t2
FOR EACH ROW
BEGIN
INSERT INTO t1 VALUES(NEW.c1,NEW.c2);
END
"
"CREATE TRIGGER after_t2_insert
AFTER INSERT ON t2
FOR EACH ROW
BEGIN
INSERT INTO t1 VALUES(NEW.c1,NEW.c2);
END
"
"CREATE TRIGGER before_t2_update
BEFORE UPDATE ON t2
FOR EACH ROW
BEGIN
UPDATE t1 SET c2=NEW.c2 WHERE c1=NEW.c1;
END
"
"CREATE TRIGGER after_t2_update
AFTER UPDATE ON t2
FOR EACH ROW
BEGIN
UPDATE t1 SET c2=NEW.c2 WHERE c1=NEW.c1;
END
"
"CREATE TRIGGER before_t1_insert
BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
IF (NEW.c2 >= 10) THEN
SET NEW.c2 = 0;
END IF;
END
"
"CREATE TRIGGER before_t1_update
BEFORE UPDATE ON t1
FOR EACH ROW
BEGIN
IF (NEW.c2 >= 10) THEN
SET NEW.c2 = 0;
END IF;
END
"
"CREATE TRIGGER before_t1_insert
BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
CALL proc1(new.c1);
END
"
"INSERT INTO t1(c1,c2,c3,c4,c5,c6,c7,c8,c9,c10)
VALUES(B'1111111',0,5,5,5,11,11,10.2,10.2,10.2)"
"CREATE TABLE t4(a INTEGER CHECK (a > 0) ENFORCED NOT NULL)"
"CREATE TABLE t5(a INTEGER CHECK (a > 0) NOT ENFORCED NOT NULL)"
"CREATE TABLE t7(a INTEGER CHECK (a > 0) ENFORCED NOT NULL)"
"CREATE TRIGGER t1_before_insert_trg BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
IF NEW.f1 = 1 THEN
-- Valid value case.
SET NEW.f2 = '2017-06-06 00:00:00';
ELSEIF NEW.f1 = 2 THEN
-- Check option failure case.
SET NEW.f2 = '2019-06-06 00:00:00';
ELSEIF NEW.f1 = 3 THEN
-- Check constraint failure case.
SET NEW.f2 = '2018-06-06 00:00:00';
END IF;
END;"
"CREATE TRIGGER t1_before_update_trg BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
IF OLD.f1 = 4 THEN
-- Valid value case.
SET NEW.f2 = '2017-06-06 00:00:00';
ELSEIF OLD.f1 = 5 THEN
-- Check option failure case.
SET NEW.f2 = '2019-06-06 00:00:00';
ELSEIF OLD.f1 = 6 THEN
-- Check constraint failure case.
SET NEW.f2 = '2018-06-06 00:00:00';
END IF;
END;"
"CREATE TABLE t1 (f1 INT, f2 INT, f3 INT, f4 FLOAT AS (f3 * 0.01), f5 INT,
CHECK (f1 < f2))"
"CONNECT (con1, localhost, root)"
"CONNECT (con2, localhost, root)"
"CONNECTION con1"
"CONNECTION con2"
"CONNECTION default"
"DISCONNECT con1"
"DISCONNECT con2"
"DROP FUNCTION f2_unseen_warnings"
"DROP FUNCTION f3_stacking_warnings"
"my $mode = (stat($ENV{SESSION_FILE}))[2]"
"my $perm = sprintf ""%04o"", ($mode & 07777)"
"/* line with only comment */"
"SELECT 1 /*!99999 /* */ */"
"SELECT 2 /*!12345 /* */ */"
"SELECT 3 /*! /* */ */"
"START TRANSACTION READ ONLY, WITH CONSISTENT SNAPSHOT"
"START TRANSACTION READ WRITE, WITH CONSISTENT SNAPSHOT"
"START TRANSACTION WITH CONSISTENT SNAPSHOT, READ ONLY"
"START TRANSACTION WITH CONSISTENT SNAPSHOT, READ WRITE"
"SET TRANSACTION READ ONLY, ISOLATION LEVEL READ COMMITTED"
"SET TRANSACTION READ WRITE, ISOLATION LEVEL READ COMMITTED"
"SET SESSION TRANSACTION READ ONLY, ISOLATION LEVEL REPEATABLE READ"
"CREATE PROCEDURE p1() SET SESSION TRANSACTION READ ONLY,
ISOLATION LEVEL SERIALIZABLE"
"SET SESSION TRANSACTION READ WRITE, ISOLATION LEVEL REPEATABLE READ"
"INSTALL COMPONENT ""file://component_example_component1"""
"UNINSTALL COMPONENT ""file://component_example_component1"""
"INSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component2"""
"UNINSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component2"""
"UNINSTALL COMPONENT ""file://component_example_component2"", ""file://component_example_component1"""
"UNINSTALL COMPONENT ""file://component_example_component2"""
"INSTALL COMPONENT ""file://component_example_component2"""
"INSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component3"""
"UNINSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component3"""
"INSTALL COMPONENT ""file://component_example_component3"", ""file://component_example_component1"""
"UNINSTALL COMPONENT ""file://component_example_component3"", ""file://component_example_component1"""
"UNINSTALL COMPONENT ""file://component_example_component3"""
"INSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component2"", ""file://component_example_component3"""
"UNINSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component2"", ""file://component_example_component3"""
"INSTALL COMPONENT ""file://component_example_component2"", ""file://component_example_component3"""
"INSTALL COMPONENT ""file://component_example_component3"""
"CREATE USER mysqltest_u1@localhost"
"INSTALL COMPONENT ""file://component_test_backup_lock_service"""
"UNINSTALL COMPONENT ""file://component_test_backup_lock_service"""
"INSTALL COMPONENT 'file://component_test_backup_lock_service'"
"UNINSTALL COMPONENT 'file://component_test_backup_lock_service'"
"INSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component3"", ""file://component_example_component2"""
"UNINSTALL COMPONENT ""file://component_example_component1"", ""file://component_example_component3"", ""file://component_example_component2"""
"INSTALL COMPONENT ""file://component_validate_password"" SET length = 8 + 8"
"UNINSTALL COMPONENT ""file://component_validate_password"""
"INSTALL COMPONENT ""file://component_validate_password"" SET length = @gizmo"
"INSTALL COMPONENT ""file://component_validate_password"" SET length = @@global.max_connections"
"INSTALL COMPONENT ""file://component_validate_password"" SET length = DAYOFMONTH('1972-07-29')"
"INSTALL COMPONENT ""file://component_validate_password"" SET length = CAST(RAND() * 10 AS SIGNED)"
"INSTALL COMPONENT ""file://component_validate_password"" SET length = 1024 * 1024 * 1024 * 1024"
"INSTALL COMPONENT ""file://component_validate_password"" SET length = -100"
"DROP FUNCTION test_func"
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = ON"
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = ""ON"""
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = OFF"
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = ""OFF"""
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = gizmo"
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = 1"
"INSTALL COMPONENT ""file://component_validate_password"" SET check_user_name = 11"
"INSTALL COMPONENT ""file://component_validate_password"""
"INSTALL COMPONENT ""file://component_validate_password""
SET GLOBAL validate_password.length = 16"
"INSTALL COMPONENT ""file://component_validate_password""
SET validate_password.length = 16, PERSIST validate_password.number_count = 13"
"INSTALL COMPONENT ""file://component_validate_password""
SET validate_password.length = 16"
"INSTALL COMPONENT ""file://component_validate_password""
SET GLOBAL validate_password.length = 60, validate_password.number_count = 50"
"RESET PERSIST"
"CREATE USER wl10916@localhost"
"GRANT INSERT,DELETE,UPDATE ON mysql.component TO wl10916@localhost"
"INSTALL COMPONENT ""file://component_validate_password"" SET length = 12"
"INSTALL COMPONENT ""file://component_test_string_service"""
"UNINSTALL COMPONENT ""file://component_test_string_service"""
"INSTALL COMPONENT ""file://component_test_string_service_charset"""
"UNINSTALL COMPONENT ""file://component_test_string_service_charset"""
"INSTALL COMPONENT ""file://component_test_string_service_long"""
"UNINSTALL COMPONENT ""file://component_test_string_service_long"""
"CREATE USER wl12475@localhost"
"EOF
SELECT COUNT(*) FROM wl12475.t1"
"create user test@127.0.0.1 identified by ""gambling"""
"grant ALL on *.* to test@127.0.0.1"
"drop user test@127.0.0.1"
"CREATE USER must_change@localhost IDENTIFIED BY 'aha'"
"DROP FUNCTION last_t1"
"CREATE USER wl6587@localhost IDENTIFIED BY 'wl6587'"
"CREATE USER 'new1'@'localhost'"
"SELECT * FROM t WHERE t = TIME'180000.001'"
"EXPLAIN SELECT * FROM t WHERE t = TIME'180000.001'"
"CREATE TABLE t3 (col1 INT, col2 INT GENERATED ALWAYS AS (col1) STORED)"
"ALTER TABLE t1 ADD COLUMN f3 INT GENERATED ALWAYS AS (f1) STORED"
"ALTER TABLE t1 ALTER CONSTRAINT f2_check NOT ENFORCED"
"ALTER TABLE t1 ALTER CHECK f2_check NOT ENFORCED, ALTER CHECK f2_check ENFORCED"
"ALTER TABLE t1 ALTER CONSTRAINT f2_check NOT ENFORCED, ALTER CONSTRAINT f2_check ENFORCED"
"ALTER TABLE t1 ALTER CHECK f2_check NOT ENFORCED, ALTER CONSTRAINT f2_check ENFORCED"
"CREATE PROCEDURE alter_constraint_proc()
ALTER TABLE t1 ALTER CONSTRAINT f2_check NOT ENFORCED"
"CREATE PROCEDURE alter_constraint_proc()
ALTER TABLE t1 ALTER CONSTRAINT constraint_name NOT ENFORCED"
"ALTER TABLE tmp ALTER CONSTRAINT f2_check NOT ENFORCED"
"create trigger t1_bi before insert on t1 for each row set @a:=1"
"create table t1 like `a/a`"
"create table 1ea10 (1a20 int,1e int)"
"insert into 1ea10 values(1,1)"
"select 1ea10.1a20,1e+ 1e+10 from 1ea10"
"drop table 1ea10"
"create table t3 like t1"
"create table if not exists t3 like t1"
"create temporary table t3 like t2"
"create table mysqltest.t3 like t1"
"create temporary table t3 like mysqltest.t3"
"create table t2 like t3"
"create temporary table t3 like t1"
"create user mysqltest_1"
"CREATE TABLE t1(c1 VARCHAR(33), KEY USING BTREE (c1))"
"CREATE TABLE t1(c1 VARCHAR(33), KEY USING BTREE (c1) USING HASH) ENGINE=MEMORY"
"CREATE TABLE t1(c1 VARCHAR(33), KEY USING HASH (c1) USING BTREE) ENGINE=MEMORY"
"create database Ð¸Ð¼Ñ_Ð±Ð°Ð·Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_45"
"use Ð¸Ð¼Ñ_Ð±Ð°Ð·Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_45"
"drop database Ð¸Ð¼Ñ_Ð±Ð°Ð·Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_45"
"create table Ð¸Ð¼Ñ_Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48
(
Ð¸Ð¼Ñ_Ð¿Ð¾Ð»Ñ_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_45 int,
index Ð¸Ð¼Ñ_Ð¸Ð½Ð´ÐµÐºÑÐ°_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48 (Ð¸Ð¼Ñ_Ð¿Ð¾Ð»Ñ_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_45)
)"
"create view Ð¸Ð¼Ñ_Ð²ÑŒÑŽ_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_42 as
select Ð¸Ð¼Ñ_Ð¿Ð¾Ð»Ñ_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_45
from Ð¸Ð¼Ñ_Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48"
"select * from Ð¸Ð¼Ñ_Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48"
"show create table Ð¸Ð¼Ñ_Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48"
"show create view Ð¸Ð¼Ñ_Ð²ÑŒÑŽ_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_42"
"create trigger Ð¸Ð¼Ñ_Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ð°_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_49
before insert on Ð¸Ð¼Ñ_Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48 for each row set @a:=1"
"drop trigger Ð¸Ð¼Ñ_Ñ‚Ñ€Ð¸Ð³Ð³ÐµÑ€Ð°_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_49"
"create procedure Ð¸Ð¼Ñ_Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_50()
begin
end"
"drop procedure Ð¸Ð¼Ñ_Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_50"
"drop function Ð¸Ð¼Ñ_Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_49"
"drop view Ð¸Ð¼Ñ_Ð²ÑŒÑŽ_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_42"
"drop table Ð¸Ð¼Ñ_Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48"
"drop function if exists f1"
"create function f1() returns int
begin
declare res int"
"end|
create table t1 as select 1"
"drop function f1"
"create table t1 like information_schema.processlist"
"create temporary table t1 like information_schema.processlist"
"CREATE TRIGGER f BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
INSERT INTO t1 ( `int` ) VALUES (4 ),( 8 ),( 2 ) "
"END "
"|


DROP TABLE t1"
"create table t2 like t1"
"drop function f"
"CREATE TABLE t1(a ENUM( b'1001001'))"
"CREATE TABLE t2(a ENUM( b'1001001') BYTE)"
"CREATE TABLE t3(a ENUM( b'10010010') BYTE)"
"CREATE TABLE t4(a ENUM( b'1001001101101111') BYTE)"
"CREATE TABLE t5(a ENUM( b'10010011011011111111011000011') BYTE)"
"ALTER TABLE t6
MODIFY COLUMN a ENUM( b'10010011011011111111011000011') BYTE UNIQUE FIRST"
"CREATE USER subuser@localhost"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
CREATE TEMPORARY TABLE t2 AS SELECT NEW.fld1, NEW.fld2;
END
"
"SHOW CREATE FUNCTION f1"
"SHOW CREATE FUNCTION f2"
"CREATE PROCEDURE IF NOT EXISTS sp1() BEGIN END"
"DROP FUNCTION sf1"
"DROP FUNCTION abs"
"DROP FUNCTION metaphon"
"DROP FUNCTION test.metaphon"
"CREATE TRIGGER IF NOT EXISTS trg1 BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TABLE t1 (f1 INT) START TRANSACTION"
"CREATE PROCEDURE proc1()
BEGIN
CREATE TABLE t1 (f1 INT) START TRANSACTION;
ROLLBACK;
CREATE TABLE t1 (f1 INT) START TRANSACTION;
COMMIT;
END"
"DROP FUNCTION getText"
"CREATE TABLE t4 (s1 CHAR(50) CHARACTER SET latin1,
s2 CHAR(50) CHARACTER SET cp932,
d DECIMAL(10,2))|
CREATE PROCEDURE bug18293 (IN ins1 CHAR(50),
IN ins2 CHAR(50) CHARACTER SET cp932,
IN ind DECIMAL(10,2))
BEGIN
INSERT INTO t4 VALUES (ins1, ins2, ind)"
"ALTER DATABASE DEFAULT CHARACTER SET latin2"
"SELECT a FROM t1 GROUP BY 1 LIMIT 1 INTO @nullll"
"SELECT b FROM t1 GROUP BY 1 LIMIT 1 INTO @nullll"
"RESET BINARY LOGS AND GTIDS"
"SELECT 1 as ƒ, 2 as Š, 3 as Œ, 4 as Ž, 5 as š, 6 as œ, 7 as ž, 8 as Ÿ"
"INSERT INTO abcÿdef VALUES (2)"
"SELECT * FROM abcÿdef"
"CREATE VIEW v1 AS
SELECT id, 'a' AS name, a AS val FROM t1
UNION
SELECT id, 'mn', HEX(LIKE_RANGE_MIN(a, 16)) AS min FROM t1
UNION
SELECT id, 'mx', HEX(LIKE_RANGE_MAX(a, 16)) AS max FROM t1
UNION
SELECT id, 'sp', REPEAT('-', 32) AS sep FROM t1
ORDER BY id, name"
"DROP TABLE IF EXISTS ÔÁÂÌÉÃÁ, t1, t2"
"CREATE TABLE `ÔÁÂÌÉÃÁ`
(
ÐÏÌÅ CHAR(32) CHARACTER SET koi8r NOT NULL COMMENT ""ËÏÍÍÅÎÔÁÒÉÊ ÐÏÌÑ""
) COMMENT ""ËÏÍÍÅÎÔÁÒÉÊ ÔÁÂÌÉÃÙ"""
"SHOW CREATE TABLE ÔÁÂÌÉÃÁ"
"SHOW FIELDS FROM ÔÁÂÌÉÃÁ"
"SHOW CREATE TABLE òàáëèöà"
"SHOW FIELDS FROM òàáëèöà"
"SHOW CREATE TABLE Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°"
"SHOW FIELDS FROM Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°"
"DROP TABLE ÔÁÂÌÉÃÁ"
"CREATE DATABASE ÔÅÓÔ"
"USE ÔÅÓÔ"
"SHOW TABLES IN ÔÅÓÔ"
"SHOW TABLES IN òåñò"
"DROP DATABASE ÔÅÓÔ"
"SELECT HEX('²“‘@Œ\') FROM DUAL"
"SELECT QUOTE('ƒ\')"
"INSERT INTO t1 VALUES (X'042000200020',X'042000200020'), (X'200400200020', X'200400200020')"
"CREATE VIEW v1 AS SELECT 1 from t1
WHERE t1.b <=> (SELECT a FROM t1 WHERE a < SOME(SELECT '1'))"
"INSERT INTO t1 VALUES
(X'000004200000002000000020',X'000004200000002000000020'),
(X'000020040000002000000020',X'000020040000002000000020')"
"INSERT INTO t1 VALUES(x'D7FF')"
"INSERT INTO t1 VALUES(x'E000')"
"INSERT INTO t1 VALUES(x'10FFFF')"
"INSERT INTO t1 VALUES (N'\\')"
"select concat(a, if(b>10, N'x', N'y')) from t1"
"INSERT INTO t1 VALUES (19, x'E0B696'), (30, x'E0B69AE0B798'), (61, x'E0B6AF'), (93, x'E0B799'), (52, x'E0B6A6'), (73, x'E0B6BBE0B78AE2808D'), (3, x'E0B686'), (56, x'E0B6AA'), (55, x'E0B6A9'), (70, x'E0B6B9'), (94, x'E0B79A'), (80, x'E0B785'), (25, x'E0B69AE0B791'), (48, x'E0B6A2'), (13, x'E0B690'), (86, x'E0B793'), (91, x'E0B79F'), (81, x'E0B786'), (79, x'E0B784'), (14, x'E0B691'), (99, x'E0B78A'), (8, x'E0B68B'), (68, x'E0B6B7'), (22, x'E0B69A'), (16, x'E0B693'), (33, x'E0B69AE0B7B3'), (38, x'E0B69AE0B79D'), (21, x'E0B683'), (11, x'E0B68E'), (77, x'E0B782'), (40, x'E0B69AE0B78A'), (101, x'E0B78AE2808DE0B6BB'), (35, x'E0B69AE0B79A'), (1, x'E0B7B4'), (9, x'E0B68C'), (96, x'E0B79C'), (6, x'E0B689'), (95, x'E0B79B'), (88, x'E0B796'), (64, x'E0B6B3'), (26, x'E0B69AE0B792'), (82, x'E0B78F'), (28, x'E0B69AE0B794'), (39, x'E0B69AE0B79E'), (97, x'E0B79D'), (2, x'E0B685'), (75, x'E0B780'), (34, x'E0B69AE0B799'), (69, x'E0B6B8'), (83, x'E0B790'), (18, x'E0B695'), (90, x'E0B7B2'), (17, x'E0B694'), (72, x'E0B6BB'), (66, x'E0B6B5'), (59, x'E0B6AD'), (44, x'E0B69E'), (15, x'E0B692'), (23, x'E0B69AE0B78F'), (65, x'E0B6B4'), (42, x'E0B69C'), (63, x'E0B6B1'), (85, x'E0B792'), (47, x'E0B6A1'), (49, x'E0B6A3'), (92, x'E0B7B3'), (78, x'E0B783'), (36, x'E0B69AE0B79B'), (4, x'E0B687'), (24, x'E0B69AE0B790'), (87, x'E0B794'), (37, x'E0B69AE0B79C'), (32, x'E0B69AE0B79F'), (29, x'E0B69AE0B796'), (43, x'E0B69D'), (62, x'E0B6B0'), (100, x'E0B78AE2808DE0B6BA'), (60, x'E0B6AE'), (45, x'E0B69F'), (12, x'E0B68F'), (46, x'E0B6A0'), (50, x'E0B6A5'), (51, x'E0B6A4'), (5, x'E0B688'), (76, x'E0B781'), (89, x'E0B798'), (74, x'E0B6BD'), (10, x'E0B68D'), (57, x'E0B6AB'), (71, x'E0B6BA'), (58, x'E0B6AC'), (27, x'E0B69AE0B793'), (54, x'E0B6A8'), (84, x'E0B791'), (31, x'E0B69AE0B7B2'), (98, x'E0B79E'), (53, x'E0B6A7'), (41, x'E0B69B'), (67, x'E0B6B6'), (7, x'E0B68A'), (20, x'E0B682')"
"INSERT INTO t1 (c1) VALUES(REPEAT(X'C385', 127))"
"INSERT INTO t1 VALUES (119040, x'f09d8480'),
(119070, x'f09d849e'),
(119134, x'f09d859e'),
(119247, x'f09d878f'),
(120607, x'f09d9c9f'),
(120735, x'f09d9e9f'),
(1114111, x'f48fbfbf'),
(917999, x'f3a087af')"
"INSERT INTO t1 VALUES (119070, x'f09d849ef09d859ef09d859ef09d8480f09d859ff09d859ff09d859ff09d85a0f09d85a0f09d8480')"
"INSERT INTO t1 VALUES (65131, x'efb9abf09d849ef09d859ef09d859ef09d8480f09d859fefb9abefb9abf09d85a0efb9ab')"
"INSERT IGNORE INTO t1 VALUES (119070, x'f09d849ef09d859ef09d859ef09d8480f09d859ff09d859ff09d859ff09d85a0f09d85a0f09d8480f09d85a0')"
"INSERT IGNORE INTO t1 VALUES (1114111, x'f5808080')"
"INSERT INTO t2 VALUES (42856, x'ea9da8')"
"INSERT INTO t2 VALUES (65131, x'efb9ab')"
"INSERT IGNORE INTO t2 VALUES (1114111, x'f48fbfbf')"
"UPDATE IGNORE t2 SET utf8mb3_encoding= x'f48fbfbd' where u_decimal= 42856"
"INSERT INTO t1 VALUES (x'ea9da8'),(x'f48fbfbf')"
"INSERT INTO t2 VALUES (x'ea9da8')"
"INSERT INTO t1 VALUES (x'f48fbfbf')"
"INSERT INTO t1(subject) VALUES(x'f0909080')"
"SET @A = CONVERT(CHAR(X'33fc' USING utf32) USING utf8mb4)"
"SET @B = CONVERT(CHAR(X'32' USING utf32) USING utf8mb4)"
"my $ddir_perms= (stat($ENV{'DDIR'}))[2]"
"SET @null = NULL"
"EXECUTE ps USING @null"
"EOF




perl"
"my $log= $ENV{'MYSQLD_LOG'} or die"
"open(FILE, ""$log"") or die"
"print ""#     DD initialization error found $c_e times.\n"""
close(FILE)
"EOF

remove_file $MYSQLD_LOG"
"my $c_e= grep(/\[ERROR\] \[[^]]*\] \[[^]]*\] failed to set datadir/gi,<FILE>)"
"print ""#     Datadir error found $c_e times.\n"""
"my $c_e= grep(/File \..ibdata1: \'open\' returned OS error 71/gi,<FILE>)"
"my $log= $ENV{'ENV_MYSQLD_LOG'} or die"
"print ""#     Data Dictionary initialization error found $c_w times.\n"""
"EOF

remove_file $BOOTSTRAP_SQL"
"my $c_w= grep(/The used command is not allowed with this MySQL version/gi,<FILE>)"
"EOF



connect(root_con,localhost,root,,mysql)"
"my $c_w= grep(/Access to data dictionary table \'mysql.st_spatial_reference_systems\' is rejected/gi,<FILE>)"
"print ""#     Data Dictionary table access error found $c_w times.\n"""
"my $c_w= grep(/Access to data dictionary table \'mysql.tables\' is rejected/gi,<FILE>)"
"CREATE TABLE t1 LIKE information_schema.processlist"
"FLUSH TABLES mysql.events"
"CREATE TABLE t1 (a1 INTEGER,
a2 INTEGER GENERATED ALWAYS AS (a1 * 2) STORED,
a3 INTEGER GENERATED ALWAYS AS (a1 * 3) VIRTUAL,
KEY (a1) )"
"CREATE TABLE t1 (a INT NOT NULL,b INT NOT NULL, PRIMARY KEY USING BTREE (a))
ENGINE=MYISAM COMMENT=""TESTING"" PACK_KEYS=1 DELAY_KEY_WRITE=1
STATS_PERSISTENT=1 CHECKSUM=1 MIN_ROWS=1 MAX_ROWS=100"
"CREATE TABLE t2 (a INT NOT NULL,b INT NOT NULL, PRIMARY KEY USING BTREE (a))
ENGINE=MYISAM COMMENT=""TESTING"" PACK_KEYS=0 DELAY_KEY_WRITE=1
STATS_PERSISTENT=1 CHECKSUM=1 MIN_ROWS=1 MAX_ROWS=100"
"CREATE USER 'testuser'@'localhost'"
"GRANT ALL ON db1.v2 TO 'testuser'@'localhost'"
"GRANT ALL ON db1.v1 TO 'testuser'@'localhost'"
"GRANT EXECUTE ON FUNCTION db1.f1 TO 'testuser'@'localhost'"
"GRANT ALL ON db1.v3 TO 'testuser'@'localhost'"
"GRANT SELECT on db1.t1 TO 'testuser'@'localhost'"
"CREATE USER testuser1@localhost"
"GRANT CREATE ROUTINE ON db1.* TO testuser1@localhost"
"CREATE USER testuser2@localhost"
"GRANT CREATE ROUTINE ON db1.* TO testuser2@localhost"
"GRANT ALL ON db1.v1 TO testuser1@localhost"
"GRANT ALL ON db1.t1 TO testuser1@localhost"
"REVOKE ALL ON db1.v1 FROM testuser1@localhost"
"REVOKE ALL ON db1.t1 FROM testuser1@localhost"
"CREATE TABLE t1(ËÏÌ INT)"
"CREATE VIEW v1 AS
SELECT 'ÔÅÓÔ' AS c1, ËÏÌ AS c2
FROM t1"
"CREATE TABLE t1(ÐºÐ¾Ð» INT)"
"CREATE VIEW v1 AS
SELECT 'Ñ‚ÐµÑÑ‚' AS c1, ÐºÐ¾Ð» AS c2
FROM t1"
"CREATE USER mysqltest_1@localhost"
"CREATE USER mysqltest_2@localhost"
"CREATE TABLE t3 LIKE t1"
"CREATE TABLE t1 (i INT, b char(255) DEFAULT (sha2(i, 0)), j INT GENERATED ALWAYS AS (i*2))"
"DROP FUNCTION CURRENT_TIMESTAMPfoo"
"DROP FUNCTION IF EXISTS metaphon"
"CREATE TABLE IF NOT EXISTS D1 (i2 INT DEFAULT 568447044, d1 DOUBLE,
d2 DOUBLE DEFAULT 0.0, c2 CHAR(255),
def2 DOUBLE DEFAULT( i2 DIV d2 ),
v1 INT AS ( d2 = c2 % ASIN( d1 ) > i2 ) VIRTUAL)"
"CREATE TABLE IF NOT EXISTS D1 (def2 DOUBLE DEFAULT( 100 DIV 0 ),
v1 INT AS (1) VIRTUAL)"
"ALTER TABLE t1 ADD COLUMN b INT DEFAULT (a), ADD COLUMN c INT GENERATED ALWAYS AS (-b) STORED"
"ALTER TABLE t2 ADD COLUMN b INT DEFAULT (a), ADD COLUMN c INT GENERATED ALWAYS AS (-b) STORED, ALGORITHM=COPY"
"ALTER TABLE t1 ADD COLUMN b INT DEFAULT (a),
ADD COLUMN c INT GENERATED ALWAYS AS (-b) STORED,
ADD COLUMN d INT DEFAULT (c),
ADD COLUMN e INT GENERATED ALWAYS AS (-d) STORED"
"ALTER TABLE t2 ADD COLUMN b INT DEFAULT (a),
ADD COLUMN c INT GENERATED ALWAYS AS (-b) STORED,
ADD COLUMN d INT DEFAULT (c),
ADD COLUMN e INT GENERATED ALWAYS AS (-d) STORED,
ALGORITHM=COPY"
"CREATE TABLE t (a INT,
b INT,
c INT DEFAULT 77,
d INT GENERATED ALWAYS AS (DEFAULT(c)))"
"CREATE TABLE t (a INT,
b INT GENERATED ALWAYS AS (a*5))"
"DROP PROCEDURE IF EXISTS count"
"CREATE TRIGGER tr1 BEFORE DELETE ON t2
FOR EACH ROW INSERT INTO no_such_table VALUES (1)"
"CREATE TRIGGER tr1 AFTER DELETE ON t2
FOR EACH ROW INSERT INTO no_such_table VALUES (1)"
"CREATE TRIGGER tr1 AFTER DELETE ON t1 FOR EACH ROW
BEGIN
INSERT INTO t1 SELECT * FROM t1 AS A"
"CREATE TABLE t (
a INT,
b INT,
c TIMESTAMP GENERATED ALWAYS AS (65),
UNIQUE KEY (a, b),
UNIQUE KEY (c, a)
)"
"create trigger tr after insert on t for each row begin
declare a varchar(1) charset utf8mb4 collate utf8mb4_test_ci;
set @a = ""a"" collate utf8mb4_test_ci;
insert into tp values (@a);
end"
"drop function if exists f"
"select * from t1 into outfile 'tmp1.txt' character set binary"
perl
"my $logf= $ENV{'LOGF'} or die ""LOGF not set"""
"open(FILE, ""$logf"") or die(""Unable to open $logf: $!\n"")"
"my $count_warnings= grep(/\[Warning\] \[[^]]*\] \[[^]]*\] The syntax 'plugin-validate-password-length' is deprecated and will be removed in a future release\. Please use validate-password-length instead\./gi,<FILE>)"
"my $count_warnings= $count_warnings"
"print ""Deprecation warning count : $count_warnings\n"""
"select * from (select * from t1 intersect all select * from t1 order by a,b limit 2) a"
"select * from (select * from t1 except all select * from t1 limit 2) a"
"SELECT MIN(price) min, MAX(price) max, AVG(price) avg FROM (SELECT SUBSTRING( MAX(concat(date_,"";"",price)), 12) price FROM t1 WHERE itemid=128 AND  grpid='rozn' GROUP BY itemid, grpid, vendor) lastprices"
"SELECT  table1.col_date_key AS field1
FROM
C AS table1
WHERE
(table1.col_int_key <=ANY
( SELECT SUBQUERY1_t1.col_int_key
FROM viewC AS SUBQUERY1_t1
WHERE SUBQUERY1_t1.col_varchar_10_key <= table1.col_varchar_10_key
)
)
"
"EXPLAIN FORMAT=tree SELECT table1 . o1
FROM C table1
JOIN ( C table2
JOIN ( SELECT * FROM cc ) table3
ON table3 .`i1`  = table2 .o1
) ON table3 .`i2`  = table2 .o1
"
"DROP FUNCTION func1"
"DROP FUNCTION func2"
"CREATE TABLE t (
a INTEGER GENERATED ALWAYS AS (1) VIRTUAL,
KEY (a)
) ENGINE = InnoDB"
"DROP FUNCTION p"
"CREATE PROCEDURE p()
BEGIN
DECLARE val INTEGER;
SET val = 2;
EXPLAIN FORMAT=tree SELECT AVG(f1) FROM (SELECT * FROM t1) as dt
WHERE f2 > val;
SELECT AVG(f1) FROM (SELECT * FROM t1) as dt WHERE f2 > val;
END"
"SELECT w.g FROM t1 INNER JOIN (
SELECT g, ROW_NUMBER() OVER (PARTITION BY g) AS r FROM t1
) w ON w.g=t1.g AND w.r=1 WHERE w.g IS NULL"
"EXPLAIN format=tree INSERT INTO t2 SELECT * FROM v WHERE f1=2"
"EXPLAIN format=tree UPDATE t2 SET f1=3 WHERE f1 IN (SELECT f1 FROM v WHERE f1=2)"
"EXPLAIN format=tree DELETE FROM t2 WHERE f1 IN (SELECT f1 FROM v WHERE f1=3)"
"CREATE PROCEDURE p()
BEGIN
DECLARE val INTEGER;
SET val = 2;
EXPLAIN FORMAT=tree SELECT AVG(f1)
FROM (SELECT * FROM t1
UNION
SELECT * FROM t1) as dt
WHERE f2 > val;
SELECT AVG(f1)
FROM (SELECT * FROM t1
UNION
SELECT * FROM t1) as dt
WHERE f2 > val;
END"
"EXPLAIN format=tree UPDATE t2 JOIN v ON t2.f2=v.f2
SET t2.f1 = t2.f1 + v.f1
WHERE v.f2 > 10"
"EXPLAIN format=tree DELETE t2 FROM t2 JOIN v ON t2.f2=v.f2 WHERE v.f2 > 10"
"SELECT f1
FROM t1 JOIN
LATERAL (SELECT (t1.f1 + t2.f1) AS f2
FROM t1 AS t2
GROUP BY f2) AS dt
WHERE f2 = 9"
"create table t12 like t11"
"explain select dt.a from t1, lateral (select t1.a from t2) dt"
"explain SELECT * FROM t1
JOIN
lateral (select t1.a) as dt ON t1.a=dt.a
JOIN
lateral (select dt.a) as dt1 ON dt.a=dt1.a"
"select t1.a, dt.a from t1, lateral (select t1.a+t2.a as a from t2) dt"
"select t1.a, dt.a from t1, lateral (select t2.a as a from t2 having t1.a) dt"
"create view v1 as
select t1.a as f1, dt.a as f2
from t1, lateral (select t1.a+t2.a as a from t2) dt"
"SELECT COUNT(*) FROM t1 GROUP BY t1.a  HAVING t1.a IN (SELECT t3.a
FROM t1 AS t3 WHERE t3.b IN (SELECT b FROM t2, lateral (select t1.a) dt))"
"select vq1.b,dt.b from v1 vq1, lateral (select vq1.b) dt"
"select b from v1 vq1, lateral (select count(*) from v1 vq2 having vq1.b = 3) dt"
"SELECT
/*+ SET_VAR(optimizer_switch = 'materialization=off,semijoin=off') */
* FROM t1 AS ta, lateral (select 1 WHERE ta.a IN (SELECT b FROM t2 AS tb                WHERE tb.b >= SOME(SELECT SUM(tc.a) as sg FROM t1 as tc                                   GROUP BY tc.b                                   HAVING ta.a=tc.b))) dt"
"select (select f from lateral (select max(t1.a) as f) as dt) as g from t1"
"select t1.a, f from t1, lateral (select max(t1.a) as f) as dt"
"select * from t1,
lateral (with qn as (select t1.a) select (select max(a) from qn)) as dt"
"SELECT * FROM t1, LATERAL ( SELECT MAX(1) FROM t2 GROUP BY t1.f1 ) AS l1"
"SELECT STD(0) FROM t2, LATERAL ( SELECT f1 FROM t1 GROUP BY f2,f1 ) AS d1"
"SELECT * FROM t1 JOIN LATERAL (
SELECT GROUP_CONCAT(t.id) AS c FROM t2 t WHERE (t.id = t1.id)
) d0 ON (1)"
"EXPLAIN FORMAT=TREE SELECT * FROM v2 WHERE f3 = 3"
"EXPLAIN SELECT * FROM t1 JOIN LATERAL (SELECT a+t1.a from t2 GROUP BY a) AS dt"
"SELECT * FROM t1 JOIN LATERAL (SELECT a+t1.a from t2 GROUP BY a) AS dt"
"SELECT *
FROM
t1
LEFT JOIN (
t1 AS t2
LEFT JOIN t1 AS t3 ON TRUE
) ON TRUE,
LATERAL (
SELECT SUM(t1.a), t2.a FROM t1
) AS d1"
"SELECT * FROM t1 AS tbl1
LEFT JOIN t1 AS tbl3 ON FALSE WHERE tbl1.id NOT IN
(SELECT id FROM t1 AS tbl2 JOIN LATERAL
(SELECT 1 FROM t2 WHERE id = tbl2.id LIMIT 10) AS d1)"
"SELECT /*+ JOIN_PREFIX(tbl1, tbl2) */ * FROM t1 AS tbl1
LEFT JOIN t1 AS tbl3 ON FALSE WHERE tbl1.id NOT IN
(SELECT id FROM t1 AS tbl2 JOIN LATERAL
(SELECT 1 FROM t2 WHERE id = tbl2.id LIMIT 10) AS d1)"
"SELECT t3.b
FROM
t AS t1,
t AS t2,
LATERAL (SELECT DISTINCT * FROM t WHERE t2.x <> 0) AS t3
WHERE t1.x = t2.x AND t2.x = t3.x ORDER BY t3.x"
"EXPLAIN FORMAT=TREE
SELECT 1 FROM t1, LATERAL (SELECT DISTINCT t1.x) AS dt, t2
WHERE t2.pk = dt.x"
"SELECT 1 FROM
t1,
LATERAL (SELECT DISTINCT t1.x) AS dt1,
LATERAL (SELECT DISTINCT dt1.x) AS dt2
WHERE dt1.x = dt2.x"
"ALTER FUNCTION hello comment 'abcd'"
"DROP FUNCTION hello"
"ALTER FUNCTION hello COMMENT 'This is a test'"
"CREATE USER normal_user"
"CREATE USER power_user"
"CREATE USER u1"
"CREATE DEFINER = u1 TRIGGER trig1 BEFORE INSERT ON t1 FOR EACH ROW DELETE FROM t1"
"CREATE USER dummy"
"CREATE USER ABC"
"CREATE USER ABc"
"CREATE USER u1@192.129.12.11"
"CREATE USER 'u1'@'%.com'"
"CREATE USER 'u1'@'abc.com'"
"CREATE DEFINER = u1@192.129.12.11 VIEW v3 as SELECT * FROM t1"
"DROP USER u1@192.129.12.11"
"CREATE USER u2"
"SHOW REPLICA STATUS"
"SHOW BINARY LOG STATUS"
"SHOW REPLICAS"
"CREATE USER 'bernt'"
"EXPLAIN FORMAT=tree SELECT DISTINCT c2 FROM t1 GROUP BY c1 HAVING COUNT(*) > 1"
"EXPLAIN FORMAT=tree SELECT DISTINCT table1.pk FROM t1 AS table1 LEFT JOIN t1 AS table2 ON table1.f2=table2.f3 WHERE table2.f1 IS NULL"
"EXPLAIN FORMAT=tree SELECT /*+JOIN_ORDER(t2,t3,t1) */ DISTINCT t2.pk FROM t1 LEFT JOIN t2 RIGHT OUTER JOIN t3 ON t2.f1 = t3.f3 ON t1.pk = t3.f2 WHERE t3.pk <> t2.pk"
"EXPLAIN FORMAT=tree SELECT DISTINCT COUNT(*) AS num FROM t1 GROUP BY f HAVING num=1"
"create table $t(id int)"
"drop table $t"
"create table t(id int, $id int, $id2 int, `$$id` int, $ int, $1 int,
`$$$` int, id$$$ int, 1$ int, `$$` int, _$ int, b$$lit$$ int)"
"select id+$id+$id from t"
"create view $view as select id, $id2 from t"
"select * from $view"
"prepare $stmt from 'select `$$id`, $id, `$$` from t'"
"execute $stmt"
"set @sql:=concat('select `$$id`, $id, `$$` from ', @table_name)"
"prepare dynamic_stmt from @sql"
"create schema $s"
"create table $s.$t($id int)"
"select $s.$t.$id from $s.$t"
"select $s.`$t`.`$id` from $s.`$t`"
"create procedure $p(in $i int)
begin
declare $id1 int;
select b$$lit$$ into $id1 from t where id = $i;
end"
"call $p(3)"
"select $f(2)"
"drop function `$f`"
"create role $username@$hostname.$domainname.com"
"drop role $username@$hostname.$domainname.com"
"set @$myvar = true"
"select count(*) from t where @$myvar"
"select 8.0 $p, 8.4$p, .0$p, 8.$p, 8.p"
"create table `#mysql50#abc``def` ( id int )"
"CREATE TRIGGER trg1 AFTER INSERT ON table1
FOR EACH ROW
INSERT INTO table2 SELECT t.notable.*"
"EOF

DROP DATABASE bug19573998"
"LET $MYSQLD_DATADIR = `SELECT @@datadir`"
"CREATE USER uplain@localhost IDENTIFIED WITH 'cleartext_plugin_server'
AS 'cleartext_test'"
"CREATE USER mysqltest_1"
"CREATE USER mysqltest_yeslog"
"CREATE USER mysqltest_nolog"
"my $file= $ENV{'GREP_FILE'} or die(""grep file not set"")"
"my $pattern= $ENV{'GREP_PATTERN'} or die(""pattern is not set"")"
"open(FILE, ""$file"") or die(""Unable to open $file: $!"")"
"rename $file, ""$file~"""
"open(FILE, "">"", ""$file"") or die(""Unable to open file: $!"")"
"EOF

SET GLOBAL log_error_verbosity = @old_log_error_verbosity"
"drop function if exists f2"
"drop function f2"
"CREATE USER nopriv_user@localhost"
"DROP FUNCTION IF EXISTS f"
"CREATE USER pauline@localhost"
"create event ðóóò21 on schedule every '50:23:59:95' day_second COMMENT 'òîâà å 1251 êîìåíòàð' do select 1"
"SHOW CREATE EVENT ðóóò21"
"drop event Ð·Ð°Ð´Ð°Ñ‡ÐºÐ°"
"create event Ð·Ð°ÐºÐ°Ñ‡ÐºÐ° on schedule every 10 hour do select get_lock(""test_lock1"", 20)"
"drop event Ð·Ð°ÐºÐ°Ñ‡ÐºÐ°"
"create event Ð·Ð°ÐºÐ°Ñ‡ÐºÐ° on schedule every 10 hour do select get_lock(""test_lock2"", 20)"
"create event Ð·Ð°ÐºÐ°Ñ‡ÐºÐ°21 on schedule every 10 hour do select get_lock(""test_lock2_1"", 20)"
"drop event Ð·Ð°ÐºÐ°Ñ‡ÐºÐ°21"
"create trigger trg before insert on t1 for each row
begin
set new.a= f1();
end"
"create event Ð¸Ð¼Ñ_ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48 on schedule every 2 year do select 1"
"drop event Ð¸Ð¼Ñ_ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ñ_Ð²_ÐºÐ¾Ð´Ð¸Ñ€Ð¾Ð²ÐºÐµ_ÑƒÑ‚Ñ„8_Ð´Ð»Ð¸Ð½Ð¾Ð¹_Ð±Ð¾Ð»ÑŒÑˆÐµ_Ñ‡ÐµÐ¼_48"
"CREATE EVENT äîëåí_ðåãèñòúð_1251 ON SCHEDULE EVERY 1 YEAR DO SELECT 100"
"DROP EVENT ÄîËåÍ_ðåãèñòúð_1251"
"CREATE EVENT Ð´Ð¾Ð»ÐµÐ½_Ñ€ÐµÐ³Ð¸ÑÑ‚ÑŠÑ€_ÑƒÑ‚Ñ„8 ON SCHEDULE EVERY 3 YEAR DO SELECT 300"
"DROP EVENT Ð”ÐžÐ›Ð•Ð_Ñ€ÐµÐ³Ð¸ÑÑ‚ÑŠÑ€_ÑƒÑ‚Ñ„8"
"create user mysqltest_user1@localhost"
"drop function if exists f22830"
"drop function f22830"
"CREATE USER evtest1@localhost"
"SHOW CREATE EVENT CaFÃ©"
"DROP EVENT CaFÃ©"
"SHOW CREATE EVENT Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"DROP EVENT Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"CREATE EVENT cafÃ© ON SCHEDULE EVERY 2 YEAR DO SELECT 1"
"CREATE USER ev_test@localhost"
"CREATE USER 'user31633859'@'127.0.0.1'"
"CREATE USER 'user33711304'@'127.0.0.1'"
"SELECT COUNT(*) FROM t1 INTO @rows_before"
"SELECT COUNT(*) FROM t1 INTO @rows_after"
"UNLOCK INSTANCE"
"CREATE USER event_user2@localhost"
"CREATE USER event_user3@localhost"
"CREATE TABLE t1 (count INT, unix_time INT, local_time INT, comment CHAR(80))"
"CREATE TABLE t2 (count INT)"
"UPDATE t2 SET count= count + 1"
"SELECT * FROM t1 ORDER BY count, comment"
"DROP FUNCTION round_to_step"
"DROP FUNCTION t17059925_func1"
disable_result_log
enable_query_log
"explain format=json select * from t1 where str is null"
"create table ÔÁÂ (ËÏÌ0 int, ËÏÌ1 int, key ÉÎÄ0 (ËÏÌ0), key ÉÎÄ01 (ËÏÌ0,ËÏÌ1))"
"insert into ÔÁÂ (ËÏÌ0) values (1)"
"insert into ÔÁÂ (ËÏÌ0) values (2)"
"explain select ËÏÌ0 from ÔÁÂ where ËÏÌ0=1"
"drop table ÔÁÂ"
"CONNECT (c1,localhost,root,,)"
"CONNECT (c2,localhost,root,,)"
"CONNECTION c1"
"CONNECTION c2"
"DISCONNECT c1"
"DISCONNECT c2"
"EXPLAIN ((SELECT a FROM t ORDER BY 1 LIMIT 3) ORDER BY -a LIMIT 2) ORDER BY a"
"CREATE TABLE t3 LIKE t2"
"EXPLAIN
DELETE LOW_PRIORITY QUICK IGNORE
FROM t1 PARTITION (p1)
WHERE c1 > 0
ORDER BY c2
LIMIT 10"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE f1 = ( SELECT MIN(f1) FROM t1 AS i WHERE i.f1 > t1.f1 )"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 WHERE f1 = ( SELECT MIN(f1) FROM t1 AS i WHERE i.f1 > t1.f1 )"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE f1 > ( SELECT f1 FROM t1 LIMIT 1 )"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 WHERE f1 > ( SELECT f1 FROM t1 LIMIT 1 )"
"explain format=TREE select * from t1 where a > 2"
"explain format=JSON select * from t1 where a > 2"
"EXPLAIN format=TREE SELECT * FROM t1 WHERE t1.i IN (SELECT t2.i FROM t2)"
"EXPLAIN format=JSON SELECT * FROM t1 WHERE t1.i IN (SELECT t2.i FROM t2)"
"EXPLAIN FORMAT=TREE SELECT t1.*,t2.* FROM t1 straight_join t2
ON t2.col_int_key = t1.col_int WHERE t2.pk < t1.pk"
"EXPLAIN FORMAT=JSON SELECT t1.*,t2.* FROM t1 straight_join t2
ON t2.col_int_key = t1.col_int WHERE t2.pk < t1.pk"
"EXPLAIN FORMAT=TREE SELECT
t1.col_varchar_key AS field1 FROM (t1, t1 as alias1)
WHERE NOT EXISTS( SELECT alias2.col_varchar_key FROM t1 AS alias2
WHERE alias2.col_varchar_key >= t1.col_varchar)
GROUP BY field1"
"EXPLAIN FORMAT=JSON SELECT
t1.col_varchar_key AS field1 FROM (t1, t1 as alias1)
WHERE NOT EXISTS( SELECT alias2.col_varchar_key FROM t1 AS alias2
WHERE alias2.col_varchar_key >= t1.col_varchar)
GROUP BY field1"
"explain format=TREE select * from information_schema.engines e WHERE e.ENGINE=""MyISAM"""
"explain format=JSON select * from information_schema.engines e WHERE e.ENGINE=""MyISAM"""
"EXPLAIN FORMAT=TREE SELECT * FROM
(SELECT SQL_BIG_RESULT f1, SUM(f2) OVER() FROM t1 GROUP BY f1) as dt
WHERE f1 > 2"
"EXPLAIN FORMAT=JSON SELECT * FROM
(SELECT SQL_BIG_RESULT f1, SUM(f2) OVER() FROM t1 GROUP BY f1) as dt
WHERE f1 > 2"
"EXPLAIN analyze FORMAT=TREE SELECT t1.a, GROUP_CONCAT(t2.b) AS b FROM t1 LEFT JOIN t2 ON t1.a=t2.a GROUP BY t1.a ORDER BY t1.b"
"EXPLAIN FORMAT=JSON SELECT t1.a, GROUP_CONCAT(t2.b) AS b FROM t1 LEFT JOIN t2 ON t1.a=t2.a GROUP BY t1.a ORDER BY t1.b"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 AS a LEFT JOIN t1 AS b ON FALSE
LEFT JOIN t1 AS c ON b.a=c.a"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 AS a LEFT JOIN t1 AS b ON FALSE
LEFT JOIN t1 AS c ON b.a=c.a"
"EXPLAIN FORMAT=JSON INTO @var
SELECT 1 + 1 AS x FROM t GROUP BY x WITH ROLLUP HAVING x = 1"
"EXPLAIN FORMAT=JSON INSERT INTO t VALUES (4), (5), (6)"
"EXPLAIN FORMAT=JSON REPLACE INTO t VALUES (7), (8), (9)"
"EXPLAIN FORMAT=JSON INTO @v1 SELECT * FROM t1 JOIN t2 ON i1 = i3 WHERE i2 = 2"
"EXPLAIN FORMAT=JSON INTO @v1 SELECT * FROM t1"
"EXPLAIN FORMAT=JSON INTO @v1 INSERT INTO t1 VALUES (4,5)"
"EXPLAIN FORMAT=JSON INTO @v1 INSERT INTO t1 SELECT * FROM t2"
"EXPLAIN FORMAT=JSON INTO @v1 UPDATE t1 SET i2 = i2 + 1 WHERE i1 = 1"
"EXPLAIN FORMAT=JSON INTO @v1 REPLACE t1 SELECT * FROM t2"
"EXPLAIN FORMAT=JSON INTO @v1 DELETE FROM t1"
"EXPLAIN FORMAT=JSON INTO @v1 UPDATE t1, t2 SET i1 = i1 - 1, i3 = i3 + 1"
"EXPLAIN FORMAT=JSON INTO @v1 DELETE t1, t2 FROM t1, t2"
"EXPLAIN FORMAT=JSON INTO @v1 SELECT /*+ SET_VAR(optimizer_switch='hypergraph_optimizer=OFF')*/ * FROM t1"
"EXPLAIN FORMAT=JSON INTO @v1 SELECT /*+ SET_VAR(optimizer_switch='hypergraph_optimizer=ON')*/ * FROM t1"
"CREATE USER 'privtest'@'localhost'"
"GRANT SELECT ON mysqltest1.t2 TO 'privtest'@'localhost'"
"GRANT SELECT,INSERT,UPDATE ON mysqltest1.v2 TO 'privtest'@'localhost'"
"EXPLAIN FORMAT=tree SELECT * FROM t1"
"EXPLAIN FORMAT=tree INSERT INTO t2 SELECT * FROM t1"
"EXPLAIN FORMAT=tree UPDATE t1, t2 SET f1=f1+2, f2=f2+1 WHERE f1 = f2"
"EXPLAIN FORMAT=tree DELETE t1, t2 FROM t1, t2"
"EXPLAIN FORMAT=tree SELECT f1, (SELECT MIN(f1) FROM t1 i WHERE i.f1 > t1.f1) < 3 FROM t1"
"EXPLAIN FORMAT=tree SELECT * FROM t1 ORDER BY f1 DESC"
"EXPLAIN FORMAT=tree SELECT SUM(f1) FROM t1"
"EXPLAIN FORMAT=tree SELECT f1 FROM t1 GROUP BY f1"
"EXPLAIN FORMAT=tree SELECT f1,COUNT(*) FROM t1 GROUP BY f1"
"EXPLAIN FORMAT=tree SELECT f1,COUNT(*) FROM t1 GROUP BY f1 WITH ROLLUP"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE f1=2"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN t2 ON t1.f1 = t2.f1 + 2 AND t2.f1 = 3"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN t2 USING (f1) WHERE t1.f1=2"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN ( t2 LEFT JOIN t3 USING (a) ) ON t3.b IS NULL"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN t2 USING (f1) WHERE t2.f1 IS NULL"
"EXPLAIN FORMAT=tree SELECT DISTINCT b FROM t1 LEFT JOIN t2 USING(a) WHERE c <= 3"
"EXPLAIN FORMAT=tree SELECT 0 AS foo FROM t1 WHERE 0 = (SELECT group_concat(b) FROM t1 t GROUP BY t1.a) "
"EXPLAIN FORMAT=tree SELECT SUBSTRING(a,1,10), LENGTH(a) FROM t1 GROUP BY a"
"EXPLAIN FORMAT=tree SELECT DISTINCT f1 FROM t1 LIMIT 2"
"EXPLAIN FORMAT=tree INSERT INTO t1 SELECT a + 2 FROM t1 LIMIT 1"
"EXPLAIN FORMAT=tree SELECT DISTINCT (COUNT(DISTINCT b) + 1) AS c FROM t1 GROUP BY a"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE f1 = ( SELECT MIN(f1) FROM t1 AS i WHERE i.f1 > t1.f1 )"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE f1 > ( SELECT f1 FROM t1 LIMIT 1 )"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE f1 = ( SELECT ( SELECT MIN(f1) FROM t1 AS ii WHERE ii.f1 > t1.f1 ) > i.f1 FROM t1 AS i ) "
"EXPLAIN FORMAT=tree SELECT ( SELECT ( SELECT ( SELECT MIN(f1) FROM t1 i WHERE i.f1 > t1.f1 ) + 1 ) + 1 ) FROM t1"
"EXPLAIN FORMAT=tree SELECT ( SELECT f1 FROM t1 AS inner_t1 WHERE inner_t1.f1 > t1.f1 LIMIT 1 ) AS tmp1 FROM t1 ORDER BY tmp1"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE a > 3 ORDER BY b"
"EXPLAIN FORMAT=tree INSERT INTO t1 VALUES (10)"
"EXPLAIN FORMAT=tree REPLACE INTO t1 VALUES (10)"
"EXPLAIN FORMAT=tree SELECT * FROM t1 ORDER BY b LIMIT 3"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN t2 USING ( a ),
LATERAL ( SELECT * FROM t3 WHERE t3.a = t2.a LIMIT 1 ) t3d,
LATERAL ( SELECT * FROM t3 WHERE t3.a > t1.a LIMIT 1 ) t4d"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN (
t2 LEFT JOIN t3 USING ( a ) CROSS JOIN
LATERAL ( SELECT * FROM t4 WHERE t4.a = t3.a LIMIT 1 ) t4d
) ON t1.a = t4d.a"
"EXPLAIN FORMAT=TREE SELECT * FROM ( SELECT * FROM t1 LIMIT 2 OFFSET 1 ) AS alias1
WHERE f1 <= ANY ( SELECT f1 FROM t1 ) ORDER BY f1"
"EXPLAIN format=tree WITH my_cte AS ( SELECT * FROM t1 LIMIT 3 ) SELECT * FROM my_cte, t2"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE (t1.i) IN (SELECT t2.i FROM t2)"
"EXPLAIN FORMAT=tree SELECT * FROM t1,t2 WHERE (t1.i) IN (SELECT t3.i FROM t3,t4) AND t1.pk = 2 AND t2.pk = 4"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE t1.i IN ( SELECT i FROM t2 LEFT JOIN t3 USING (i) WHERE t3.j = 1234 OR t3.j IS NULL )"
"EXPLAIN FORMAT=tree SELECT a FROM t1 WHERE a = ANY ( SELECT a FROM t1 WHERE b = 2 )"
"EXPLAIN FORMAT=tree SELECT a FROM t1 WHERE a NOT IN ( SELECT b FROM t1 WHERE b > 2 )"
"EXPLAIN FORMAT=tree SELECT a FROM t1 WHERE a = ANY ( SELECT MAX(a) FROM t1 WHERE b = 2 )"
"EXPLAIN format=tree SELECT * FROM t1 WHERE t1.i IN (SELECT t2.i FROM t2)"
"CREATE TABLE t1 (
col_int_key INTEGER,
col_json JSON,
KEY mv_idx ((CAST(col_json->'$[*]' AS CHAR(40) ARRAY)))
)"
"EXPLAIN FORMAT=tree SELECT /*+ NO_BNL(t1, t2) */ * FROM t2
JOIN t1 ON 1 WHERE (CAST(""1"" AS JSON) MEMBER OF( t1.col_json->'$[*]'))"
"EXPLAIN ANALYZE FORMAT=TREE SELECT 1"
"EXPLAIN FORMAT=tree SELECT * FROM INFORMATION_SCHEMA.ENGINES"
"EXPLAIN FORMAT=tree SELECT * FROM t1, ( SELECT f1 FROM t1 UNION SELECT f1 + 10 FROM t1 ) d1"
"EXPLAIN FORMAT=tree SELECT * FROM t1, ( SELECT f1 FROM t1 UNION ALL SELECT f1 + 10 FROM t1 ) d1"
"EXPLAIN FORMAT=TREE UPDATE t1,t2 SET t1.a=1,t2.b=1"
"EXPLAIN FORMAT=TREE UPDATE t1,t2 SET t1.a=1,t2.b=1 WHERE t2.a=t1.a"
"EXPLAIN FORMAT=TREE DELETE t1.*,t2.* FROM t1,t2"
"EXPLAIN FORMAT=TREE DELETE t1.*,t1bis.* FROM t1, t1 AS t1bis"
"EXPLAIN FORMAT=tree SELECT (1 IN (SELECT 1 FROM t1)) WHERE FALSE"
"EXPLAIN FORMAT=tree SELECT a IN (SELECT a FROM (table t1) AS d) FROM t1 GROUP BY (@b:=5)"
"EXPLAIN FORMAT=tree
(SELECT 1 FROM t1)
UNION ALL
SELECT 1 IN (SELECT 1 FROM t1) FROM t1 WHERE 1=2"
"EXPLAIN FORMAT=tree
SELECT * FROM t1 WHERE a IN (2,4,6,8,10)"
"EXPLAIN FORMAT=tree
SELECT * FROM t1 WHERE a IN (2,4,6,8,10) ORDER BY a DESC"
"EXPLAIN FORMAT=tree
SELECT /*+ SKIP_SCAN(t1) */ * FROM t1 WHERE a IN (2,4,6,8,10) AND b=5 AND e BETWEEN 100 AND 200"
"EXPLAIN FORMAT=tree SELECT * FROM t WHERE a > 'abc' AND a < 'ghi'"
"EXPLAIN FORMAT=tree
SELECT * FROM t WHERE a > 'abc''def' AND a < CONCAT('z', UNHEX('090A1A5C0D'))"
"EXPLAIN FORMAT=TREE DELETE t FROM t WHERE 0=1"
"EXPLAIN FORMAT=TREE
WITH tx AS (SELECT FLOOR(5*RAND(0)) i1 FROM t1 j1 JOIN t1 j2 ON j1.b=j2.a)
(SELECT 1 FROM t1 d1 JOIN t1 d2 ON d1.a=-d2.a JOIN tx ON d2.b=i1) UNION
SELECT 2 FROM tx"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t WHERE x = 4"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t WHERE x > 4"
"EXPLAIN FORMAT=TREE SELECT x FROM t ORDER BY MOD(x, 2)"
"EXPLAIN FORMAT=TREE SELECT t1.x FROM t t1, t t2 WHERE t1.x < t2.y"
"EXPLAIN FORMAT=TREE
SELECT * FROM t1 x1 JOIN t1 x2 ON x2.a=
(SELECT MIN(x3.a) FROM t1 x3 WHERE x1.a=x3.a)"
"EXPLAIN FORMAT=TREE
SELECT * FROM t1 x1 LEFT JOIN t1 x2 ON x2.a<
(SELECT MIN(x3.a) FROM t1 x3 WHERE x1.a=x3.a)"
"EXPLAIN FORMAT=TREE SELECT LAST_VALUE((SELECT x1.a FROM t1))
OVER (PARTITION BY b) FROM t1 x1"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.b = (SELECT MAX(b) FROM t1 x2 WHERE x2.a>x1.a)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.b IN (SELECT MAX(b) FROM t1 x2 WHERE x2.a>x1.a)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.b = (SELECT MAX(b) FROM t1 x2 WHERE x2.a>5)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.b IN (SELECT MAX(b) FROM t1 x2 WHERE x2.a>5)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.b = (SELECT MAX(b) FROM t1 x2 WHERE x2.a>10*rand(0))"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.b IN (SELECT MAX(b) FROM t1 x2 WHERE x2.a>10*rand(0))"
"EXPLAIN FORMAT=TREE SELECT SUM(x1.a) s FROM t1 x1
GROUP BY x1.b HAVING s>(SELECT MAX(x2.a) FROM t1 x2)"
"EXPLAIN FORMAT=TREE SELECT SUM(x1.a) s FROM t1 x1
GROUP BY x1.b HAVING s>(SELECT MAX(x2.a+RAND(0)) FROM t1 x2)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c<720"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3 WHERE x1.c<721 AND x2.c<900"
"EXPLAIN ANALYZE FORMAT=TREE SELECT * FROM t1 x1, t1 x2 WHERE x1.c=x2.d AND x1.d>900 AND x2.a=x2.b"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3 WHERE x1.c<921 AND x2.c<900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE e=0 AND c=0"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE e=0 AND c=0 AND f<999"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2 LIMIT 999999"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE d=0 AND c=0 AND e=0 AND f=0 AND g=0"
"EXPLAIN FORMAT=TREE
SELECT * FROM t1 WHERE a=0 AND b=0 AND c=0 AND e=0 AND f=0 AND g=0 AND h=0"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3 LIMIT 999500000"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3 LIMIT 999499999"
"EXPLAIN FORMAT=TREE INSERT INTO t VALUES (4), (5), (6)"
"EXPLAIN FORMAT=TREE REPLACE INTO t VALUES (7), (8), (9)"
"EXPLAIN FORMAT=TREE
SELECT x IN (SELECT x FROM t) FROM t GROUP BY x ORDER BY MAX(y)"
"print ""\nChecking 'INFO_SRC' and 'INFO_BIN'\n"""
"$dir_bin = $ENV{'MYSQL_BINDIR'}"
"$dir_docs =~ s|/lib|/share/doc|"
"$dir_docs = $dir_docs[0]"
"$found_revision = ""No line 'revision-id: .....'"""
"open(I_SRC,""<"",""$dir_docs/INFO_SRC"") or print ""Cannot open 'INFO_SRC' in '$dir_docs' (starting from bindir '$dir_bin')\n"""
"print ""INFO_SRC: $found_version / $found_revision\n"""
"$found_compiler = ""No line about compiler information"""
"$found_features = ""No line 'Feature flags'"""
"open(I_BIN,""<"",""$dir_docs/INFO_BIN"") or print ""Cannot open 'INFO_BIN' in '$dir_docs' (starting from bindir '$dir_bin')\n"""
"print ""INFO_BIN: $found_compiler / $found_features\n"""
"EXPLAIN FORMAT=tree SELECT * FROM
t1
LEFT JOIN t1 AS table2 ON 119 IN (
SELECT SUBQUERY1_t2.pk
FROM t1 AS SUBQUERY1_t1, (t2 AS SUBQUERY1_t2 STRAIGHT_JOIN t1 ON TRUE)
)
ORDER BY t1.f2"
"CREATE TABLE t2 (
pk INT PRIMARY KEY,
vc VARCHAR(1) NOT NULL,
gc INT GENERATED ALWAYS AS (1))"
"/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */"
"/*!40101 SET SQL_MODE=@OLD_SQL_MODE */"
"EXPLAIN FORMAT=tree SELECT j FROM t1 ORDER BY pk"
"EXPLAIN SELECT * FROM t1 WHERE bit1 <=>b'1'"
"EXPLAIN SELECT * FROM t1 WHERE bit1 >  b'0'"
"EXPLAIN SELECT * FROM t1 WHERE bit1 >= b'0'"
"EXPLAIN SELECT * FROM t1 WHERE bit1 <  b'0'"
"EXPLAIN SELECT * FROM t1 WHERE bit1 <= b'0'"
"EXPLAIN SELECT * FROM t1 WHERE bit3 =  b'1'"
"CREATE USER 'show_view_tbl'@'localhost', 'select_only_c1'@localhost"
"GRANT CREATE VIEW, SHOW VIEW ON testdb.v1 TO 'show_view_tbl'@'localhost'"
echo
"GRANT SELECT(c1) on testdb.v1 to 'select_only_c1'@localhost"
"CREATE TRIGGER t1_au AFTER UPDATE ON t1 FOR EACH ROW SET @var = ""a"""
"CREATE USER u1b35380295, u2b35380295"
"CREATE PROCEDURE p35380295(v_max INT)
BEGIN
DECLARE v_id INT DEFAULT 0;
REPEAT
SET v_id = v_id + 1;
INSERT IGNORE INTO t1 VALUES(FLOOR(RAND()*100000000), v_id);
IF (MOD(v_id,10000) = 0) THEN COMMIT;
END IF;
UNTIL v_id >= v_max
END REPEAT;
END"
"GRANT EXECUTE ON PROCEDURE db35380295.p35380295 TO u2b35380295"
"REVOKE EXECUTE ON PROCEDURE db35380295.p35380295 FROM u2b35380295"
"REVOKE ALL PRIVILEGES ON db35380295.* FROM u1b35380295"
"drop function if exists f2_base"
"create user mysqltest_u1"
"create trigger t1_bi before insert on t1_base for each row begin end"
"drop function f2_base"
"drop function f2_temp"
"FLUSH LOCAL TABLES test.t1, test.t2 for ExPoRt"
"CREATE USER user1@localhost, user2@localhost,
user3@localhost, user4@localhost,
user5@localhost"
"FLUSH TABLE db1.t1 FOR EXPORT"
"FLUSH LOCAL TABLES test.t1 FOR EXPORT"
"UNLOCK TABLE"
"CREATE TABLE t1(a INT PRIMARY KEY,
b INT GENERATED ALWAYS AS (a+1) VIRTUAL UNIQUE)"
"CREATE TABLE t2(a INT, b INT GENERATED ALWAYS AS (a+1) STORED UNIQUE)"
"CREATE TABLE t3(a INT, b INT GENERATED ALWAYS AS (a+1) STORED UNIQUE,
FOREIGN KEY (b) REFERENCES t1(a))"
"CREATE TABLE t3(a INT, b INT GENERATED ALWAYS AS (a+1) STORED UNIQUE,
FOREIGN KEY (a) REFERENCES t1(a))"
"CREATE TABLE t2(a INT, b INT GENERATED ALWAYS AS (a+1) VIRTUAL UNIQUE)"
"CREATE TABLE t2(fld1 INT NOT NULL, fld2 INT AS (fld1) VIRTUAL, KEY(fld2),
FOREIGN KEY(fld1) REFERENCES t1(fld1) ON UPDATE CASCADE)"
"CREATE TABLE child2 LIKE child"
"CREATE TABLE IF NOT EXISTS parent LIKE parent_source"
"CREATE TRIGGER bi_t3 BEFORE INSERT ON t3 FOR EACH ROW
BEGIN
IF @a = 1234567890 THEN
DELETE FROM t1;
END IF;
END"
"CREATE TRIGGER t0_bi BEFORE INSERT ON t0 FOR EACH ROW DELETE FROM t1"
"CREATE TABLE child (base INT, fk INT GENERATED ALWAYS AS (base+1) VIRTUAL)"
"CREATE TABLE self (pk INT PRIMARY KEY, base INT,
fk INT GENERATED ALWAYS AS (base+1) VIRTUAL)"
"CREATE TABLE child (base INT, fk INT GENERATED ALWAYS AS (base+1) STORED,
FOREIGN KEY (fk) REFERENCES parent(pk))"
"CREATE TABLE self (pk INT PRIMARY KEY, base INT,
fk INT GENERATED ALWAYS AS (base+1) STORED,
FOREIGN KEY (fk) REFERENCES self(pk))"
"CREATE TABLE parent (base INT, pk INT GENERATED ALWAYS AS (base+1) VIRTUAL, UNIQUE KEY(pk))"
"CREATE TABLE self (base INT, pk INT GENERATED ALWAYS AS (base+1) VIRTUAL, fk INT,
UNIQUE KEY(pk))"
"CREATE TABLE parent (base INT, pk INT GENERATED ALWAYS AS (base+1) STORED, UNIQUE KEY(pk))"
"CREATE TABLE self (base INT, pk INT GENERATED ALWAYS AS (base+1) STORED, fk INT,
UNIQUE KEY(pk), FOREIGN KEY (fk) REFERENCES self(pk))"
"CREATE TABLE parent0 (base INT, pk INT GENERATED ALWAYS AS (base+1) VIRTUAL, UNIQUE KEY(pk))"
"CREATE USER user2@localhost"
"CREATE USER user3@localhost"
"CREATE USER user4@localhost"
"CREATE USER user5@localhost"
"CREATE USER user6@localhost"
"CREATE USER user7@localhost"
"GRANT EXECUTE ON FUNCTION f1 TO user2@localhost"
"GRANT EXECUTE ON FUNCTION f2 TO user2@localhost"
"GRANT SELECT, DELETE, INSERT, UPDATE on wl8910db.parent to user5@localhost"
"GRANT SELECT, DELETE, INSERT, UPDATE on wl8910db.parent to user6@localhost"
"GRANT SELECT, DELETE, INSERT, UPDATE on wl8910db.child to user6@localhost"
"GRANT DELETE ON wl8910db.parent TO user7@localhost"
"GRANT CREATE ROUTINE ON wl8910db.* TO user2@localhost"
"GRANT EXECUTE ON FUNCTION f3 TO user3@localhost"
"/*!50101 CREATE TABLE child (fk INT, FOREIGN KEY (fk) REFERENCES parent(pk)) */"
"/*! ALTER TABLE child ADD FOREIGN KEY (fk) REFERENCES parent(pk) */"
"CREATE TABLE t1 (f1 INT PRIMARY KEY, f2 INT, F3 INT AS (f1+1) VIRTUAL,
FOREIGN KEY(f2) REFERENCES t2(f3))"
"CREATE TABLE t1 (f1 VARCHAR(10), f2 VARCHAR(10),
f3 VARCHAR(30) AS (CONCAT(f1, f2)) VIRTUAL,
UNIQUE INDEX(f3))"
"CREATE TABLE referencing (f1 VARCHAR(10), f2 VARCHAR(10),
f3 VARCHAR(30) AS (CONCAT(f1, f2)) STORED REFERENCES referenced(f1))"
"CREATE TABLE referenced (f1 VARCHAR(10) PRIMARY KEY, f2 VARCHAR(10),
f3 VARCHAR(30) AS (CONCAT(f1, f2)) VIRTUAL, UNIQUE KEY(f3))"
"CREATE TABLE referenced (f1 VARCHAR(10) PRIMARY KEY, f2 VARCHAR(10),
f3 VARCHAR(30) AS (CONCAT(f1, f2)) STORED, UNIQUE KEY(f3))"
"CREATE TABLE referencing (f1 VARCHAR(10),
f2 VARCHAR(10) REFERENCES referenced(f1) ON DELETE SET NULL,
f3 VARCHAR(30) AS (CONCAT(f1, f2)) VIRTUAL)"
"CREATE TABLE referenced (f1 VARCHAR(10), f2 VARCHAR(10),
f3 VARCHAR(30) AS (CONCAT(f1, f2)) STORED, PRIMARY KEY(f3))"
"CREATE TABLE child_copy LIKE child"
"CREATE TABLE parent LIKE parent_base"
"CREATE TABLE parent (i INT, j INT,
d INT GENERATED ALWAYS AS (i) VIRTUAL,
e INT GENERATED ALWAYS AS (j) VIRTUAL,
PRIMARY KEY (i), UNIQUE u(i,d), UNIQUE u1(i,j,e))"
"CREATE TABLE self (i INT, j INT, i2 INT, j2 INT,
d INT GENERATED ALWAYS AS (i) VIRTUAL,
e INT GENERATED ALWAYS AS (j) VIRTUAL,
PRIMARY KEY (i), UNIQUE u(i,d), UNIQUE u1(i,j,e),
FOREIGN KEY (i2, j2) REFERENCES self (i, j))"
"EXPLAIN FORMAT=tree select * from t1 where MATCH(a,b) AGAINST (""collections"")"
"SET @KEYS=REPEAT('c', 16)"
"SELECT AES_DECRYPT(AES_ENCRYPT(@ENCSTR, @KEYS), @KEYS)=@ENCSTR"
"SELECT AES_DECRYPT(AES_ENCRYPT(@ENCSTR, @KEYS, @IV), @KEYS, @IV)=@ENCSTR"
"SELECT AES_DECRYPT(AES_ENCRYPT(@ENCSTR, @KEYS), @KEYS)=@ENCSTR FROM t1"
"SELECT AES_DECRYPT(AES_ENCRYPT(@ENCSTR, @KEYS, @IV), @KEYS, @IV)=@ENCSTR FROM t1"
"SET @KEYS=RANDOM_BYTES(1)"
"SET @KEYS=RANDOM_BYTES(1024)"
"SET @KEYS='helloworld'"
"select AES_ENCRYPT(@ENCSTR, @KEYS, @IV)=AES_ENCRYPT(@ENCSTR, @KEYS, @IV1)"
"SET @KEYS='helloworld1234567890'"
"INSERT INTO t1 values(AES_ENCRYPT(@ENCSTR, @KEYS, @IV))"
"SELECT AES_DECRYPT(f1, @KEYS, @IV)=@ENCSTR FROM t1"
"SELECT COALESCE (AES_DECRYPT(f1, @KEYS, @IV)=@ENCSTR,0) FROM t1"
"SELECT cast(TIMESTAMP'2019-10-10 10:11:12' AT TIME ZONE 'UTC' AS DATETIME)"
"SELECT cast(TIMESTAMP'2019-10-10 10:11:12' AT TIME ZONE '+00:00' AS DATETIME)"
"SELECT cast(TIMESTAMP'2019-10-10 10:11:12+00:00' AT TIME ZONE '+00:00' AS DATETIME)"
"SELECT cast( a AT TIME ZONE '+00:00' AS DATETIME ) FROM t1"
"INSERT INTO t VALUES
(1, x'59', x'6a'),
(2, x'5939', x'6ac3'),
(3, x'5939a998', x'6ac35d2a'),
(4, x'5939a99861154f35', x'6ac35d2a3ab34bda'),
(5, x'5939a99861154f3587d5440618e9b28b', x'6ac35d2a3ab34bda8ac412ea0141852c'),
(6, x'5939a99861154f3587d5440618e9b28b166181c5ca514ab1b8e9c970ae5e421a', x'6ac35d2a3ab34bda8ac412ea0141852c3c8e38bb19934a7092a40bb19db13a80'),
(7, x'5939a99861154f3587d5440618e9b28b', x'8ac412ea0141852c'),
(8, x'5939a99861154f35', x'6ac35d2a3ab34bda8ac412ea0141852c')"
"LET $have_debug= `SELECT (version() LIKE '%debug%')`"
"IF ($have_debug)
{
disable_query_log"
enable_result_log
"SET @a:= b'1010010001000010000010000001000000010000000010000000001000000000010000000000010000000000001'"
"INSERT INTO t VALUES(REPEAT(x'0a',1000))"
"LET $c = 96"
"WHILE ($c)
{
EVAL INSERT INTO r SELECT $c, HEX(@a << $c), HEX(@a >> $c)"
"DEC $c"
"DROP TABLE Ã¥Ã¤Ã¶, æ—¥æœ¬èªž,  ð©¸½"
"CREATE TRIGGER tr_bi_check_uniqueness_with_nulls
BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
IF EXISTS (SELECT * FROM t1 WHERE t1.id <=> NEW.id AND t1.ts <=> NEW.ts) THEN
SIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = 'Duplicated values not allowed.';
END IF;
END
"
"select sum(all a),count(all a),avg(all a),std(all a),variance(all a),bit_or(all a),bit_and(all a),min(all a),max(all a),min(all c),max(all c) from t1"
"select grp, sum(a)+count(a)+avg(a)+std(a)+variance(a)+bit_or(a)+bit_and(a)+min(a)+max(a)+min(c)+max(c) as sum from t1 group by grp"
"insert into t1 values('AME',0,'SEA',0.100,date'1942-02-19')"
"insert into t1 values('HBR',1,'SEA',0.085,date'1948-03-05')"
"insert into t1 values('BOT',2,'SEA',0.085,date'1951-11-29')"
"insert into t1 values('BMC',3,'SEA',0.085,date'1958-09-08')"
"insert into t1 values('TWU',0,'LAX',0.080,date'1969-10-05')"
"insert into t1 values('BDL',0,'DEN',0.080,date'1960-11-27')"
"insert into t1 values('DTX',1,'NYC',0.080,date'1961-05-04')"
"insert into t1 values('PLS',1,'WDC',0.075,date'1949-01-02')"
"insert into t1 values('ZAJ',2,'CHI',0.075,date'1960-06-15')"
"insert into t1 values('VVV',2,'MIN',0.075,date'1959-06-28')"
"insert into t1 values('GTM',3,'DAL',0.070,date'1977-09-23')"
"insert into t1 values('SSJ',null,'CHI',null,date'1974-03-19')"
"explain
select max(a5) from t1 where a5 < date'1970-01-01'"
"select max(a5) from t1 where a5 < date'1970-01-01'"
"SELECT a,AVG(DISTINCT b) AS average FROM t1 GROUP BY a HAVING average > 50"
"SELECT MAX(pk) as max, i
FROM t1
ORDER BY max"
"EXPLAIN
SELECT MAX(pk) as max, i
FROM t1
ORDER BY max"
"SELECT MAX(pk) as max, i
FROM t1
WHERE pk<2
ORDER BY max"
"SELECT AVG(DISTINCT col_int_nokey) FROM t1"
"SELECT AVG(DISTINCT outr.col_int_nokey) FROM t1 AS outr LEFT JOIN t1 AS outr2 ON
outr.col_int_nokey = outr2.col_int_nokey"
"UPDATE IGNORE e1 AS outr1, b1 AS outr2 SET outr1.col_date =
JSON_SET(outr1.col_date, CONCAT('$','[',1,']','.','cdate'), '2007-07-12')
WHERE outr1.pk <= ANY ( SELECT DISTINCT innr1.col_int_key AS y FROM bb4
AS innr2 LEFT JOIN bb4 AS innr1 ON (innr2.col_int_key <> innr1.col_int_key)
WHERE innr1.col_int_key= 4)"
"DROP FUNCTION seq_1_to_2"
"SELECT NULLIF(COALESCE(x, NULL), 0) FROM t EXCEPT SELECT 1"
"SELECT COALESCE(IF(x, NULL, NULL), x) FROM t EXCEPT SELECT 1"
"SELECT COALESCE(CASE WHEN x THEN NULL ELSE NULL END, x) FROM t EXCEPT SELECT 1"
"SELECT COALESCE(COALESCE(NULL, NULL), x) FROM t EXCEPT SELECT 1"
"INSERT INTO t1 VALUES
(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL),
(1, 1.1, 1.1e100, '1', '1', DATE'2020-01-01', TIME'01:01:01',
TIMESTAMP'2020-01-01 01:01:01', '{""i"":1, ""s"":""1""}', '1', '""1""'),
(2, 2.2, 2.2e100, '2', '2', DATE'2020-02-02', TIME'02:02:02',
TIMESTAMP'2020-02-02 02:02:02', '{""i"":2, ""s"":""2""}', '2', '""2""'),
(3, 3.3, 3.3e100, '3', '3', DATE'2020-03-03', TIME'03:03:03',
TIMESTAMP'2020-03-03 03:03:03', '{""i"":3, ""s"":""3""}', '3', '""3""'),
(4, 4.4, 4.4e100, '4', '4', DATE'2020-04-04', TIME'04:04:04',
TIMESTAMP'2020-04-04 04:04:04', '{""i"":4, ""s"":""4""}', '4', '""4""'),
(5, 5.5, 5.5e100, '5', '5', DATE'2020-05-05', TIME'05:05:05',
TIMESTAMP'2020-05-05 05:05:05', '{""i"":5, ""s"":""5""}', '5', '""5""')"
"set @null = NULL"
"EXECUTE ps USING @null, @int_two, @int_five"
"EXECUTE ps USING @str_one, @null, @str_five"
"EXECUTE ps USING @null, @null, @null"
"EXECUTE ps USING @null, @dec_two, @dec_five"
"EXECUTE ps USING @null, @dbl_two, @dbl_five"
"EXECUTE ps USING @null, @str_two, @str_five"
"SELECT i8 FROM t1
WHERE d IN (DATE'2020-01-01', DATE'2020-02-02', DATE'2020-05-05')"
"EXECUTE ps USING @null, @date_two, @date_five"
"SELECT i8 FROM t1
WHERE t IN (TIME'01:01:01', TIME'02:02:02', TIME'05:05:05')"
"EXECUTE ps USING @null, @time_two, @time_five"
"SELECT i8 FROM t1
WHERE dt IN (TIMESTAMP'2020-01-01 01:01:01',
TIMESTAMP'2020-02-02 02:02:02',
TIMESTAMP'2020-05-05 05:05:05')"
"EXECUTE ps USING @null, @dt_two, @dt_five"
"EXECUTE ps USING @null, @json_two, @json_five"
"EXECUTE ps USING @null, @null, @null, @int_two, @dec_two, @str_two,
@int_five, @dec_five, @str_five"
"EXECUTE ps USING @null, @dec_one, @str_one, @int_two, @null, @str_two,
@int_five, @dec_five, @null"
"CREATE TABLE t(x VARCHAR(10),
gc INTEGER GENERATED ALWAYS AS (x LIKE 'abba' ESCAPE 'b'))"
"INSERT INTO t1 VALUES (B'10101', 127, 8388607, 2147483647,
9223372036854775807, 10.5, 11.5, 12.5)"
"CREATE TRIGGER trg1
BEFORE INSERT ON t1
FOR EACH ROW
INSERT INTO t2 VALUES(CRC32(NEW.a))"
"DROP FUNCTION crc32_func"
exit
"drop function if exists func_26093_a"
"drop function if exists func_26093_b"
"drop function func_26093_a"
"drop function func_26093_b"
"EXPLAIN FORMAT=tree SELECT 1 WHERE RAND() < RAND()"
"SELECT r FROM t LEFT JOIN LATERAL (SELECT i, RAND(0) AS r) AS dt ON TRUE"
"SELECT REGEXP_INSTR(e, 'pattern')
FROM (VALUES ROW('Find pattern'), ROW(NULL), ROW('Find pattern')) AS v(e)"
"SELECT REGEXP_LIKE(e, 'pattern')
FROM (VALUES ROW('Find pattern'), ROW(NULL), ROW('Find pattern')) AS v(e)"
"SELECT REGEXP_REPLACE(e, 'pattern', 'xyz')
FROM (VALUES ROW('Find pattern'), ROW(NULL), ROW('Find pattern')) AS v(e)"
"SELECT REGEXP_SUBSTR(e, 'pattern')
FROM (VALUES ROW('Find pattern'), ROW(NULL), ROW('Find pattern')) AS v(e)"
"DROP FUNCTION r_instr"
"DROP FUNCTION r_like"
"DROP FUNCTION r_replace"
"DROP FUNCTION r_substr"
"DROP FUNCTION IF EXISTS f1_simple_insert"
"DROP FUNCTION IF EXISTS f1_two_inserts"
"DROP FUNCTION IF EXISTS f1_insert_select"
"DROP FUNCTION f1_simple_insert"
"DROP FUNCTION f1_insert_select"
"DROP FUNCTION f1_two_inserts"
"DROP FUNCTION f1_insert_with_two_rows"
"DROP FUNCTION f1_two_inserts_v1"
"SELECT TIMEDIFF(TIME('17:00:00'),TIME('17:00:00'))=TIME('00:00:00') AS 1Eq,
TIMEDIFF(TIME('17:59:00'),TIME('17:00:00'))=TIME('00:00:00') AS 1NEq1,
TIMEDIFF(TIME('18:00:00'),TIME('17:00:00'))=TIME('00:00:00') AS 1NEq2,
TIMEDIFF(TIME('17:00:00'),TIME('17:00:00'))=     '00:00:00'  AS 2Eq,
TIMEDIFF(TIME('17:59:00'),TIME('17:00:00'))=     '00:00:00'  AS 2NEq1,
TIMEDIFF(TIME('18:00:00'),TIME('17:00:00'))=     '00:00:00'  AS 2NEq2,
TIMEDIFF(TIME('17:00:00'),TIME('17:00:00'))=TIME(0)          AS 3Eq,
TIMEDIFF(TIME('17:59:00'),TIME('17:00:00'))=TIME(0)          AS 3NEq1,
TIMEDIFF(TIME('18:00:00'),TIME('17:00:00'))=TIME(0)          AS 3NEq2,
TIME(0) AS Time0, TIME('00:00:00') AS Time00, '00:00:00' AS Literal0000,
TIMEDIFF(TIME('17:59:00'),TIME('17:00:00')),
TIMEDIFF(TIME('17:00:00'),TIME('17:59:00'))"
"""',repeat('a',60),repeat('b',60),repeat('c',60),repeat('d',100)), '""');

select insert('txs',2,1,'hi'),insert('is ',4,0,'a'),insert('txxxxt',2,4,'es');
select replace('aaaa','a','b'),replace('aaaa','aa','b'),replace('aaaa','a','bb'),replace('aaaa','','b'),replace('bbbb','a','c');
select replace(concat(lcase(concat('THIS',' ','IS',' ','A',' ')),ucase('false'),' ','test'),'FALSE','REAL') ;
select soundex(''),soundex('he'),soundex('hello all folks'),soundex('#3556 in bugdb');
select 'mood' sounds like 'mud';
select 'Glazgo' sounds like 'Liverpool';
select null sounds like 'null';
select 'null' sounds like null;
select null sounds like null;
select crc32(""123"");
select sha('abc');
select sha1('abc');
select aes_decrypt(aes_encrypt('abc','1'),'1');
select aes_decrypt(aes_encrypt('abc','1'),1);
select aes_encrypt(NULL,""a"");
select aes_encrypt(""a"",NULL);
select aes_decrypt(NULL,""a"");
select aes_decrypt(""a"",NULL);
select aes_decrypt(""a"",""a"");
select aes_decrypt(aes_encrypt("""",""a""),""a"");
select repeat('monty',5),concat('*',space(5),'*');
select reverse('abc'),reverse('abcd');
select rpad('a',4,'1'),rpad('a',4,'12'),rpad('abcd',3,'12'), rpad(11, 10 , 22), rpad(""ab"", 10, 22);
select lpad('a',4,'1'),lpad('a',4,'12'),lpad('abcd',3,'12'), lpad(11, 10 , 22);
select rpad(741653838,17,'0'),lpad(741653838,17,'0');
select rpad('abcd',7,'ab'),lpad('abcd',7,'ab');
select rpad('abcd',1,'ab'),lpad('abcd',1,'ab');
select rpad('STRING', 20, CONCAT('p','a','d') );
select lpad('STRING', 20, CONCAT('p','a','d') );

select LEAST(NULL,'HARRY','HARRIOT',NULL,'HAROLD'),GREATEST(NULL,'HARRY','HARRIOT',NULL,'HAROLD');
select least(1,2,3) | greatest(16,32,8), least(5,4)*1,greatest(-1.0,1.0)*1,least(3,2,1)*1.0,greatest(1,1.1,1.0),least(""10"",9),greatest(""A"",""B"",""0"");

select quote('\'\"\\test')"
"', 2),substring_index(""1abcd;2abcd;3abcd;4abcd"", '"
"', -2);

explain select sha('abc');
explain select sha1('abc');
explain select soundex('');
explain select 'mood' sounds like 'mud';
explain select aes_decrypt(aes_encrypt('abc','1'),'1');
explain select concat('*',space(5),'*');
explain select reverse('abc');
explain select rpad('a',4,'1');
explain select lpad('a',4,'1');
explain select concat_ws(',','',NULL,'a');
explain select make_set(255,_latin2'a', _latin2'b', _latin2'c');
explain select elt(2,1);
explain select locate(""a"",""b"",2);
explain select format(130,10);
explain select char(0);
explain select conv(130,16,10);
explain select hex(130);
explain select binary 'HE';
explain select export_set(255,_latin2'y', _latin2'n', _latin2' ');
explain select FIELD('b' COLLATE latin1_bin,'A','B');
explain select FIND_IN_SET(_latin1'B', _latin1'a,b,c,d');
explain select collation(conv(130,16,10));
explain select coercibility(conv(130,16,10));
explain select length('\n\t\r\b\0\_\%\\');
explain select bit_length('\n\t\r\b\0\_\%\\');
explain select bit_length('\n\t\r\b\0\_\%\\');
explain select concat('monty',' was here ','again');
explain select length('hello');
explain select char(ascii('h'));
explain select ord('h');
explain select quote(1/0);
explain select crc32(""123"");
explain select replace('aaaa','a','b');
explain select insert('txs',2,1,'hi');
explain select left(_latin2'a',1);
explain select right(_latin2'a',1);
explain select lcase(_latin2'a');
explain select ucase(_latin2'a');
explain select SUBSTR('abcdefg',3,2);
explain select substring_index(""1abcd;2abcd;3abcd;4abcd"", '"
"""',repeat('a',60),
repeat('b',60),
repeat('c',60),
repeat ('d',100)),'""');
SELECT
CONCAT('""',CONCAT_WS('"""
"""',repeat('a',60),
repeat('b',60),
repeat('c',60),
repeat ('d',100)),'""');
SELECT
CONCAT_WS('""',CONCAT_WS('"""
"""',repeat('a',60),
repeat('b',60),
repeat('c',60),
repeat ('d',100)),'""');
SELECT
CONCAT('""',CONCAT('"""
"create trigger t_before before insert on t1
for each row begin
set new.b = t_slow_sysdate();
end
"
"drop function t_slow_sysdate"
"select 1 from t1 where 1 < some (select cast(a as datetime) from t1)"
"SELECT * FROM t1 WHERE TIMESTAMPDIFF(MONTH, a, TIMESTAMP'0000-00-01 00:00:00') IS NULL"
"SELECT * FROM t1 WHERE TIMESTAMPDIFF(MONTH, a, DATE'0000-00-01') IS NULL"
"SELECT CAST(1 AS YEAR) UNION SELECT CAST(1 AS YEAR)"
"INSERT into at VALUES(
x'12345678123456781234567812345678',
x'12345678123456781234567812345678',
x'12345678123456781234567812345678',
x'12345678123456781234567812345678',
x'12345678123456781234567812345678')"
"EVAL $query"
"EVAL CREATE TABLE t3 AS $query"
"CREATE TABLE t1(col1 varchar(100), gcol2 binary(16) AS (uuid_to_bin(col1)) virtual, index(gcol2))"
"EXPLAIN SELECT col1, HEX(gcol2) FROM t1 where gcol2=x'12345679123456781234567812345678'"
"SELECT col1, HEX(gcol2) FROM t1 where gcol2=x'12345679123456781234567812345678'"
"EXPLAIN SELECT col1, HEX(gcol2) FROM t1 where uuid_to_bin(col1)=x'12345679123456781234567812345678'"
"SELECT col1, HEX(gcol2) FROM t1 where uuid_to_bin(col1)=x'12345679123456781234567812345678'"
"CREATE TABLE t2(col1 binary(16), gcol2 varchar(36) AS (bin_to_uuid(col1)) virtual, index(col1), index(gcol2))"
"INSERT into t2(col1) VALUES
(x'12345678123456781234567812345678'),
(x'12345679123456781234567812345678'),
(x'12345670123456781234567812345678')"
"EXPLAIN SELECT HEX(col1), gcol2 FROM t2 where col1=x'12345679123456781234567812345678'"
"SELECT HEX(col1), gcol2 FROM t2 where col1=x'12345679123456781234567812345678'"
"select hex(weight_string('aa' as binary(3)))"
"SELECT HEX(WEIGHT_STRING('ab' AS BINARY(1000000)))"
"CREATE VIEW v5 AS SELECT WEIGHT_STRING(a AS BINARY(2)) AS b FROM t1"
"CREATE VIEW v6 AS SELECT WEIGHT_STRING(a AS BINARY(6)) AS b FROM t1"
"SELECT HEX(WEIGHT_STRING(a AS BINARY(2))) FROM t1"
"SELECT HEX(WEIGHT_STRING(a AS BINARY(6))) FROM t1"
"CREATE TABLE t1(j json, INDEX mv_idx((CAST(j AS UNSIGNED ARRAY))))"
"ALTER TABLE t2 ALTER my_row_id SET VISIBLE"
"ALTER TABLE t1 ENGINE='MYISAM',
ADD COLUMN my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE FIRST,
ADD PRIMARY KEY(my_row_id)"
"CREATE TABLE t1(my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE,
f1 INT, primary key(my_row_id)) ENGINE = 'MyISAM'"
"ALTER TABLE t1 ENGINE='MYISAM', ALTER my_row_id SET VISIBLE"
"ALTER TABLE t1 ENGINE='InnoDB', ALTER my_row_id SET INVISIBLE"
"CREATE TEMPORARY TABLE t1(my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE,
f1 INT, primary key(my_row_id)) ENGINE = 'MyISAM'"
"ALTER TABLE t1 ALTER my_row_id SET VISIBLE"
"ALTER TABLE t1 ALTER my_row_id SET INVISIBLE"
"ALTER TABLE t1 DROP COLUMN f0, MODIFY my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE"
"ALTER TABLE t2 ALTER my_row_id SET INVISIBLE"
"ALTER TABLE t2 DROP COLUMN f0, MODIFY my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE"
"ALTER TABLE t1 ADD COLUMN my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE FIRST,
ADD PRIMARY KEY(my_row_id)"
"CREATE PROCEDURE run_show_and_i_s_stmts() BEGIN
SHOW CREATE TABLE t1;
SHOW COLUMNS FROM t1;
SHOW EXTENDED COLUMNS FROM t1;
SHOW KEYS FROM t1;

-- I_S.TABLES
SELECT TABLE_NAME, AUTO_INCREMENT FROM INFORMATION_SCHEMA.TABLES
WHERE TABLE_NAME='t1';
-- I_S.COLUMNS
SELECT COLUMN_NAME, COLUMN_TYPE, IS_NULLABLE, EXTRA
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME='t1' ORDER BY ORDINAL_POSITION;
-- I_S.COLUMN_EXTENSIONS
SELECT COLUMN_NAME FROM INFORMATION_SCHEMA.COLUMNS_EXTENSIONS
WHERE TABLE_NAME='t1' ORDER BY COLUMN_NAME;
-- I_S.STATISTICS
SELECT INDEX_NAME, COLUMN_NAME FROM INFORMATION_SCHEMA.STATISTICS
WHERE TABLE_NAME='t1' ORDER BY INDEX_NAME, COLUMN_NAME;
-- I_S.KEY_COLUMN_USAGE
SELECT CONSTRAINT_NAME, COLUMN_NAME
FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE WHERE TABLE_NAME='t1'
ORDER BY CONSTRAINT_NAME, COLUMN_NAME;
-- I_S.TABLE_CONSTRAINTS
SELECT CONSTRAINT_NAME, CONSTRAINT_TYPE, ENFORCED
FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS WHERE TABLE_NAME='t1'
ORDER BY CONSTRAINT_NAME;
-- I_S.TABLE_CONSTRAINTS_EXTENSIONS
SELECT CONSTRAINT_NAME FROM INFORMATION_SCHEMA.TABLE_CONSTRAINTS_EXTENSIONS
WHERE TABLE_NAME='t1' ORDER BY CONSTRAINT_NAME;
END;
"
"ALTER TABLE t1 ALTER my_row_id SET VISIBLE, ALGORITHM=INSTANT"
"ALTER TABLE t1 ALTER my_row_id SET INVISIBLE, ALGORITHM=INSTANT"
"ALTER TABLE t1 ALTER my_row_id SET VISIBLE, RENAME COLUMN f1 to f2,
ALGORITHM=INSTANT"
"ALTER TABLE t1 ALTER my_row_id SET INVISIBLE, RENAME COLUMN f2 to f1,
ALGORITHM=INSTANT"
"ALTER TABLE t1 ALTER my_row_id SET VISIBLE, ALGORITHM=INPLACE"
"ALTER TABLE t1 ALTER my_row_id SET INVISIBLE, ALGORITHM=INPLACE"
"ALTER TABLE t1 ALTER my_row_id SET VISIBLE, ADD INDEX (f1), ALGORITHM=INPLACE"
"ALTER TABLE t1 ALTER my_row_id SET INVISIBLE, ADD INDEX(f1),
ALGORITHM=INPLACE"
"ALTER TABLE t1 ALTER my_row_id SET VISIBLE, ALGORITHM=COPY"
"ALTER TABLE t1 ALTER my_row_id SET INVISIBLE, ALGORITHM=COPY"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM performance_schema.events_waits_current
WHERE event_name LIKE '%COND_open'"
"SELECT event_id FROM performance_schema.events_waits_current
WHERE event_name LIKE '%COND_open' INTO @first_wait_id"
"LET $wait_condition=
SELECT event_id != @first_wait_id
FROM performance_schema.events_waits_current
WHERE event_name LIKE '%COND_open'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM information_schema.processlist
WHERE state LIKE 'Waiting for table flush' AND info LIKE 'FLUSH TABLES'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM information_schema.processlist
WHERE state LIKE 'Waiting for table flush' AND info LIKE 'FLUSH TABLES tb'"
"LET $wait_condition=
SELECT COUNT(*) = 0 FROM information_schema.processlist
WHERE state LIKE 'Waiting for table flush' AND info LIKE 'FLUSH TABLES'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM information_schema.processlist
WHERE state LIKE 'Waiting for table metadata lock'
AND info LIKE 'CREATE TABLE tb%'"
"DO ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('POLYGON((525000 183300,525400
183300,525400 18370, 525000 183700,525000 183300))'),
ST_GeomFromText('POLYGON((525298.67 183511.53,525296.57
183510.39,525296.42 183510.31,525289.11 183506.62,525283.17
183503.47,525280.98 183502.26,525278.63 183500.97,525278.39
183500.84,525276.79 183500,525260.7 183491.55,525263.95
183484.75,525265.58 183481.95,525278.97 183488.73,525276.5
183493.45,525275.5 183495.7,525280.35 183498.2,525282.3
183499.1,525282.2 183499.3,525283.55 183500,525301.75
183509.35,525304.45 183504.25,525307.85 183504.95,525304.5
183510.83,525302.81 183513.8,525298.67 183511.53),(525275.06
183489.89,525272.06 183488.37,525268.94 183494.51,525271.94
183496.03,525275.06 183489.89),(525263.26 183491.55,525266.15
183493.04,525269.88 183485.82,525266.99 183484.33,525263.26
183491.55))'))) st_u"
"DO ST_AsText(@centroid_point) as centroid"
"DO MBRWITHIN(@centroid_point, ST_INTERSECTION(ST_GEOMFROMTEXT('MULTILINESTRING((541 -927,-414 316,-429 -444,212 260,-125 104,445 563,-713 -975,-976 514),(-830 882,-377 914,-915 919,-535 -23,-508 979),(806 347,-87 220,226 -22,-12 468,707 598,83 951,-592 701,833 964,270 -932,743 -514,231 469,-575 -122,-99 -245,416 465,801 -587))'), ST_GEOMFROMTEXT('LINESTRING(-96 -182,-373 75,697 687,-881 -463,-557 -959,-493 810)'))) as result"
"DO ST_ASTEXT(ST_UNION(ST_GEOMFROMTEXT('GEOMETRYCOLLECTION(POLYGON((4 -10,-3 0,-5 6,9 9,5 7,9 -6,9 -10,7 9,0 -4,-6 10,0 -3,9 3, 4 -10)),
GEOMETRYCOLLECTION(),
GEOMETRYCOLLECTION(MULTIPOLYGON(((-8 0,-2 -6,-10 -9,-9 7,-2 -10,7 -9,3 -6,-5 -8,-10 -7,-6 10,4 -10,-7 -8,6 -1, -8 0)),((-4 -3,7 -10,-4 -1,-10 -3,3 -3,-10 -4,-1 2,-2 -10,6 -7,-9 -8, -4 -3))),
POINT(5 0),
MULTIPOINT(-3 0,-4 -8,-3 -4,10 4,0 7,-7 2,4 -8,1 -6),
MULTILINESTRING((-10 10,-10 5,9 -9,2 2,-7 2,0 -3,2 3,-6 -4,0 -2),(5 -9,0 -9,6 -4,1 -4,-1 6,2 -9,5 -7,8 10)),
MULTILINESTRING((-10 10,-10 5,9 -9,2 2,-7 2,0 -3,2 3,-6 -4,0 -2),(5 -9,0 -9,6 -4,1 -4,-1 6,2 -9,5 -7,8 10)),
LINESTRING(10 5,-4 7,-5 -8,-4 4,-4 6,-5 9,-1 6,0 -5)),
GEOMETRYCOLLECTION(MULTILINESTRING((-8 5,9 -10,-9 9,-9 4,3 -2,4 -6),(3 -10,3 8,-10 4,6 -3,8 -2,3 3,4 -7,-8 6,-3 2,5 3,0 10,2 4,1 -5,-6 1),(10 3,-4 2,4 -4,3 -1,-8 0,-7 -2,10 9,-5 5,-3 6),(0 3,3 7,0 2,4 -1,8 8,-10 -4,2 7,-4 5)),
POINT(2 -1),
MULTIPOLYGON(((-10 8,1 -4,0 -8,9 2,-8 -6,-3 -7,-10 -1,-10 -9,10 -3, -10 8)),((-6 7,-1 3,2 8,10 -6,-8 4,-9 -10,-8 -8,-2 -1,-9 7,6 -9,5 1,-1 -6, -6 7)),((8 9,0 1,-5 -8,0 8,-3 -6,-9 -2,9 -6,-5 5,-1 -3,-8 2,2 -9,5 -5,7 -7,-9 3,0 -3, 8 9)),((1 -4,-7 -10,10 10,5 3,8 -9,-6 5,2 2,-5 5,-1 5, 1 -4))),
MULTIPOLYGON(((-10 8,1 -4,0 -8,9 2,-8 -6,-3 -7,-10 -1,-10 -9,10 -3, -10 8)),((-6 7,-1 3,2 8,10 -6,-8 4,-9 -10,-8 -8,-2 -1,-9 7,6 -9,5 1,-1 -6, -6 7)),((8 9,0 1,-5 -8,0 8,-3 -6,-9 -2,9 -6,-5 5,-1 -3,-8 2,2 -9,5 -5,7 -7,-9 3,0 -3, 8 9)),((1 -4,-7 -10,10 10,5 3,8 -9,-6 5,2 2,-5 5,-1 5, 1 -4)))),
MULTIPOLYGON(((8 0,7 -6,7 -2,-7 -9,-3 10,-4 -3,3 -10, 8 0)),((7 3,7 6,1 8,4 6,-8 -7,-6 -7,9 -4,-1 3,-7 10, 7 3)),((3 -6,5 4,-3 -6,-5 1,-6 0,0 0,0 -7,-2 -10,-4 8,9 9,4 6, 3 -6)),((7 -7,3 4,-5 0, 7 -7)),((4 -9,-2 -9,-2 10, 4 -9))),
POLYGON((-3 -6,-3 0,3 -10,3 10,1 -4,-6 -10,8 -5,-9 -8,2 -4,9 10,1 -3, -3 -6)),
POLYGON((2 -5,0 -2,-3 9,0 4,6 -6,5 -4,-4 2,-6 6,3 -4,1 0,-10 -7,1 6,-7 2, 2 -5)),
MULTIPOINT(7 8,-6 -3,-1 -7,0 7,-2 1,-8 -8))'),
ST_GEOMFROMTEXT('GEOMETRYCOLLECTION()'))) as result"
"DO ST_ASTEXT(ST_UNION(ST_INTERSECTION(ST_GEOMFROMTEXT('MULTIPOINT(7 2,-4 -5,6 -9,-7 3,-10 5,8 -6,0 -10,10 -4,8 -10,2 6,8 -4,-8 2,-4 2)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((6 2,1 1,-4 5,1 4,-3 -4,-7 9,-10 2,-6 1,10 -7,0 1,9 4, 6 2)))')),
ST_UNION(ST_GEOMFROMTEXT('LINESTRING(-1 -5,0 -6,4 6,3 3,2 8,-2 6,-4 5,6 -7,-1 -1,-8 6,4 -2)'),
ST_GEOMFROMTEXT('MULTIPOLYGON(((5 -4,-5 -9,-1 -6,-3 0,5 -2, 5 -4)),((-5 -10,-8 -2,-3 7,1 5,5 -10,1 -5,0 10,3 2,1 1, -5 -10)),((4 -2,6 3,7 5,1 2,8 -9,-10 -5,7 -10,-2 -9,-2 0,2 -8,-8 3,5 0, 4 -2)),((6 -4,0 4,-8 -2,10 -10,-6 5, 6 -4)))')))) as result"
"create trigger t1_bu before update on t1 for each row set new.s1 = null"
"show create function fn3"
"drop function fn3"
"CREATE TABLE lakes (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
shore POLYGON)"
"CREATE TABLE road_segments (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
aliases CHARACTER VARYING(64),
num_lanes INTEGER,
centerline LINESTRING)"
"CREATE TABLE divided_routes (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
num_lanes INTEGER,
centerlines MULTILINESTRING)"
"CREATE TABLE forests (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
boundary MULTIPOLYGON)"
"CREATE TABLE bridges (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
position POINT)"
"CREATE TABLE streams (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
centerline LINESTRING)"
"CREATE TABLE buildings (
fid INTEGER NOT NULL PRIMARY KEY,
address CHARACTER VARYING(64),
position POINT,
footprint POLYGON)"
"CREATE TABLE ponds (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
type CHARACTER VARYING(64),
shores MULTIPOLYGON)"
"CREATE TABLE named_places (
fid INTEGER NOT NULL PRIMARY KEY,
name CHARACTER VARYING(64),
boundary POLYGON)"
"SELECT ST_X(position)
FROM bridges
WHERE name = 'Cam Bridge'"
"SELECT ST_Y(position)
FROM bridges
WHERE name = 'Cam Bridge'"
"SELECT ST_Distance(position, boundary)
FROM bridges, named_places
WHERE bridges.name = 'Cam Bridge'
AND named_places.name = 'Ashton'"
"SELECT count(*)
FROM buildings, bridges
WHERE ST_Contains(ST_Buffer(bridges.position, 15.0), buildings.footprint) = 1"
"ALTER TABLE t1 ALGORITHM=COPY, MODIFY COLUMN b GEOMETRY NOT NULL"
"CREATE TABLE t1 (g GEOMCOLLECTION)"
"create user mysqltest_1@localhost"
"revoke all privileges on mysqltest.* from mysqltest_1@localhost"
"create user mysqltest_2@localhost, mysqltest_3@localhost"
"revoke all on test.* from mysqltest_3@localhost"
"grant all on test.t1 to mysqltest_2@localhost with grant option"
"revoke all on test.t1 from mysqltest_2@localhost"
"revoke grant option on test.t1 from mysqltest_2@localhost"
"create user test6123 identified by 'magic123'"
"create user drop_user@localhost, drop_user2@localhost"
"grant select(a) on test.t1 to drop_user@localhost"
"create user drop_user1@localhost, drop_user3@localhost, drop_user4@localhost"
"grant select(a) on test.t1 to drop_user1@localhost"
"grant select on test.t1 to drop_user2@localhost"
"create user mysqltest_1@localhost identified by ""password"""
"CREATE DATABASE ÂÄ"
"USE ÂÄ"
"CREATE TABLE ÔÁÂ (ËÏÌ INT)"
"CREATE USER ÀÚÅÒ@localhost"
"GRANT SELECT ON ÂÄ.* TO ÀÚÅÒ@localhost"
"SHOW GRANTS FOR ÀÚÅÒ@localhost"
"REVOKE SELECT ON ÂÄ.* FROM ÀÚÅÒ@localhost"
"GRANT SELECT ON ÂÄ.ÔÁÂ TO ÀÚÅÒ@localhost"
"REVOKE SELECT ON ÂÄ.ÔÁÂ FROM ÀÚÅÒ@localhost"
"GRANT SELECT (ËÏÌ) ON ÂÄ.ÔÁÂ TO ÀÚÅÒ@localhost"
"REVOKE SELECT (ËÏÌ) ON ÂÄ.ÔÁÂ FROM ÀÚÅÒ@localhost"
"DROP USER ÀÚÅÒ@localhost"
"DROP DATABASE ÂÄ"
"create user testuser@localhost"
"CREATE TABLE t4 LIKE t1"
"CREATE TABLE t5 LIKE t1"
"CREATE TABLE t6 LIKE t1"
"CREATE TABLE t7 LIKE t1"
"CREATE TABLE t8 LIKE t1"
"CREATE TABLE t9 LIKE t1"
"CREATE TABLE t10 LIKE t1"
"GRANT SELECT ON test.t1 TO testuser@localhost"
"GRANT SELECT ON test.t2 TO testuser@localhost"
"GRANT SELECT ON test.t3 TO testuser@localhost"
"GRANT SELECT ON test.t4 TO testuser@localhost"
"GRANT SELECT ON test.t5 TO testuser@localhost"
"GRANT SELECT ON test.t6 TO testuser@localhost"
"GRANT SELECT ON test.t7 TO testuser@localhost"
"GRANT SELECT ON test.t8 TO testuser@localhost"
"GRANT SELECT ON test.t9 TO testuser@localhost"
"GRANT SELECT ON test.t10 TO testuser@localhost"
"GRANT SELECT (a) ON test.t1 TO testuser@localhost"
"GRANT SELECT (a) ON test.t2 TO testuser@localhost"
"GRANT SELECT (a) ON test.t3 TO testuser@localhost"
"GRANT SELECT (a) ON test.t4 TO testuser@localhost"
"GRANT SELECT (a) ON test.t5 TO testuser@localhost"
"GRANT SELECT (a) ON test.t6 TO testuser@localhost"
"GRANT SELECT (a) ON test.t7 TO testuser@localhost"
"GRANT SELECT (a) ON test.t8 TO testuser@localhost"
"GRANT SELECT (a) ON test.t9 TO testuser@localhost"
"GRANT SELECT (a) ON test.t10 TO testuser@localhost"
"create user grant_user@localhost"
"revoke ALL PRIVILEGES on t1 from grant_user@localhost"
"create user mysqltest_3@localhost"
"grant update (a) on mysqltest_1.t1 to mysqltest_3@localhost"
"grant select (b) on mysqltest_1.t2 to mysqltest_3@localhost"
"grant select (c) on mysqltest_2.t1 to mysqltest_3@localhost"
"grant update (d) on mysqltest_2.t2 to mysqltest_3@localhost"
"revoke all on mysqltest_1.t1 from mysqltest_3@localhost"
"revoke all on mysqltest_1.t2 from mysqltest_3@localhost"
"revoke all on mysqltest_2.t1 from mysqltest_3@localhost"
"revoke all on mysqltest_2.t2 from mysqltest_3@localhost"
"grant select on mysqltest_2.t1 to mysqltest_3@localhost"
"grant all on mysqltest.t1 to mysqltest_1@localhost"
"revoke all privileges on mysqltest.t1 from mysqltest_1@localhost"
"CREATE USER dummy@localhost"
"GRANT ALL PRIVILEGES ON mysqltest.dummytable TO dummy@localhost"
"GRANT ALL PRIVILEGES ON mysqltest.dummyview TO dummy@localhost"
"GRANT CREATE VIEW ON mysqltest.dummytable TO dummy@localhost"
"GRANT CREATE VIEW ON mysqltest.dummyview TO dummy@localhost"
"GRANT SHOW VIEW ON mysqltest.dummytable TO dummy@localhost"
"GRANT SHOW VIEW ON mysqltest.dummyview TO dummy@localhost"
"create database ÂÄ"
"grant select on ÂÄ.* to root@localhost"
"drop database ÂÄ"
"revoke select on ÂÄ.* from root@localhost"
"create user mysqltest_7@"
"alter user mysqltest_7@ identified by 'systpass'"
"show grants for mysqltest_7@"
"drop user mysqltest_7@"
"CREATE USER mysqltest1@'%', mysqltest1@'192.%'"
"GRANT DELETE ON mysqltest.t1 TO mysqltest1@'%'"
"GRANT SELECT ON mysqltest.t1 TO mysqltest1@'192.%'"
"create user user27515@localhost"
"grant alter on db27515.t1 to user27515@localhost"
"grant insert, create on db27515.t2 to user27515@localhost"
"create user mysqltest_8@''"
"create user mysqltest_8"
"create user mysqltest_8@host8"
"grant select on mysqltest.* to mysqltest_8@"
"show grants for mysqltest_8@"
"CREATE USER 'mysqltest_1'@'localhost' IDENTIFIED BY 'mysqltest_1'"
"GRANT SHOW VIEW        ON mysqltest2.v_ny TO 'mysqltest_1'@'localhost'"
"GRANT SELECT           ON mysqltest2.v_yn TO 'mysqltest_1'@'localhost'"
"GRANT SHOW VIEW,SELECT ON mysqltest2.v_yy TO 'mysqltest_1'@'localhost'"
"GRANT SELECT ON mysqltest1.t1 TO mysqltest_1@localhost"
"GRANT DROP ON mysqltest1.t1 TO mysqltest_1@localhost"
"GRANT ALTER ON mysqltest1.t1 TO mysqltest_1@localhost"
"GRANT INSERT, CREATE ON mysqltest1.t1 TO mysqltest_1@localhost"
"REVOKE DROP, INSERT ON mysqltest1.t1 FROM mysqltest_1@localhost"
"REVOKE DROP, INSERT ON mysqltest1.t2 FROM mysqltest_1@localhost"
"CREATE USER bug23556@localhost"
"GRANT EXECUTE ON PROCEDURE mysqltest1.p_def TO mysqltest_1@localhost"
"GRANT EXECUTE ON PROCEDURE mysqltest2.p_inv TO mysqltest_1@localhost"
"GRANT EXECUTE ON FUNCTION mysqltest3.f_def TO mysqltest_1@localhost"
"GRANT EXECUTE ON FUNCTION mysqltest4.f_inv TO mysqltest_1@localhost"
"CREATE USER mysqltest_1@localhost, mysqltest_2@localhost"
"GRANT SELECT ON mysqltest2.t2 TO mysqltest_2@localhost"
"REVOKE SELECT ON mysqltest1.t1 FROM mysqltest_1@localhost"
"REVOKE SELECT ON mysqltest2.t2 FROM mysqltest_2@localhost"
"CREATE USER 'mysqltest_1'@'localhost'"
"REVOKE UPDATE (f1) ON `test`.`t1` FROM 'mysqltest_1'@'localhost'"
"REVOKE ALL ON db27878.* FROM 'mysqltest_1'@'localhost'"
"drop function if exists test_function"
"create user 'greg'@'localhost'"
"drop function test_function"
"CREATE USER testuser@localhost"
"GRANT CREATE ROUTINE, EXECUTE ON mysqltest1.* TO testuser@localhost"
"create user mysqluser1@localhost"
"grant execute on function mysqltest1.f1 to mysqluser1@localhost"
"grant execute on procedure mysqltest1.p1 to mysqluser1@localhost"
"create user mysqluser11@localhost"
"grant execute on function mysqltest1.f1 to mysqluser11@localhost"
"grant execute on procedure mysqltest1.p1 to mysqluser11@localhost"
"grant select on mysqltest1.t22 to mysqluser1@localhost"
"grant select on mysqltest1.t11 to mysqluser1@localhost"
"create user ÑŽÐ·ÐµÑ€_ÑŽÐ·ÐµÑ€@localhost"
"grant select on test.* to ÑŽÐ·ÐµÑ€_ÑŽÐ·ÐµÑ€@localhost"
"revoke all on test.* from ÑŽÐ·ÐµÑ€_ÑŽÐ·ÐµÑ€@localhost"
"drop user ÑŽÐ·ÐµÑ€_ÑŽÐ·ÐµÑ€@localhost"
"create user mysqltest@localhost"
"grant select, insert on mysqltest.t2 to mysqltest@localhost"
"grant         insert on mysqltest.t4 to mysqltest@localhost"
"grant create, insert on mysqltest.t5 to mysqltest@localhost"
"grant create, insert on mysqltest.t6 to mysqltest@localhost"
"revoke select, insert on mysqltest.t2 from mysqltest@localhost"
"revoke insert         on mysqltest.t4 from mysqltest@localhost"
"revoke create, insert on mysqltest.t5 from mysqltest@localhost"
"revoke create, insert on mysqltest.t6 from mysqltest@localhost"
"CREATE USER 'userbug33464'@'localhost'"
"GRANT CREATE ROUTINE ON dbbug33464.* TO 'userbug33464'@'localhost'"
"DROP FUNCTION fn1"
"DROP FUNCTION fn2"
"CREATE USER user2"
"GRANT CREATE ROUTINE ON db1.* TO 'user1'@'localhost'"
"GRANT CREATE ROUTINE ON db1.* TO 'user2'@'%'"
"CREATE PROCEDURE db1.proc1(p1 INT)
BEGIN
SET @x = 0;
REPEAT SET @x = @x + 1; UNTIL @x > p1 END REPEAT;
END ;"
"CREATE PROCEDURE db1.proc2(p1 INT)
BEGIN
SET @x = 0;
REPEAT SET @x = @x + 1; UNTIL @x > p1 END REPEAT;
END ;"
"REVOKE ALL ON db1.* FROM 'user1'@'localhost'"
"REVOKE ALL ON db1.* FROM 'user2'@'%'"
"CREATE USER 'testbug'@localhost"
"create user myuser@Localhost identified by 'foo'"
"GRANT ALTER ROUTINE           ON mysqltest_db1.* TO mysqltest_u1@localhost"
"GRANT CREATE ROUTINE          ON mysqltest_db1.* TO mysqltest_u1@localhost"
"GRANT GRANT OPTION            ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT SELECT ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT INSERT ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT UPDATE ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT DELETE ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT CREATE ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT DROP ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT ALTER ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT INDEX ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT REFERENCES ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT CREATE VIEW ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"GRANT SHOW VIEW ON mysqltest_db1.t1 TO mysqltest_u1@localhost"
"CREATE USER 'untrusted'@localhost"
"CREATE USER foo@'127.0.0.1'"
"CREATE USER 'wl7131' IDENTIFIED BY 'wl7131'"
"CREATE USER 'wl7131'"
"CREATE USER 'wl7131'@'localhost' IDENTIFIED BY 'wl7131'"
"CREATE USER user_name_len_16@localhost"
"CREATE USER user_name_len_22_01234@localhost"
"CREATE USER user_name_len_32_012345678901234@localhost"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"GRANT CREATE ON mysqltest.* TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"GRANT CREATE ON mysqltest.* TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"GRANT CREATE ON mysqltest.* TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"REVOKE CREATE ON mysqltest.* FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"REVOKE CREATE ON mysqltest.* FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"REVOKE CREATE ON mysqltest.* FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"GRANT CREATE ON t1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"GRANT CREATE ON t1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"GRANT CREATE ON t1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"REVOKE CREATE ON t1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"REVOKE CREATE ON t1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"REVOKE CREATE ON t1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"GRANT SELECT ON t1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"GRANT SELECT ON t1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"GRANT SELECT ON t1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"REVOKE SELECT ON t1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"REVOKE SELECT ON t1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"REVOKE SELECT ON t1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"GRANT EXECUTE ON PROCEDURE p1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"GRANT EXECUTE ON PROCEDURE p1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"GRANT EXECUTE ON PROCEDURE p1 TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"REVOKE EXECUTE ON PROCEDURE p1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"REVOKE EXECUTE ON PROCEDURE p1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"REVOKE EXECUTE ON PROCEDURE p1 FROM Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"CREATE USER user_name_len_25_01234567@localhost"
"GRANT INSERT ON db_1.test_table TO user_name_len_25_01234567@localhost"
"GRANT SELECT ON db_1.test_table TO user_name_len_25_01234567@localhost"
"GRANT UPDATE ON db_1.test_table TO user_name_len_25_01234567@localhost"
"GRANT DELETE ON db_1.test_table TO user_name_len_25_01234567@localhost"
"DROP USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·@localhost"
"DROP USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€@localhost"
"DROP USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"CONNECT (conn_su,localhost,user_name_len_22_01234,,)"
"CREATE USER proxy_sha2_0123456789@localhost IDENTIFIED WITH caching_sha2_password"
"CREATE USER 'untrusted8657'@'localhost'"
"CREATE USER 'untrusted8063'@'localhost'"
"CREATE USER mysqluser1@localhost, MySQLuser1@localhost"
"CREATE USER mysqltest@localhost"
"GRANT ALL PRIVILEGES ON mysqltest.visible TO mysqltest@localhost"
"GRANT ALL PRIVILEGES ON mysqltest.v0 TO mysqltest@localhost"
"GRANT SELECT(s1, s2, u1, u2, i1, i2) ON mysqltest.cols TO mysqltest@localhost"
"GRANT INSERT(s1, s2, u1, u2, i1, i2) ON mysqltest.cols TO mysqltest@localhost"
"GRANT UPDATE(u1, u2) ON mysqltest.cols TO mysqltest@localhost"
"GRANT DELETE ON mysqltest.cols TO mysqltest@localhost"
"GRANT SELECT(i1, i2, i3) ON mysqltest.ins TO mysqltest@localhost"
"GRANT INSERT(i1, i2, i3) ON mysqltest.ins TO mysqltest@localhost"
"GRANT UPDATE(i1, i2, i3) ON mysqltest.ins TO mysqltest@localhost"
"GRANT SELECT(b1, b2) ON mysqltest.source TO mysqltest@localhost"
"GRANT SELECT(s1, s2, u1, u2, i1, i2) ON mysqltest.v1 TO mysqltest@localhost"
"GRANT INSERT(s1, s2, u1, u2, i1, i2) ON mysqltest.v1 TO mysqltest@localhost"
"GRANT UPDATE(u1, u2) ON mysqltest.v1 TO mysqltest@localhost"
"GRANT DELETE ON mysqltest.v1 TO mysqltest@localhost"
"GRANT EXECUTE ON FUNCTION mysqltest.f1 TO mysqltest@localhost"
"GRANT EXECUTE ON PROCEDURE mysqltest.p1 TO mysqltest@localhost"
"GRANT EXECUTE ON PROCEDURE mysqltest.p2 TO mysqltest@localhost"
"REVOKE ALL PRIVILEGES ON mysqltest.v0 FROM mysqltest@localhost"
"REVOKE SELECT(s2) ON mysqltest.v1 FROM mysqltest@localhost"
"REVOKE INSERT(i2,s2,u2) ON mysqltest.v1 FROM mysqltest@localhost"
"REVOKE UPDATE(u2) ON mysqltest.v1 FROM mysqltest@localhost"
"REVOKE ALL PRIVILEGES ON mysqltest.visible FROM mysqltest@localhost"
"REVOKE SELECT(s2) ON mysqltest.cols FROM mysqltest@localhost"
"REVOKE INSERT(i2,s2,u2) ON mysqltest.cols FROM mysqltest@localhost"
"REVOKE UPDATE(u2) ON mysqltest.cols FROM mysqltest@localhost"
"REVOKE SELECT(i2) ON mysqltest.ins FROM mysqltest@localhost"
"REVOKE SELECT(b2) ON mysqltest.source FROM mysqltest@localhost"
"REVOKE EXECUTE ON FUNCTION mysqltest.f1 FROM mysqltest@localhost"
"REVOKE EXECUTE ON PROCEDURE mysqltest.p1 FROM mysqltest@localhost"
"DROP FUNCTION mysqltest.f1"
"CREATE USER 'user01'@'localhost' IDENTIFIED BY ''"
"CREATE USER 'user02'@'localhost' IDENTIFIED BY ''"
"CREATE DEFINER='user01'@'localhost' TRIGGER test02.trg01
AFTER UPDATE ON test02.tbl01 FOR EACH ROW
UPDATE test02.tbl02 SET a = (SELECT a FROM test01.c WHERE id = 1) WHERE id = NEW.id"
"GRANT SELECT, UPDATE, INSERT on test02.tbl01 TO 'user02'@'localhost'"
"GRANT EXECUTE ON FUNCTION test02.sf to 'user02'@'localhost'"
"CREATE USER bug33578113"
"create user mysqltest_1@localhost, mysqltest_3@localhost, mysqltest_4@localhost"
"create user mysqltest_2@localhost"
"create user mysqltest_1@localhost, mysqltest_2@localhost,
mysqltest_3@localhost, mysqltest_4@localhost"
"create user  mysqltest_1@localhost"
"create user mysqltest_1@host1"
"create user mysqltest_2@host2"
"create user mysqltest_3@host3"
"create user mysqltest_4@host4"
"create user mysqltest_5@host5"
"create user mysqltest_6@host6"
"create user mysqltest_7@host7"
"create user 'mysqltest_1'"
"create user 'mysqltest_2' identified by 'Mysqltest-2'"
"grant update on test.t1 to 'mysqltest_2'"
"grant update (c2) on test.t2 to 'mysqltest_2'"
"create user 'mysqltest_1', 'mysqltest_2', 'mysqltest_3'"
"create user 'mysqltest_1', 'mysqltest_2' identified by 'Mysqltest-2', 'mysqltest_3' identified by 'haha'"
"create user 'mysqltest_1a', 'mysqltest_3a'"
"create user '%@b'@'b'"
"create user mysqltest_A@'%'"
"create user mysqltest_1@'127.0.0.0/255.0.0.0'"
"GRANT ALL ON mysqltest_1.t1 TO mysqltest_1@'127.0.0.0/255.0.0.0'"
"REVOKE ALL ON mysqltest_1.t1 FROM mysqltest_1@'127.0.0.0/255.0.0.0'"
"create user mysqltest_1@'127.0.0.1'"
"revoke all on mysqltest_1.* from mysqltest_1@'127.0.0.1'"
"revoke all on mysqltest_1.* from mysqltest_1@'127.0.0.0/255.0.0.0'"
"create user 'mysqltest_1'@'localhost'"
"CREATE USER `a@`@localhost"
"DROP FUNCTION IF EXISTS f2"
"create user mysqltest_u1@localhost"
"grant select on mysqltest_2.t1 to mysqltest_u1@localhost"
"create table t1 like mysqltest_2.t1"
"create user mysqltest_1@localhost, mysqltest_2@localhost"
"grant select on mysqltest_1.t1 to mysqltest_2@localhost"
"CREATE USER mysqltest1@localhost"
"SELECT authentication_string FROM user WHERE user=@u AND host=@h INTO @pwd"
"CREATE USER mysqltest_u1@localhost, mysqltest_u2@localhost,
mysqltest_u3@localhost, mysqltest_u4@localhost,
mysqltest_u5@localhost"
"CREATE TEMPORARY TABLE t2 LIKE t1"
"CREATE TEMPORARY TABLE t6(a INT) ENGINE = MERGE UNION = ()"
"ALTER TABLE t6 UNION = ()"
"ALTER TABLE mysqltest_db2.t2_2 UNION = ()"
"create user CUser@localhost"
"grant select on test.t1 to CUser@localhost"
"grant select on test.t1 to CUser@LOCALHOST"
"create user  CUser@localhost"
"grant select(a) on test.t1 to CUser@localhost"
"grant select(a) on test.t1 to CUser@LOCALHOST"
"create user  CUser2@LOCALHOST"
"CREATE USER 'mysqltest1'@'%'"
"CREATE USER 'user1'@'%'"
"GRANT SELECT (a), INSERT (b) ON `temp`.`t1` TO 'user2'@'%'"
"create table t_select_priv like t_column_priv_only"
"create table t_no_priv like t_column_priv_only"
"grant insert (a) on mysqltest_db1.t_column_priv_only to mysqltest_u1@localhost"
"grant select on mysqltest_db1.t_select_priv to mysqltest_u1@localhost"
"create table test.t_duplicated like mysqltest_db1.t_select_priv"
"CREATE USER ''@''"
"GRANT EXECUTE ON PROCEDURE sys.table_exists TO ''@''"
"grant insert, select on mysqltest_db1.t1 to mysqltest_u1@localhost"
"flush table mysqltest_db1.t1"
"CREATE USER u1@localhost"
"CREATE USER u2@localhost IDENTIFIED BY 'auth_string'"
"CREATE USER u3@localhost IDENTIFIED WITH 'sha256_password'"
"CREATE USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER u5@localhost REQUIRE SSL"
"CREATE USER u6@localhost IDENTIFIED BY 'auth_string' REQUIRE X509"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" PASSWORD EXPIRE NEVER"
"CREATE USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE ISSUER 'issuer'"
"CREATE USER u9@localhost REQUIRE SUBJECT 'sub'"
"CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" AND
SUBJECT ""/C=SE/ST=Uppsala/O=MySQL AB""
ISSUER ""/C=SE/ST=Uppsala/L=Uppsala/O=MySQL AB"""
"CREATE USER u11@localhost WITH MAX_QUERIES_PER_HOUR 2"
"CREATE USER u12@localhost IDENTIFIED BY 'auth_string'  WITH MAX_QUERIES_PER_HOUR 2"
"CREATE USER u13@localhost IDENTIFIED WITH 'sha256_password'
WITH MAX_CONNECTIONS_PER_HOUR 2"
"CREATE USER u14@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
WITH MAX_USER_CONNECTIONS 2 PASSWORD EXPIRE INTERVAL 6 DAY"
"CREATE USER u15@localhost,
u16@localhost IDENTIFIED BY 'auth_string',
u17@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string' PASSWORD EXPIRE"
"CREATE USER u18@localhost,
u19@localhost IDENTIFIED BY 'auth_string',
u20@localhost IDENTIFIED WITH 'sha256_password',
u21@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE SUBJECT '/C=SE/ST=Uppsala/O=MySQL AB' WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2
PASSWORD EXPIRE NEVER"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password'
BY 'auth_string' REQUIRE CIPHER 'cipher'"
"CREATE USER u14@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
WITH MAX_USER_CONNECTIONS 2"
"CREATE USER u15@localhost,
u16@localhost IDENTIFIED WITH 'sha256_password',
u17@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER u18@localhost,
u19@localhost IDENTIFIED BY 'auth_string',
u20@localhost IDENTIFIED WITH 'sha256_password',
u21@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE SUBJECT '/C=SE/ST=Uppsala/O=MySQL AB' WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"CREATE USER u1@localhost PASSWORD EXPIRE NEVER"
"CREATE USER u1@localhost PASSWORD EXPIRE DEFAULT"
"CREATE USER u1@localhost PASSWORD EXPIRE INTERVAL 4 DAY"
"CREATE USER u1@localhost PASSWORD EXPIRE"
"CREATE USER u1@localhost IDENTIFIED BY 'abc'"
"ALTER USER user() IDENTIFIED BY 'abc'"
"CREATE USER u1@localhost, u2@localhost IDENTIFIED BY 'abc'"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE CIPHER 'ECDHE-RSA-AES128-GCM-SHA256'"
"CREATE USER u15@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE SUBJECT '/C=SE/ST=Uppsala/O=MySQL AB' ISSUER ""/C=SE/ST=Uppsala/L=Uppsala/O=MySQL AB""
CIPHER 'ECDHE-RSA-AES128-GCM-SHA256' WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"CREATE USER u16@localhost IDENTIFIED BY 'auth_string' PASSWORD EXPIRE"
"CREATE USER u17@localhost WITH MAX_QUERIES_PER_HOUR 200
MAX_USER_CONNECTIONS 2 PASSWORD EXPIRE NEVER"
"CREATE USER u18@localhost IDENTIFIED WITH 'sha256_password' PASSWORD EXPIRE INTERVAL 365 DAY"
"CREATE USER u19@localhost REQUIRE SUBJECT '/C=SE/ST=Uppsala/O=MySQL AB'
ISSUER ""/C=SE/ST=Uppsala/L=Uppsala/O=MySQL AB""
PASSWORD EXPIRE DEFAULT"
"CREATE USER '20553132_u3'@'%'"
"CREATE USER bug20634154@localhost IDENTIFIED BY 'abc'"
"CREATE USER bug22205360@localhost"
"EOF



SELECT 1"
"CREATE USER user1"
"CREATE USER ""user2""@'%'"
"CREATE USER user10@localhost
IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'"
"CREATE USER user4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER user6@localhost IDENTIFIED WITH 'caching_sha2_password'"
"CREATE USER user7@localhost
IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string#%y'"
"CREATE USER user8@localhost
IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string'
PASSWORD EXPIRE NEVER"
"CREATE USER tu1@localhost IDENTIFIED WITH 'test_plugin_server'"
"CREATE USER tu2@localhost IDENTIFIED WITH 'test_plugin_server'
BY 'auth_@13*' PASSWORD EXPIRE"
"CREATE USER tu3@localhost IDENTIFIED WITH 'test_plugin_server' AS '%auth_O0s-tring'"
"CREATE USER tu4@localhost IDENTIFIED WITH 'test_plugin_server' BY 'djgsj743$'
REQUIRE SSL"
"CREATE USER tu5@localhost IDENTIFIED WITH 'test_plugin_server' AS 'dwh@#ghd$!'
REQUIRE X509"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password' REQUIRE CIPHER 'cipher'"
"CREATE USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA'
PASSWORD EXPIRE NEVER"
"CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string#y'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" AND
SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
PASSWORD EXPIRE DEFAULT"
"CREATE USER tu6@localhost IDENTIFIED WITH 'test_plugin_server' AS '#hGrt0O6'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" AND
SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"CREATE USER u12@localhost IDENTIFIED BY 'auth_string'
WITH MAX_QUERIES_PER_HOUR 2 PASSWORD EXPIRE NEVER"
"CREATE USER u14@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
WITH MAX_USER_CONNECTIONS 2  PASSWORD EXPIRE INTERVAL 999 DAY"
"CREATE USER u15@localhost,
u16@localhost IDENTIFIED BY 'auth_string',
u17@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER u18@localhost,
u19@localhost IDENTIFIED BY 'auth_string',
u20@localhost IDENTIFIED WITH 'sha256_password',
u21@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string',
u22@localhost IDENTIFIED WITH 'test_plugin_server',
u23@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_&string'
REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'
WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"CREATE USER u2@localhost IDENTIFIED WITH 'caching_sha2_password'"
"ALTER USER USER() IDENTIFIED BY 'abc'"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE CIPHER 'ECDHE-RSA-AES128-GCM-SHA256'"
"CREATE USER u8@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA'"
"CREATE USER tu1@localhost IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string' REQUIRE ISSUER 'issuer'"
"CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" AND
SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA"""
"CREATE USER u12@localhost IDENTIFIED BY 'auth_string'
WITH MAX_QUERIES_PER_HOUR 2"
"ALTER USER USER() IDENTIFIED BY 'new_pwd_string'"
"CREATE USER tu2@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
WITH MAX_USER_CONNECTIONS 2 "
"CREATE USER u18@localhost,
u19@localhost IDENTIFIED BY 'auth_string',
u20@localhost IDENTIFIED WITH 'sha256_password',
u21@localhost IDENTIFIED WITH 'sha256_password' BY '!Y_TOdh6)',
u22@localhost IDENTIFIED WITH 'sha256_password',
u23@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_&string'
REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'
WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"CREATE USER 'u2'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string'
REQUIRE NONE"
"CREATE USER user1@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER user2@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string'"
"CREATE USER u6@localhost IDENTIFIED BY 'auth_string'
REQUIRE X509 PASSWORD EXPIRE INTERVAL 5 DAY"
"CREATE USER 'u6'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
REQUIRE X509 PASSWORD EXPIRE INTERVAL 19 DAY"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE CIPHER 'cipher'"
"CREATE USER u15@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
CIPHER 'cipher' WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"CREATE USER 'u15'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'
ISSUER '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA'
CIPHER 'cipher'
WITH MAX_QUERIES_PER_HOUR 60 MAX_UPDATES_PER_HOUR 100
MAX_CONNECTIONS_PER_HOUR 1000 MAX_USER_CONNECTIONS 20
PASSWORD EXPIRE DEFAULT"
"CREATE USER user1@localhost IDENTIFIED WITH 'caching_sha2_password'
AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
WITH MAX_CONNECTIONS_PER_HOUR 1000 MAX_USER_CONNECTIONS 20
MAX_QUERIES_PER_HOUR 60 MAX_UPDATES_PER_HOUR 100"
"CREATE USER user3@localhost IDENTIFIED BY 'auth_string'"
"CREATE USER user1@localhost IDENTIFIED BY 'auth_string'"
"CREATE USER user2@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string1'"
"CREATE USER user3@localhost IDENTIFIED  BY 'auth_string'"
"CREATE USER user5@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string1'"
"CREATE USER user6@localhost IDENTIFIED BY 'auth_string'"
"CREATE USER u1 IDENTIFIED WITH 'caching_sha2_password' BY 'azundris1'"
"CREATE USER user8@localhost IDENTIFIED WITH 'caching_sha2_password'
AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'"
"CREATE USER user1@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE SSL"
"CREATE USER user11@localhost IDENTIFIED WITH 'caching_sha2_password'
PASSWORD EXPIRE NEVER ACCOUNT LOCK"
"CREATE USER user12@localhost IDENTIFIED WITH 'sha256_password'
PASSWORD EXPIRE NEVER"
"CREATE USER u2@localhost IDENTIFIED BY 'meow'"
"CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" AND
SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2"
"ALTER USER user11@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256"" AND
SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
PASSWORD EXPIRE  DEFAULT ACCOUNT UNLOCK"
"ALTER USER user12@localhost IDENTIFIED WITH 'caching_sha2_password'
AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
ACCOUNT UNLOCK PASSWORD  EXPIRE INTERVAL 90 DAY"
"CREATE USER user13@localhost IDENTIFIED BY 'auth_string' ACCOUNT UNLOCK"
"CREATE USER user14@localhost IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
ACCOUNT LOCK"
"CREATE USER user15@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'azundris1'
PASSWORD EXPIRE NEVER ACCOUNT UNLOCK"
"CREATE USER user16@localhost IDENTIFIED WITH 'caching_sha2_password' AS  '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
ACCOUNT LOCK PASSWORD EXPIRE NEVER"
"ALTER USER USER() IDENTIFIED BY 'new-auth'"
"CREATE USER user1@localhost IDENTIFIED WITH 'sha256_password' REQUIRE SSL"
"CREATE USER user16@localhost IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'
ACCOUNT LOCK PASSWORD EXPIRE NEVER"
"CREATE USER user10@localhost IDENTIFIED WITH 'caching_sha2_password' AS '$A$005$ABCDEFGHIJKLMNOPQRSTabcdefgh01234567ijklmnop89012345ABCDEFGH678'"
"CREATE USER bug20364862_user@localhost IDENTIFIED WITH test_plugin_server AS 'bug20364862_dest'"
"CREATE USER bug20364862_dest@localhost IDENTIFIED BY 'dest_password'"
"CREATE USER user1@47.9.9.9 IDENTIFIED BY 'pass1'"
"CREATE USER user2 IDENTIFIED BY 'pass2'"
"SHOW CREATE USER user1@47.9.9.9"
"REVOKE ALL ON *.* FROM user1@localhost"
"CREATE USER bug20625566_user@localhost IDENTIFIED WITH test_plugin_server
AS 'bug20625566_dest'"
"CREATE USER bug20625566_dest@localhost IDENTIFIED BY 'dest_password'"
"DROP USER user1@localhost, user1@47.9.9.9, user2,
bug20625566_user@localhost, bug20625566_dest@localhost"
"CREATE USER user_name_robert_golebiowski1234@oh_my_gosh_this_is_a_long_hostname_look_at_it_it_has_60_char"
"CREATE USER user_name_robert_golebiowski1234@localhost"
"CREATE USER some_user@localhost"
"GRANT SELECT ON db_1.test_table TO some_user@localhost"
"CREATE USER u1@localhost IDENTIFIED BY 'foo'"
"ALTER USER u1@localhost DEFAULT ROLE r1"
"CREATE USER 'u1'@'localhost' IDENTIFIED BY '123'"
"REVOKE ALL ON *.* FROM u1@localhost"
"CREATE USER u2@localhost IDENTIFIED BY 'foo'"
"CREATE USER u1, u1@localhost"
"REVOKE ALL ON *.* FROM u1"
"CREATE USER 'u1'@'localhost' IDENTIFIED BY 'pwd'"
"GRANT ALL ON test.t1 TO 'u1'@'localhost'"
"DISCONNECT con_admin_test"
"CONNECTION con_admin_test"
"CREATE USER u1, r1, r2"
"SHOW GRANTS FOR u1 using r1"
"SHOW GRANTS FOR u1 using r2"
"CREATE USER u1@localhost IDENTIFIED BY 'pwd'"
"DISCONNECT con_rep_slave_test"
"CREATE USER u3"
"REVOKE ALL ON *.* FROM CURRENT_USER()"
"RESET REPLICA ALL"
"CREATE USER B30628160@localhost"
enable_connect_log
"CREATE USER wl14303@localhost"
"REVOKE ALL PRIVILEGES ON t1 FROM wl14303@localhost"
disable_connect_log
"CREATE USER test@localhost"
"CREATE USER test_2@localhost"
"SHOW GRANTS FOR CURRENT_USER USING flusher"
"CREATE USER test@localhost, test_no_reload@localhost"
"CREATE USER wl14303@localhost, wl14303_no_reload@localhost"
"CREATE USER wl12217@localhost"
"CREATE USER wl15874@localhost,wl15874_2@localhost"
"GRANT TRIGGER,CREATE ROUTINE,CREATE VIEW,EVENT,DROP,CREATE ON wl15874.* TO wl15874@localhost"
"CREATE DEFINER=wl15874_2@localhost TRIGGER t1_trg1 AFTER INSERT ON t1 FOR EACH ROW SET @sum = @sum + 1"
"CREATE DEFINER=wl15874_na@localhost TRIGGER t1_trg1 AFTER INSERT ON t1 FOR EACH ROW SET @sum = @sum + 1"
"CREATE USER wl15874_na@localhost"
"REVOKE TRIGGER,CREATE ROUTINE,CREATE VIEW,EVENT,DROP,CREATE ON wl15874.* FROM wl15874@localhost"
"CREATE USER wl15874@localhost"
"GRANT SELECT ON privtest_db.t2 TO 'privtest'@'localhost'"
"GRANT INSERT ON privtest_db.t1 TO 'privtest'@'localhost'"
"REVOKE ALL PRIVILEGES ON privtest_db.t1 FROM 'privtest'@'localhost'"
"REVOKE INSERT ON privtest_db.t1 FROM 'privtest'@'localhost'"
"GRANT DELETE ON privtest_db.t1 TO 'privtest'@'localhost'"
"GRANT INSERT, DELETE ON privtest_db.t1 TO 'privtest'@'localhost'"
"GRANT UPDATE ON privtest_db.t1 TO 'privtest'@'localhost'"
"REVOKE UPDATE ON privtest_db.t1 FROM 'privtest'@'localhost'"
"GRANT SELECT ON privtest_db.t1 TO 'privtest'@'localhost'"
"GRANT UPDATE, SELECT ON privtest_db.t1 TO 'privtest'@'localhost'"
"GRANT DELETE, SELECT ON privtest_db.t1 TO 'privtest'@'localhost'"
"GRANT SELECT, INSERT, UPDATE, DELETE ON privtest_db.v1 TO 'privtest'@'localhost'"
"CREATE USER user_1@localhost, USER_1@localhost"
"CREATE USER rngp_user1, rngp_user2, rngp_user3"
"REVOKE IF EXISTS SELECT ON rngp_db.* FROM rngp_user1"
"REVOKE IF EXISTS CREATE, SELECT ON rngp_db.* FROM rngp_user1"
"REVOKE IF EXISTS SELECT ON rngp_db.* FROM rngp_role1"
"REVOKE IF EXISTS CREATE, SELECT ON rngp_db.* FROM rngp_role1"
"REVOKE ALL PRIVILEGES ON rngp_db.* FROM rngp_user1"
"REVOKE ALL PRIVILEGES ON rngp_db.* FROM rngp_role1"
"REVOKE ALL ON *.* FROM rngp_user1"
"REVOKE IF EXISTS SELECT ON rngp_db.* FROM rngp_user1, rngp_user2"
"REVOKE ALL ON *.* FROM rngp_role1"
"REVOKE IF EXISTS SELECT ON rngp_db.* FROM rngp_role1, rngp_role2"
"CREATE USER rngp_user"
"GRANT EXECUTE, GRANT OPTION ON PROCEDURE rngp_db.rngp_proc TO rngp_role"
"GRANT EXECUTE ON PROCEDURE rngp_db.rngp_proc TO rngp_role"
"GRANT EXECUTE, ALTER ROUTINE ON PROCEDURE rngp_db.rngp_proc TO rngp_role"
"REVOKE GRANT OPTION ON PROCEDURE rngp_db.rngp_proc FROM rngp_role"
"REVOKE ALTER ROUTINE ON PROCEDURE rngp_db.rngp_proc FROM rngp_role"
"REVOKE IF EXISTS GRANT OPTION ON PROCEDURE rngp_db.rngp_proc FROM rngp_role"
"REVOKE IF EXISTS ALTER ROUTINE, EXECUTE ON PROCEDURE rngp_db.rngp_proc FROM rngp_role"
"GRANT EXECUTE, GRANT OPTION ON PROCEDURE rngp_db.rngp_proc TO rngp_user"
"GRANT EXECUTE ON PROCEDURE rngp_db.rngp_proc TO rngp_user"
"GRANT EXECUTE, ALTER ROUTINE ON PROCEDURE rngp_db.rngp_proc TO rngp_user"
"REVOKE GRANT OPTION ON PROCEDURE rngp_db.rngp_proc FROM rngp_user"
"REVOKE ALTER ROUTINE ON PROCEDURE rngp_db.rngp_proc FROM rngp_user"
"REVOKE IF EXISTS GRANT OPTION ON PROCEDURE rngp_db.rngp_proc FROM rngp_user"
"REVOKE IF EXISTS ALTER ROUTINE, EXECUTE ON PROCEDURE rngp_db.rngp_proc FROM rngp_user"
"REVOKE ALL PRIVILEGES ON PROCEDURE rngp_db.rngp_proc FROM rngp_role"
"REVOKE ALL PRIVILEGES ON PROCEDURE rngp_db.rngp_proc FROM rngp_user"
"GRANT SELECT, INSERT ON rngp_db.tb1 TO rngp_role"
"GRANT SELECT ON rngp_db.tb1 TO rngp_role"
"GRANT SELECT, UPDATE ON rngp_db.tb1 TO rngp_role"
"REVOKE INSERT ON rngp_db.tb1 FROM rngp_role"
"REVOKE REFERENCES ON rngp_db.tb1 FROM rngp_role"
"REVOKE UPDATE ON rngp_db.tb1 FROM rngp_role"
"REVOKE IF EXISTS SELECT ON rngp_db.tb1 FROM rngp_role"
"REVOKE IF EXISTS INSERT, SELECT ON rngp_db.tb1 FROM rngp_role"
"GRANT INSERT ON rngp_db.tb1 TO rngp_role"
"GRANT INSERT, SELECT (x) ON rngp_db.tb1 TO rngp_role"
"GRANT UPDATE, INSERT, SELECT (x), REFERENCES (x) ON rngp_db.tb1 TO rngp_role"
"REVOKE INSERT, SELECT (x) ON rngp_db.tb1 FROM rngp_role"
"REVOKE IF EXISTS UPDATE, INSERT, SELECT (x), REFERENCES (x) ON rngp_db.tb1 FROM rngp_role"
"GRANT SELECT, INSERT ON rngp_db.tb1 TO rngp_user"
"GRANT SELECT ON rngp_db.tb1 TO rngp_user"
"GRANT SELECT, UPDATE ON rngp_db.tb1 TO rngp_user"
"REVOKE INSERT ON rngp_db.tb1 FROM rngp_user"
"REVOKE REFERENCES ON rngp_db.tb1 FROM rngp_user"
"REVOKE UPDATE ON rngp_db.tb1 FROM rngp_user"
"REVOKE IF EXISTS SELECT ON rngp_db.tb1 FROM rngp_user"
"REVOKE IF EXISTS INSERT, SELECT ON rngp_db.tb1 FROM rngp_user"
"GRANT INSERT ON rngp_db.tb1 TO rngp_user"
"REVOKE ALL PRIVILEGES ON rngp_db.tb1 FROM rngp_role"
"REVOKE ALL PRIVILEGES ON rngp_db.tb1 FROM rngp_user"
"CREATE USER unlocked_user@localhost IDENTIFIED BY 'pas'"
"ALTER USER unlocked_user@localhost,
unlocked_user2@localhost ACCOUNT UNLOCK"
"CREATE USER ''@localhost IDENTIFIED BY 'pass'"
"CREATE USER ''@localhost IDENTIFIED BY 'pass' ACCOUNT UNLOCK"
"CREATE USER ''@localhost IDENTIFIED BY 'pass' ACCOUNT LOCK"
"ALTER USER ''@localhost ACCOUNT UNLOCK"
"CREATE user ''@localhost IDENTIFIED BY 'pass'"
"CREATE USER 'unlocked_user'@localhost IDENTIFIED BY 'pass'"
"CREATE USER u1@localhost IDENTIFIED BY 'pass'"
"CREATE USER u2@localhost IDENTIFIED BY 'pass'"
"GRANT EXECUTE ON PROCEDURE mysql.p1 TO u2@localhost"
"CREATE USER 'u3'@'localhost' IDENTIFIED BY 'pass' ACCOUNT LOCK"
"ALTER USER u3@localhost ACCOUNT UNLOCK"
"CREATE USER u1@localhost REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 100 ACCOUNT LOCK"
"ALTER USER u1@localhost PASSWORD EXPIRE ACCOUNT UNLOCK"
"ALTER USER u1@localhost REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 99 ACCOUNT UNLOCK PASSWORD EXPIRE NEVER"
"CREATE USER u1@localhost IDENTIFIED BY 'PASS' ACCOUNT LOCK ACCOUNT UNLOCK"
"CREATE USER u1@localhost ACCOUNT UNLOCK ACCOUNT LOCK"
"CREATE USER u1@localhost ACCOUNT LOCK PASSWORD EXPIRE ACCOUNT LOCK"
"ALTER USER u1@localhost IDENTIFIED BY 'PASS' ACCOUNT LOCK ACCOUNT UNLOCK"
"ALTER USER u1@localhost ACCOUNT UNLOCK ACCOUNT LOCK"
"call mtr.add_suppression(""Column count of mysql.* is wrong. ""
""Expected .*, found .*. ""
""The table is probably corrupted"")"
"CREATE TABLE mysql.temp_user LIKE mysql.user"
"CREATE USER ACCOUNT@localhost ACCOUNT LOCK"
"CREATE USER u1 IDENTIFIED BY 'pass'"
"CREATE USER u2 IDENTIFIED BY 'pass' ACCOUNT LOCK"
"CREATE USER u3 IDENTIFIED BY 'pass' ACCOUNT UNLOCK"
"ALTER USER u1 IDENTIFIED BY 'pass' ACCOUNT UNLOCK"
"CREATE USER user2@localhost ACCOUNT UNLOCK"
"CREATE USER 'user9'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string'
ACCOUNT LOCK"
"CREATE USER 'user10'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string'
PASSWORD EXPIRE NEVER ACCOUNT UNLOCK"
"CREATE USER 'user11'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string'
ACCOUNT LOCK PASSWORD EXPIRE NEVER"
"CREATE USER user3,user4@localhost ACCOUNT LOCK"
"CREATE USER user6@'%',user7@localhost ACCOUNT LOCK"
"ALTER USER user3,user4@localhost ACCOUNT UNLOCK"
"ALTER USER user7@localhost,user6@'%' ACCOUNT UNLOCK"
"CREATE USER u1@localhost ACCOUNT LOCK"
"CREATE USER 'u2'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_string'
REQUIRE NONE PASSWORD EXPIRE DEFAULT ACCOUNT LOCK"
"CREATE USER u3@localhost IDENTIFIED WITH 'sha256_password'
ACCOUNT UNLOCK ACCOUNT LOCK"
"CREATE USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
PASSWORD EXPIRE DEFAULT ACCOUNT LOCK"
"ALTER USER u4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
ACCOUNT UNLOCK"
"CREATE USER user4@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
ACCOUNT LOCK PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK PASSWORD EXPIRE INTERVAL 90 DAY"
"CREATE USER user5@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string'
ACCOUNT UNLOCK PASSWORD EXPIRE NEVER"
"CREATE USER user6@localhost IDENTIFIED WITH 'caching_sha2_password'
ACCOUNT UNLOCK ACCOUNT LOCK PASSWORD EXPIRE NEVER"
"CREATE USER user7@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string#%y'
PASSWORD EXPIRE DEFAULT ACCOUNT LOCK PASSWORD EXPIRE NEVER ACCOUNT UNLOCK"
"ALTER USER user8@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'new_auth_string'
ACCOUNT UNLOCK PASSWORD EXPIRE"
"CREATE USER u5@localhost REQUIRE SSL ACCOUNT LOCK PASSWORD EXPIRE"
"CREATE USER u6@localhost IDENTIFIED BY 'auth_string' REQUIRE X509
ACCOUNT LOCK PASSWORD EXPIRE PASSWORD EXPIRE NEVER"
"CREATE USER u7@localhost IDENTIFIED WITH 'sha256_password'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256""
PASSWORD EXPIRE NEVER PASSWORD EXPIRE NEVER"
"CREATE USER u10@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string#y'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256""
SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
ACCOUNT LOCK PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK"
"ALTER USER u10@localhost REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256""
ACCOUNT UNLOCK PASSWORD EXPIRE DEFAULT ACCOUNT LOCK"
"CREATE USER 'u11'@'localhost' IDENTIFIED WITH 'caching_sha2_password'
REQUIRE NONE WITH MAX_QUERIES_PER_HOUR 6 PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK"
"CREATE USER u12@localhost IDENTIFIED BY 'auth_string'
WITH MAX_QUERIES_PER_HOUR 4
ACCOUNT LOCK PASSWORD EXPIRE NEVER PASSWORD EXPIRE ACCOUNT UNLOCK"
"ALTER USER u12@localhost ACCOUNT LOCK PASSWORD EXPIRE NEVER
PASSWORD EXPIRE NEVER ACCOUNT UNLOCK
ACCOUNT LOCK ACCOUNT LOCK ACCOUNT UNLOCK"
"CREATE USER u13@localhost IDENTIFIED WITH 'sha256_password'
WITH MAX_CONNECTIONS_PER_HOUR 2 ACCOUNT LOCK"
"CREATE USER u14@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
REQUIRE CIPHER ""ECDHE-RSA-AES128-GCM-SHA256""
WITH MAX_USER_CONNECTIONS 2 ACCOUNT LOCK PASSWORD EXPIRE INTERVAL 999 DAY ACCOUNT UNLOCK"
"ALTER USER u14@localhost
REQUIRE SUBJECT ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client""
ISSUER ""/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=CA""
WITH MAX_USER_CONNECTIONS 2 ACCOUNT LOCK PASSWORD EXPIRE INTERVAL 999 DAY ACCOUNT UNLOCK"
"CREATE USER u15@localhost,
u16@localhost IDENTIFIED BY 'auth_string',
u17@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'
ACCOUNT UNLOCK"
"CREATE USER u18@localhost,
u19@localhost IDENTIFIED BY 'auth_string',
u20@localhost IDENTIFIED WITH 'sha256_password',
u21@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string',
u22@localhost IDENTIFIED WITH 'caching_sha2_password',
u23@localhost IDENTIFIED WITH 'caching_sha2_password'
BY 'auth_&string'
REQUIRE SUBJECT '/C=SE/ST=Stockholm/L=Stockholm/O=Oracle/OU=MySQL/CN=Client'
WITH MAX_QUERIES_PER_HOUR 2 MAX_USER_CONNECTIONS 2 ACCOUNT LOCK"
"CREATE DEFINER = u1@localhost TRIGGER test.t1_update_count
BEFORE UPDATE ON test.t1 FOR EACH ROW
BEGIN
UPDATE test.t2 SET update_count = update_count + 1;
END"
"GRANT EXECUTE ON PROCEDURE test.p1 TO u2@localhost"
"GRANT EXECUTE ON FUNCTION test.myfunc TO u2@localhost"
"DROP FUNCTION IF EXISTS test.myfunc"
"CREATE TABLE t100 LIKE t10"
"CREATE TABLE t10000 LIKE t10"
"EXPLAIN FORMAT=tree SELECT t2.userid, MIN(t1.score) FROM t1, t2 WHERE t1.userID=t2.userID GROUP BY t2.userid"
"select row_number() over (), value,description,COUNT(DISTINCT bug_id) from t2 left join t1 on t2.program=t1.product and t2.value=t1.component where program=""AAAAA"" group by value having COUNT(DISTINCT bug_id) IN (0,2)"
"insert into t2 select
x3.a,  -- 3
concat('val-', x3.a + 3*x4.a), -- 12
concat('val-', @a:=x3.a + 3*x4.a + 12*C.a), -- 120
concat('val-', @a + 120*D.a)
from t1 x3, t1 x4, t1 C, t1 D where x3.a < 3 and x4.a < 4 and D.a < 4
order by x3.a, x4.a, C.a, D.a"
"EXPLAIN SELECT a FROM t1 IGNORE INDEX FOR ORDER BY (PRIMARY)
IGNORE INDEX FOR GROUP BY (i2) GROUP BY a"
"EXPLAIN SELECT a FROM t1 IGNORE INDEX (PRIMARY) IGNORE INDEX FOR ORDER BY (i2)"
"EXPLAIN SELECT a FROM t1 USE INDEX () USE INDEX (i2)"
"EXPLAIN SELECT a FROM t1 USE INDEX (i2) USE INDEX ()"
"EXPLAIN SELECT a FROM t1 USE INDEX FOR JOIN (i2)
USE INDEX FOR GROUP BY (i2) GROUP BY a"
"EXPLAIN SELECT a FROM t1 FORCE INDEX FOR JOIN (i2)
FORCE INDEX FOR GROUP BY (i2) GROUP BY a"
"EXPLAIN SELECT a FROM t1 USE INDEX () IGNORE INDEX (i2)"
"EXPLAIN SELECT a FROM t1 IGNORE INDEX (i2) USE INDEX ()"
"EXPLAIN SELECT a FROM t1
USE INDEX FOR GROUP BY (i2)
USE INDEX FOR ORDER BY (i2)
USE INDEX FOR JOIN (i2)"
"EXPLAIN SELECT a FROM t1
USE INDEX FOR JOIN (i2)
USE INDEX FOR JOIN (i2)
USE INDEX FOR JOIN (i2,i2)"
"EXPLAIN SELECT 1 FROM t1 WHERE a IN
(SELECT a FROM t1 USE INDEX (i2) IGNORE INDEX (i2))"
"EXPLAIN SELECT 1 FROM t2 WHERE a IN
(SELECT a FROM t1 USE INDEX (i2) IGNORE INDEX (i2))"
"CREATE TABLE t1
(
a INT GENERATED ALWAYS AS (1) VIRTUAL,
b INT GENERATED ALWAYS AS (a) VIRTUAL,
c INT GENERATED ALWAYS AS (1) VIRTUAL
)"
"EXPLAIN FORMAT=tree SELECT (SELECT a) AS col1, COUNT(DISTINCT b) FROM t GROUP BY -col1"
"EXPLAIN FORMAT=tree SELECT f1, f1 + 1, COUNT(DISTINCT f2) AS x FROM t1 GROUP BY f1 ORDER BY x"
"INSERT INTO t1 VALUES
(1, b'0', b'000000000', b'0000000000000000000000000000000000000000000000000000000000000000'),
(2, b'1', b'100000000', b'1000000000000000000000000000000000000000000000000000000000000000')"
"SELECT SUM(t1.f1)
FROM t1 JOIN t1 AS t2
ON t1.f1 = t2.f1
ORDER BY RANK() OVER(), CAST(t1.f1 AS UNSIGNED)"
"SELECT COUNT(DISTINCT f), COUNT(DISTINCT d), AVG(DISTINCT f), AVG(DISTINCT d) FROM t"
"CREATE PROCEDURE BatchInsert(IN row_count int)
BEGIN
START TRANSACTION;
SET @n = 1;
REPEAT
SET @str = (CONCAT('test', CAST(@n AS CHAR)));
INSERT INTO product(code, name) VALUES(@str, @str);
SET @n = @n + 1;
UNTIL @n > row_count
END REPEAT;
COMMIT;
END;
"
"EXPLAIN FORMAT=TREE
SELECT DISTINCT MIN(t2.x), t1.x
FROM t t1 JOIN t t2 USING (x)
GROUP BY t2.x"
"EXPLAIN FORMAT=TREE SELECT a,c,d,sum(e) FROM t1 GROUP BY a,c,d WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT a,d,c,sum(e) FROM t1 GROUP BY a,d,c WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT c,a,d,sum(e) FROM t1 GROUP BY c,a,d WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT d,a,c,sum(e) FROM t1 GROUP BY d,a,c WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT c,d,b,sum(e) FROM t1 GROUP BY c,d,b WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT d,c,a,sum(e) FROM t1 GROUP BY d,c,a WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT b,a,sum(e) FROM t1 GROUP BY b,a WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT b,sum(e) FROM t1 GROUP BY b WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT c,sum(e) FROM t1 GROUP BY c WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT c,d,sum(e) FROM t1 GROUP BY c,d WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT c,d,a,sum(e) FROM t1 GROUP BY c,d,a WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT c,d,a,b,sum(e) FROM t1 GROUP BY c,d,a,b WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT a,sum(e) FROM t1 GROUP BY a WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT a,b,sum(e) FROM t1 GROUP BY a,b WITH ROLLUP"
"EXPLAIN FORMAT=TREE SELECT d,a,c,sum(e) FROM t1 GROUP BY d,a,c"
"EXPLAIN FORMAT=TREE SELECT a,d,c,sum(e) FROM t1 GROUP BY a,d,c"
"EXPLAIN FORMAT=TREE SELECT b,a,sum(e) FROM t1 GROUP BY b,a"
"EXPLAIN FORMAT=TREE SELECT a,c,e,sum(d) FROM t1 GROUP BY a,c,e"
"EXPLAIN FORMAT=TREE SELECT DISTINCT * FROM t GROUP BY col1 + col2"
"select * from (select * from tb1 where id %3 = 0) even,
lateral (select sql_small_result avg(id2) a from tb1 where id > even.id group by id2 ) l
where even.id != l.a"
"select sql_small_result txt, AVG(i) a, row_number() over() r FROM t GROUP BY txt order by a, txt"
"select sql_small_result txt, AVG(i), row_number() over() FROM t GROUP BY txt order by AVG(i)"
"select sql_small_result txt, AVG(i)+2 a , row_number() over() FROM t GROUP BY txt order by -a"
"select sql_small_result txt, AVG(i)+2 a, (SELECT AVG(i) + 2) b, row_number() over() FROM t GROUP BY txt order by -b"
"select sql_small_result txt, AVG(i)+2 a, (SELECT AVG(i) + 2) b, row_number() over() FROM t GROUP BY txt order by b"
"select sql_small_result txt, AVG(i)+2 a, row_number() over()  FROM t GROUP BY txt order by a"
"select sql_small_result txt, AVG(i) a, row_number() over()  FROM t GROUP BY txt order by a"
"select sql_small_result txt, AVG(i) * 2 a, row_number() over()  FROM t GROUP BY txt order by txt"
"select sql_small_result txt, AVG(i) a, row_number() over()  FROM t GROUP BY txt order by txt"
"select sql_small_result txt, AVG(i) a , row_number() over() r FROM t GROUP BY txt order by 0-a"
"select sql_small_result txt, AVG(i) a , row_number() over() r FROM t GROUP BY txt order by a"
"select sql_small_result txt, AVG(i) a , row_number() over() r FROM t GROUP BY txt order by txt"
"SELECT MIN(t1.f1) AS field1 FROM (t1 JOIN (t1 t2) ON (TRUE),
LATERAL (SELECT t2.f3 AS field2 FROM t1 t3 WHERE (t2.f3 <=> t2.f4)
GROUP BY field2 ORDER BY t1.f2) AS t4)
GROUP BY field2 ORDER BY field1"
"EXPLAIN FORMAT=TREE select sql_small_result avg(id), JSON_ARRAYAGG(id) from tb1 t1 group by id2 "
"EXPLAIN FORMAT=TREE select sql_small_result avg(id) from tb1 group by 'abcd'"
"EXPLAIN FORMAT=TREE select sql_big_result avg(id) from tb1 t1 group by id2"
"EXPLAIN FORMAT=TREE select sql_small_result avg(id2) from tb1 t1 group by id"
"EXPLAIN FORMAT=TREE select sql_small_result avg(id) from tb1 t1 group by id2"
"EXPLAIN FORMAT=TREE SELECT a, b FROM t  WHERE (a > 4) AND (c = 3 OR c > 6)  GROUP BY a, b"
"EXPLAIN FORMAT=TREE SELECT a, b FROM t  WHERE (a > 4) AND (c = 3 OR c = 40) AND
(d = -1 OR d = -2 OR d > 7)  GROUP BY a, b"
"EXPLAIN FORMAT=TREE SELECT a, b, MIN(d) FROM t WHERE (a > 9) AND (c = 3) GROUP BY a, b"
"EXPLAIN FORMAT=TREE SELECT a, b, MIN(d), MAX(d) FROM t WHERE (a > 9) AND (c = 3) GROUP BY a, b"
"EXPLAIN FORMAT=TREE SELECT a, COUNT(DISTINCT b) FROM t WHERE a=b GROUP BY a"
"DROP FUNCTION IF EXISTS inexistent_function"
"GRANT SELECT(c1) ON s1.t1 TO u1@localhost"
"EXPLAIN FORMAT=TREE SELECT x FROM large_tab STRAIGHT_JOIN small_tab USING (x)"
"EXPLAIN FORMAT=TREE SELECT x FROM small_tab STRAIGHT_JOIN large_tab USING (x)"
"SELECT EMPNUM, GRADE*1000
FROM HU.STAFF WHERE GRADE * 1000 >
ANY (SELECT SUM(BUDGET) FROM HU.PROJ
GROUP BY CITY, PTYPE
HAVING HU.PROJ.CITY = HU.STAFF.CITY)"
"DROP FUNCTION next_seq_value"
"insert into t1 values(concat(@char,@space),concat(@char,@space),concat(@char,@space))"
"create table t1 (v varchar(10), c char(10), t varchar(50), key using btree (v), key using btree (c), key using btree (t(10))) charset latin1"
"create table t1 (a char(10), unique using btree (a)) charset latin1 engine=heap"
"create table t1 (a int not null,b int not null, primary key using BTREE (a)) engine=heap comment=""testing heaps"" avg_row_length=100 min_rows=1 max_rows=100"
"alter table t1 add c int not null, add key using BTREE (c,a)"
"create table t1 (a int not null,b int not null, primary key using BTREE (a)) engine=heap comment=""testing heaps"""
"CREATE TABLE t1 ( a int not null default 0, b int not null default 0,  key  using BTREE (a,b),  key  using BTREE (b)  ) ENGINE=HEAP"
"create table t1 (id int unsigned not null, primary key  using BTREE (id)) engine=HEAP"
"create table t1 (btn char(10) not null, key using BTREE (btn)) charset utf8mb4 engine=heap"
"alter table t1 add column new_col char(1) not null, add key using BTREE (btn,new_col), drop key btn"
"CREATE TABLE t1 (a int, b int, c int, key using BTREE (a, b, c)) engine=heap"
"CREATE TABLE t1 (a int not null, primary key using BTREE (a)) engine=heap"
"create table t1(a int not null, key using btree(a)) engine=heap"
"CREATE TABLE t1 (
c1 CHAR(3),
c2 INTEGER,
KEY USING BTREE(c1),
KEY USING BTREE(c2)
) ENGINE= MEMORY"
"CREATE TABLE t1 (
c1 ENUM('1', '2'),
UNIQUE USING BTREE(c1)
) ENGINE= MEMORY DEFAULT CHARSET= utf8mb3"
"CREATE TABLE t1 (
c1 SET('1', '2'),
UNIQUE USING BTREE(c1)
) ENGINE= MEMORY DEFAULT CHARSET= utf8mb3"
"CREATE TABLE t1 (a INT, KEY USING BTREE(a)) ENGINE=MEMORY"
"CREATE TABLE t1(val INT, KEY USING BTREE(val)) ENGINE=memory"
"CREATE TABLE t1 (a INT, UNIQUE USING BTREE(a)) ENGINE=MEMORY"
"create table t1(a varchar(255), b varchar(255),
key using btree (a,b)) engine=memory"
"CREATE TABLE t1(a INT, KEY USING BTREE (a)) ENGINE=MEMORY"
"CREATE TABLE t1(
id INT AUTO_INCREMENT PRIMARY KEY,
c1 INT NOT NULL,
c2 INT NOT NULL,
UNIQUE KEY USING BTREE (c2,c1)) ENGINE = MEMORY"
"create table t1 (a int not null,b int not null, primary key using HASH (a)) engine=heap comment=""testing heaps"" avg_row_length=100 min_rows=1 max_rows=100"
"alter table t1 add c int not null, add key using HASH (c,a)"
"create table t1 (a int not null,b int not null, primary key using HASH (a)) engine=heap comment=""testing heaps"""
"CREATE TABLE t1 ( a int not null default 0, b int not null default 0,  key  using HASH (a),  key  using HASH (b)  ) ENGINE=HEAP"
"create table t1 (id int unsigned not null, primary key  using HASH (id)) engine=HEAP"
"create table t1 (btn char(10) not null, key using HASH (btn)) charset utf8mb4 engine=heap"
"alter table t1 add column new_col char(1) not null, add key using HASH (btn,new_col), drop key btn"
"CREATE TABLE t1 (a int not null, primary key using HASH (a)) engine=heap"
"CREATE TABLE t1
(
pk INT PRIMARY KEY,
val INT,
UNIQUE KEY USING HASH(val)
) ENGINE=MEMORY"
"CREATE TABLE t1(
id INT AUTO_INCREMENT PRIMARY KEY,
c1 INT NOT NULL,
c2 INT NOT NULL,
UNIQUE KEY USING HASH (c2,c1)) ENGINE = MEMORY"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON x MANUAL UPDATE"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON x AUTO UPDATE"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON c1, c3 AUTO UPDATE"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON c2 MANUAL UPDATE"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON x WITH 3 BUCKETS AUTO UPDATE"
"EXPLAIN FORMAT=JSON INTO @v SELECT x FROM t1 WHERE x > 0"
"EXPLAIN FORMAT=JSON INTO @v SELECT x FROM t1 WHERE x = 1"
"EXPLAIN FORMAT=JSON INTO @v SELECT x FROM t1 WHERE x = 2"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON x AUTO UPDATE"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_varchar UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_enum UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE tbl_set UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON x WITH 10 BUCKETS"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_varchar UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_enum UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_set UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75], ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA ''"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA 'a'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '1'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA 'null'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '[]'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": 1, ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""blob"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": ""0.25"", ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": -0.01, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 1.01, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": ""true"", ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": 123, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": ""yes"", ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": ""utf8mb3"", ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 2048, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": -1, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 9300000000000000000, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": ""1.0"", ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": -0.1, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.1, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": 1, ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""single"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton""}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": ""4""}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": -1}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 1025}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": ""[[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]]"", ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": null, ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [4, 0.25], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, ""0.5""], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, -0.01], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 1.1]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.7], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.26, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.24, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23.0, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [9300000000000000000, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [2200000000, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [32, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": 3, ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""text"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": ""[[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]]"", ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [4, 4, 0.3333333333333333, 1], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.4, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 2}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, ""0.6666666666666666"", 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, -0.01, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.01, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.01, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.7333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.01, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.01, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1.0], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 0], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, -1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, ""12"", 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[9300000000000000000, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 9300000000000000000, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 2200000000, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 12, 0.6666666666666666, 1], [23, 2200000000, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [13, 12, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_int UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.3333333333333333, 1], [12, 42, 0.6666666666666666, 1], [23, 52, 1.0, 2]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23.0, 0.625], [52, 0.75]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [20000000000000000000, 0.75]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [12, 0.5], [23, 0.625], [-1, 0.75]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 0.25], [32, 0.5], [23, 0.625], [52, 0.75]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.25, 1], [12.0, 12, 0.5, 1], [23, 52, 0.75, 2]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.25, 1], [12, ""12"", 0.5, 1], [23, 52, 0.75, 2]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[-1, 4, 0.25, 1], [12, 12, 0.5, 1], [23, 52, 0.75, 2]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.25, 1], [12, 12, 0.5, 1], [23, 20000000000000000000, 0.75, 2]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.25, 1], [13, 12, 0.5, 1], [23, 52, 0.75, 2]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_uint UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4, 0.25, 1], [12, 42, 0.5, 1], [23, 52, 0.75, 2]], ""data-type"": ""uint"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 0.25], [12.0, 0.5], [""23.0"", 0.625], [52.0, 0.75]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[-1e330, 0.25], [12.0, 0.5], [23.0, 0.625], [52.0, 0.75]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 0.25], [12.0, 0.5], [23.0, 0.625], [1E330, 0.75]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 0.25], [32.0, 0.5], [23.0, 0.625], [52.0, 0.75]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4, 4.0, 0.25, 1], [12.0, 12.0, 0.5, 1], [23.0, 52.0, 0.75, 2]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 4.0, 0.25, 1], [12.0, ""12.0"", 0.5, 1], [23.0, 52.0, 0.75, 2]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 4.0, 0.25, 1], [13.0, 12.0, 0.5, 1], [23.0, 52.0, 0.75, 2]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_double UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.0, 4.0, 0.25, 1], [12.0, 32.0, 0.5, 1], [23.0, 52.0, 0.75, 2]], ""data-type"": ""double"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[12345, 0.25], [""base64:type254:Q2hhcmxlcw=="", 0.5], [""base64:type254:TWFyaw=="", 0.625], [""base64:type254:VmluY2VudA=="", 0.75]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""QmlsbA=="", 0.25], [""base64:type254:Q2hhcmxlcw=="", 0.5], [""base64:type254:TWFyaw=="", 0.625], [""base64:type254:VmluY2VudA=="", 0.75]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA"", 0.25], [""base64:type254:Q2hhcmxlcw=="", 0.5], [""base64:type254:TWFyaw=="", 0.625], [""base64:type254:VmluY2VudA=="", 0.75]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsTWFyVmluY2VuQ2hhcmxlbA=="", 0.25], [""base64:type254:Q2hhcmxlcw=="", 0.5], [""base64:type254:TWFyaw=="", 0.625], [""base64:type254:VmluY2VudA=="", 0.75]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", 0.25], [""base64:type254:Q2hhcmxlcw=="", 0.5], [""base64:type254:Q2hhcmxlcw=="", 0.625], [""base64:type254:VmluY2VudA=="", 0.75]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[12345, ""base64:type254:QmlsbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", 12345, 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""QmlsbA=="", ""base64:type254:QmlsbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", ""QmlsbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA"", ""base64:type254:QmlsbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", ""base64:type254:QmlsbA"", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsTWFyVmluY2VuQ2hhcmxlbA=="", ""base64:type254:QmlsbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", ""base64:type254:QmlsTWFyVmluY2VuQ2hhcmxlbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", ""base64:type254:QmlsbA=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:VmluY2VudA=="", ""base64:type254:TWFyaw=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_string UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""base64:type254:QmlsbA=="", ""base64:type254:TWFyaw=="", 0.25, 1], [""base64:type254:Q2hhcmxlcw=="", ""base64:type254:Q2hhcmxlcw=="", 0.5, 1], [""base64:type254:TWFyaw=="", ""base64:type254:VmluY2VudA=="", 0.75, 2]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""0000-00-00"", 0.125], [""2017-02-10"", 0.375], [""2018-02-12"", 0.5], [""2018-03-21"", 0.75]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[20170206, 0.125], [""2017-02-10"", 0.375], [""2018-02-12"", 0.5], [""2018-03-21"", 0.75]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 14:48:11"", 0.125], [""2017-02-10"", 0.375], [""2018-02-12"", 0.5], [""2018-03-21"", 0.75]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""14:48:11"", 0.125], [""2017-02-10"", 0.375], [""2018-02-12"", 0.5], [""2018-03-21"", 0.75]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", 0.125], [""2017-02-10"", 0.375], [""2018-04-12"", 0.5], [""2018-03-21"", 0.75]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""0000-00-00"", ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", ""0000-00-00"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[20170206, ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", 20170210, 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 14:48:11"", ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12 14:48:11"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""14:48:11"", ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""14:48:11"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-12"", ""2017-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_date UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", ""2019-02-10"", 0.375, 2], [""2018-02-12"", ""2018-02-12"", 0.5, 1], [""2018-03-21"", ""2018-03-21"", 0.75, 1]], ""data-type"": ""date"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[170418, 0.125], [""08:15:18.000000"", 0.375], [""16:22:23.000000"", 0.5], [""21:12:42.000000"", 0.75]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-10"", 0.125], [""08:15:18.000000"", 0.375], [""16:22:23.000000"", 0.5], [""21:12:42.000000"", 0.75]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-10 07:04:18.000000"", 0.125], [""08:15:18.000000"", 0.375], [""16:22:23.000000"", 0.5], [""21:12:42.000000"", 0.75]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""-839:00:00.000000"", 0.125], [""08:15:18.000000"", 0.375], [""16:22:23.000000"", 0.5], [""21:12:42.000000"", 0.75]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""07:04:18.000000"", 0.125], [""08:15:18.000000"", 0.375], [""16:22:23.000000"", 0.5], [""839:00:00.000000"", 0.75]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""09:04:18.000000"", 0.125], [""08:15:18.000000"", 0.375], [""16:22:23.000000"", 0.5], [""21:12:42.000000"", 0.75]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[170418, ""08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""07:04:18.000000"", 181518, 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06"", ""08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""07:04:18.000000"", ""2017-02-10"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-10 07:04:18.000000"", ""08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""07:04:18.000000"", ""2017-02-10 08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""-839:00:00.000000"", ""08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""07:04:18.000000"", ""08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""839:00:00.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""09:04:18.000000"", ""08:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_time UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""07:04:18.000000"", ""17:15:18.000000"", 0.375, 2], [""16:22:23.000000"", ""16:22:23.000000"", 0.5, 1], [""21:12:42.000000"", ""21:12:42.000000"", 0.75, 1]], ""data-type"": ""time"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[20170216162223, 0.125], [""2017-02-10 08:15:18.000000"", 0.375], [""2018-02-12 07:04:18.000000"", 0.5], [""2018-03-21 21:12:42.000000"", 0.75]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""16:22:23.000000"", 0.125], [""2017-02-10 08:15:18.000000"", 0.375], [""2018-02-12 07:04:18.000000"", 0.5], [""2018-03-21 21:12:42.000000"", 0.75]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""0000-00-00 00:00:00.000000"", 0.125], [""2017-02-10 08:15:18.000000"", 0.375], [""2018-02-12 07:04:18.000000"", 0.5], [""2018-03-21 21:12:42.000000"", 0.75]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-16 16:22:23.000000"", 0.125], [""2017-02-10 08:15:18.000000"", 0.375], [""2018-02-12 07:04:18.000000"", 0.5], [""2018-03-21 21:12:42.000000"", 0.75]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 16:22:23.000000"", ""2017-02-10 08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[20170206162223, ""2017-02-10 08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 16:22:23.000000"", 20170210081518, 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""16:22:23.000000"", ""2017-02-10 08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 16:22:23.000000"", ""08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""0000-00-00 00:00:00.000000"", ""2017-02-10 08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 16:22:23.000000"", ""0000-00-00 00:00:00.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-16 16:22:23.000000"", ""2017-02-10 08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_datetime UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""2017-02-06 16:22:23.000000"", ""2019-02-10 08:15:18.000000"", 0.375, 2], [""2018-02-12 07:04:18.000000"", ""2018-02-12 07:04:18.000000"", 0.5, 1], [""2018-03-21 21:12:42.000000"", ""2018-03-21 21:12:42.000000"", 0.75, 1]], ""data-type"": ""datetime"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 0.25], [""12.00"", 0.5], [23.00, 0.625], [52.00, 0.75]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 0.25], [12.00, 0.5], [23.00, 0.625], [9300000000000000000, 0.75]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 0.25], [12.00, 0.5], [23.00, 0.625], [1e100, 0.75]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 0.25], [12.00, 0.5], [23.00, 0.625], [5555.00, 0.75]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 0.25], [32.00, 0.5], [23.00, 0.625], [52.00, 0.75]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[""4.00"", 4.00, 0.25, 1], [12.00, 12.00, 0.5, 1], [23.00, 52.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 4.00, 0.25, 1], [12.00, ""12.00"", 0.5, 1], [23.00, 52.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[-1e100, 4.00, 0.25, 1], [12.00, 12.00, 0.5, 1], [23.00, 52.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 4.00, 0.25, 1], [12.00, 12.00, 0.5, 1], [23.00, 1e100, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[-1000.00, 4.00, 0.25, 1], [12.00, 12.00, 0.5, 1], [23.00, 52.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 4.00, 0.25, 1], [12.00, 12.00, 0.5, 1], [23.00, 1000.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 4.00, 0.25, 1], [13.00, 12.00, 0.5, 1], [23.00, 52.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"ANALYZE TABLE tbl_decimal UPDATE HISTOGRAM ON col1 USING DATA '{""buckets"": [[4.00, 4.00, 0.25, 1], [12.00, 32.00, 0.5, 1], [23.00, 52.00, 0.75, 2]], ""data-type"": ""decimal"", ""auto-update"": false, ""null-values"": 0.25, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 3}'"
"INSERT INTO all_types VALUES (
FALSE,                                                               # BOOLEAN
b'0000000000000000000000000000000000000000000000000000000000000000', # BIT
-128,                                                                # TINYINT
-32768,                                                              # SMALLINT
-8388608,                                                            # MEDIUMINT
-2147483648,                                                         # INTEGER
-9223372036854775808,                                                # BIGINT
0,                                                                   # TINYINT_UNSIGNED
0,                                                                   # SMALLINT_UNSIGNED
0,                                                                   # MEDIUMINT_UNSIGNED
0,                                                                   # INTEGER_UNSIGNED
0,                                                                   # BIGINT_UNSIGNED
-3.402823466E+38,                                                    # FLOAT
-1.7976931348623157E+308,                                            # DOUBLE
-999999999999999999999999999999999999999999999999999999999999999.99, # DECIMAL(65, 2)
'1000-01-01',                                                        # DATE
'-838:59:59.000000',                                                 # TIME
1901,                                                                # YEAR
'1000-01-01 00:00:00',                                               # DATETIME
'1970-01-02 00:00:01',                                               # TIMESTAMP
'',                                                                  # CHAR
'',                                                                  # VARCHAR
'',                                                                  # TINYTEXT
'',                                                                  # TEXT
'',                                                                  # MEDIUMTEXT
'',                                                                  # LONGTEXT
'',                                                                  # BINARY
'',                                                                  # VARBINARY
'',                                                                  # TINYBLOB
'',                                                                  # BLOB
'',                                                                  # MEDIUMBLOB
'',                                                                  # LONGBLOB
'red',                                                               # ENUM
'')"
"INSERT INTO all_types VALUES (
TRUE,                                                                # BOOLEAN
b'1111111111111111111111111111111111111111111111111111111111111111', # BIT
127,                                                                 # TINYINT
32767,                                                               # SMALLINT
8388607,                                                             # MEDIUMINT
2147483647,                                                          # INTEGER
9223372036854775807,                                                 # BIGINT
255,                                                                 # TINYINT_UNSIGNED
65535,                                                               # SMALLINT_UNSIGNED
16777215,                                                            # MEDIUMINT_UNSIGNED
4294967295,                                                          # INTEGER_UNSIGNED
18446744073709551615,                                                # BIGINT_UNSIGNED
3.402823466E+38,                                                     # FLOAT
1.7976931348623157E+308,                                             # DOUBLE
999999999999999999999999999999999999999999999999999999999999999.99,  # DECIMAL(65, 2)
'9999-12-31',                                                        # DATE
'838:59:59.000000',                                                  # TIME
2155,                                                                # YEAR
'9999-12-31 23:59:59',                                               # DATETIME
'2038-01-19 03:14:07',                                               # TIMESTAMP
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # CHAR
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # VARCHAR
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # TINYTEXT
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # TEXT
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # MEDIUMTEXT
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # LONGTEXT
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # BINARY
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # VARBINARY
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # TINYBLOB
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # BLOB
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # MEDIUMBLOB
'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa',                     # LONGBLOB
'purple',                                                            # ENUM
'three')"
"ANALYZE TABLE all_types UPDATE HISTOGRAM ON col_bool,
col_bit,
col_tinyint,
col_smallint,
col_mediumint,
col_integer,
col_bigint,
col_tinyint_unsigned,
col_smallint_unsigned,
col_mediumint_unsigned,
col_integer_unsigned,
col_bigint_unsigned,
col_float,
col_double,
col_decimal,
col_date,
col_time,
col_year,
col_datetime,
col_timestamp,
col_char,
col_varchar,
col_tinytext,
col_text,
col_mediumtext,
col_longtext,
col_binary,
col_varbinary,
col_tinyblob,
col_blob,
col_mediumblob,
col_longblob,
col_enum,
col_set WITH 1024 BUCKETS"
"ANALYZE TABLE unsupported_types UPDATE HISTOGRAM ON col_geometry,
col_point,
col_linestring,
col_polygon,
col_multipoint,
col_multilinestring,
col_multipolygon,
col_geometrycollection,
col_json WITH 100 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON foobar WITH 100 BUCKETS"
"ANALYZE TABLE foobar UPDATE HISTOGRAM ON foobar WITH 100 BUCKETS"
"ANALYZE TABLE temp_table UPDATE HISTOGRAM ON col1 WITH 100 BUCKETS"
"ANALYZE TABLE my_view UPDATE HISTOGRAM ON col_integer WITH 100 BUCKETS"
"ALTER TABLE t1 ADD COLUMN virtual_generated INT AS (col_integer + 10) VIRTUAL,
ADD COLUMN stored_generated INT AS (col_integer + 20) STORED"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_integer,
virtual_generated,
stored_generated
WITH 100 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_integer WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_integer WITH 9 BUCKETS"
"ANALYZE TABLE foo, foo2 UPDATE HISTOGRAM ON bar WITH 100 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1, col2, col3 WITH 100 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col2 WITH 100 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 57 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 255 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON c1 WITH 10 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON c2 WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1, col2 WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col2 WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1_renamed WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col2 WITH 2 BUCKETS"
"ANALYZE TABLE histogram_db.t1 UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1, col2, col3, col4, col5
WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON COL1, col2 WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1, col2, col3, col4, col5, col6
WITH 4 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 1024 BUCKETS"
"CREATE TABLE t1 (
c1 int(11) DEFAULT NULL,
c2 int(11) GENERATED ALWAYS AS ((c1 * 2)) VIRTUAL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON c2 WITH 2 BUCKETS"
"CREATE TABLE foo (col1 INT,
col2 INT AS (col1 + 1) VIRTUAL,
col3 INT AS (col2 + 1) VIRTUAL)"
"ANALYZE TABLE foo UPDATE HISTOGRAM ON col3 WITH 10 BUCKETS"
"ANALYZE TABLE p UPDATE HISTOGRAM ON col2, col3 WITH 10 BUCKETS"
"ANALYZE TABLE foo.tbl UPDATE HISTOGRAM ON col1 WITH 10 BUCKETS"
"ANALYZE TABLE not_encrypted1 UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE not_encrypted2 UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE encrypted1 UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"ANALYZE TABLE encrypted2 UPDATE HISTOGRAM ON col1 WITH 2 BUCKETS"
"CREATE TRIGGER ai AFTER INSERT ON t1 FOR EACH ROW SET @a:= NEW.at"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON eighty WITH 40 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON tenPercent WITH 4 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON tenPercent WITH 2 BUCKETS"
"ANALYZE TABLE g UPDATE HISTOGRAM ON col_varchar_10_utf8 WITH 250 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 1 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_varchar WITH 1 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_datetime WITH 20 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_time WITH 2 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_datetime_key WITH 20 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_date_key WITH 60 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_blob WITH 1023 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_int_key WITH 1023 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_date WITH 2 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_int WITH 1000 BUCKETS"
"ANALYZE TABLE table1 UPDATE HISTOGRAM ON col_blob_key WITH 60 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_blob_key WITH 4 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_date WITH 40 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_blob WITH 20 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_int WITH 1 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_datetime_key WITH 20 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_int_key WITH 2 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_time WITH 60 BUCKETS"
"ANALYZE TABLE table2 UPDATE HISTOGRAM ON col_varchar WITH 60 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_date_key WITH 2 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_time_key WITH 1024 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_date WITH 10 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_datetime_key WITH 1024 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_blob_key WITH 20 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_blob WITH 10 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_time WITH 10 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_int WITH 1000 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_varchar WITH 2 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_varchar_key WITH 4 BUCKETS"
"ANALYZE TABLE table3 UPDATE HISTOGRAM ON col_datetime WITH 2 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_time_key WITH 100 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_date WITH 4 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_datetime_key WITH 4 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_int_key WITH 1024 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_blob WITH 60 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_time WITH 100 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_varchar_key WITH 1024 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_int WITH 4 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_blob_key WITH 80 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_varchar WITH 1024 BUCKETS"
"ANALYZE TABLE table4 UPDATE HISTOGRAM ON col_date_key WITH 4 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 64 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 4 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 128 BUCKETS"
"CREATE TABLE t1 (
pk int(11) NOT NULL AUTO_INCREMENT,
col_int int(11) NOT NULL,
col_int_key int(11) GENERATED ALWAYS AS ((col_int + col_int)) VIRTUAL,
col_date date NOT NULL,
col_date_key date GENERATED ALWAYS AS ((col_date + interval 30 day))
VIRTUAL,
col_datetime datetime NOT NULL,
col_time time NOT NULL,
col_datetime_key datetime GENERATED ALWAYS AS
(addtime(col_datetime,col_time)) VIRTUAL,
col_time_key time GENERATED ALWAYS AS (addtime(col_datetime,col_time))
VIRTUAL,
col_varchar varchar(1) NOT NULL,
col_varchar_key varchar(2) GENERATED ALWAYS AS
(concat(col_varchar,col_varchar)) VIRTUAL,
PRIMARY KEY (pk),
KEY col_date_key (col_date_key)
) ENGINE=InnoDB AUTO_INCREMENT=30 DEFAULT CHARSET=utf8mb4"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_time WITH 4 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_time_key WITH 1024 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_varchar_key WITH 1023 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_datetime_key WITH 2 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_int WITH 40 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_date_key WITH 80 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_datetime WITH 40 BUCKETS"
"CREATE TABLE t2 (
pk int(11) NOT NULL AUTO_INCREMENT,
col_int int(11) NOT NULL,
col_int_key int(11) GENERATED ALWAYS AS ((col_int + col_int)) VIRTUAL,
col_date date NOT NULL,
col_date_key date GENERATED ALWAYS AS ((col_date + interval 30 day))
VIRTUAL,
col_datetime datetime NOT NULL,
col_time time NOT NULL,
col_datetime_key datetime GENERATED ALWAYS AS
(addtime(col_datetime,col_time)) VIRTUAL,
col_time_key time GENERATED ALWAYS AS (addtime(col_datetime,col_time))
VIRTUAL,
col_varchar varchar(1) NOT NULL,
col_varchar_key varchar(2) GENERATED ALWAYS AS
(concat(col_varchar,col_varchar)) VIRTUAL,
PRIMARY KEY (pk),
KEY col_date_key (col_date_key)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8mb4"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_int WITH 4 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_time_key WITH 1 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_datetime_key WITH 10 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_datetime WITH 100 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_date_key WITH 2 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_varchar WITH 1023 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_int_key WITH 4 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_time WITH 4 BUCKETS"
"CREATE TABLE t1 (
pk int(11) NOT NULL AUTO_INCREMENT,
col_int int(11) DEFAULT NULL,
col_int_key int(11) GENERATED ALWAYS AS ((col_int + col_int)) VIRTUAL,
col_date date DEFAULT NULL,
col_date_key date GENERATED ALWAYS AS ((col_date + interval 30 day)) VIRTUAL,
col_datetime datetime DEFAULT NULL,
col_time time DEFAULT NULL,
col_datetime_key datetime GENERATED ALWAYS AS (addtime(col_datetime,col_time)) VIRTUAL,
col_time_key time GENERATED ALWAYS AS (addtime(col_datetime,col_time)) VIRTUAL,
col_varchar varchar(1) DEFAULT NULL,
col_varchar_key varchar(2) GENERATED ALWAYS AS (concat(col_varchar,col_varchar)) VIRTUAL,
PRIMARY KEY (pk),
KEY col_date_key (col_date_key) /*!80000 INVISIBLE */
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8mb4"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_datetime_key WITH 1023 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_int WITH 1000 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_time_key WITH 2 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_datetime WITH 1023 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_time WITH 80 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col_int_key WITH 80 BUCKETS"
"CREATE TABLE t2 (
pk int(11) NOT NULL AUTO_INCREMENT,
col_int int(11) DEFAULT NULL,
col_int_key int(11) GENERATED ALWAYS AS ((col_int + col_int)) VIRTUAL,
col_date date DEFAULT NULL,
col_date_key date GENERATED ALWAYS AS ((col_date + interval 30 day)) VIRTUAL,
col_datetime datetime DEFAULT NULL,
col_time time DEFAULT NULL,
col_datetime_key datetime GENERATED ALWAYS AS (addtime(col_datetime,col_time)) VIRTUAL,
col_time_key time GENERATED ALWAYS AS (addtime(col_datetime,col_time)) VIRTUAL,
col_varchar varchar(1) DEFAULT NULL,
col_varchar_key varchar(2) GENERATED ALWAYS AS (concat(col_varchar,col_varchar)) VIRTUAL,
PRIMARY KEY (pk),
KEY col_date_key (col_date_key)
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8mb4"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_datetime_key WITH 100 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_varchar WITH 60 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_datetime WITH 4 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_varchar_key WITH 2 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_time WITH 10 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_date WITH 2 BUCKETS"
"ANALYZE TABLE t2 UPDATE HISTOGRAM ON col_time_key WITH 10 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1, col2 WITH 8 BUCKETS"
"ANALYZE TABLE tbl_float UPDATE HISTOGRAM ON col WITH 4 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1, col2, col3 WITH 2 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON a WITH 5 BUCKETS"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 16 BUCKETS"
"ANALYZE TABLE mysqltest.t1 UPDATE HISTOGRAM ON i WITH 10 BUCKETS"
"INSERT INTO all_types VALUES (
FALSE,                 # BOOLEAN
b'0000',               # BIT
0,                     # TINYINT
0,                     # SMALLINT
0,                     # MEDIUMINT
0,                     # INTEGER
0,                     # BIGINT
0,                     # TINYINT_UNSIGNED
0,                     # SMALLINT_UNSIGNED
0,                     # MEDIUMINT_UNSIGNED
0,                     # INTEGER_UNSIGNED
0,                     # BIGINT_UNSIGNED
0,                     # FLOAT
0,                     # DOUBLE
00.00,                 # DECIMAL(2, 2)
'1000-01-01',          # DATE
'00:00:00.000000',     # TIME
1901,                  # YEAR
'1000-01-01 00:00:00', # DATETIME
'1971-01-01 00:00:00', # TIMESTAMP
'0',                   # CHAR
'0',                   # VARCHAR
'0',                   # TINYTEXT
'0',                   # TEXT
'0',                   # MEDIUMTEXT
'0',                   # LONGTEXT
'0',                   # BINARY
'0',                   # VARBINARY
'0',                   # TINYBLOB
'0',                   # BLOB
'0',                   # MEDIUMBLOB
'0',                   # LONGBLOB
'zero',                 # ENUM
'zero'                  # SET
)"
"INSERT INTO all_types VALUES (
TRUE,                  # BOOLEAN
b'0001',               # BIT
1,                     # TINYINT
1,                     # SMALLINT
1,                     # MEDIUMINT
1,                     # INTEGER
1,                     # BIGINT
1,                     # TINYINT_UNSIGNED
1,                     # SMALLINT_UNSIGNED
1,                     # MEDIUMINT_UNSIGNED
1,                     # INTEGER_UNSIGNED
1,                     # BIGINT_UNSIGNED
1,                     # FLOAT
1,                     # DOUBLE
00.01,                 # DECIMAL(2, 2)
'1001-01-01',          # DATE
'00:00:00.000001',     # TIME
1902,                  # YEAR
'1001-01-01 00:00:00', # DATETIME
'1971-01-01 00:00:01', # TIMESTAMP
'1',                   # CHAR
'1',                   # VARCHAR
'1',                   # TINYTEXT
'1',                   # TEXT
'1',                   # MEDIUMTEXT
'1',                   # LONGTEXT
'1',                   # BINARY
'1',                   # VARBINARY
'1',                   # TINYBLOB
'1',                   # BLOB
'1',                   # MEDIUMBLOB
'1',                   # LONGBLOB
'one',                 # ENUM
'one'                  # SET
)"
"INSERT INTO all_types VALUES (
TRUE,                  # BOOLEAN
b'0010',               # BIT
2,                     # TINYINT
2,                     # SMALLINT
2,                     # MEDIUMINT
2,                     # INTEGER
2,                     # BIGINT
2,                     # TINYINT_UNSIGNED
2,                     # SMALLINT_UNSIGNED
2,                     # MEDIUMINT_UNSIGNED
2,                     # INTEGER_UNSIGNED
2,                     # BIGINT_UNSIGNED
2,                     # FLOAT
2,                     # DOUBLE
00.02,                 # DECIMAL(2, 2)
'1002-01-01',          # DATE
'00:00:00.000002',     # TIME
1903,                  # YEAR
'1002-01-01 00:00:00', # DATETIME
'1971-01-01 00:00:02', # TIMESTAMP
'2',                   # CHAR
'2',                   # VARCHAR
'2',                   # TINYTEXT
'2',                   # TEXT
'2',                   # MEDIUMTEXT
'2',                   # LONGTEXT
'2',                   # BINARY
'2',                   # VARBINARY
'2',                   # TINYBLOB
'2',                   # BLOB
'2',                   # MEDIUMBLOB
'2',                   # LONGBLOB
'two',                 # ENUM
'two'                  # SET
)"
"ANALYZE TABLE all_types UPDATE HISTOGRAM ON
col_bool,
col_bit,
col_tinyint,
col_smallint,
col_mediumint,
col_integer,
col_bigint,
col_tinyint_unsigned,
col_smallint_unsigned,
col_mediumint_unsigned,
col_integer_unsigned,
col_bigint_unsigned,
col_float,
col_double,
col_decimal,
col_date,
col_time,
col_year,
col_datetime,
col_timestamp,
col_char,
col_varchar,
col_tinytext,
col_text,
col_mediumtext,
col_longtext,
col_binary,
col_varbinary,
col_tinyblob,
col_blob,
col_mediumblob,
col_longblob,
col_enum,
col_set
WITH 4 BUCKETS"
"ANALYZE TABLE all_types UPDATE HISTOGRAM ON
col_bool,
col_bit,
col_tinyint,
col_smallint,
col_mediumint,
col_integer,
col_bigint,
col_tinyint_unsigned,
col_smallint_unsigned,
col_mediumint_unsigned,
col_integer_unsigned,
col_bigint_unsigned,
col_float,
col_double,
col_decimal,
col_date,
col_time,
col_year,
col_datetime,
col_timestamp,
col_char,
col_varchar,
col_tinytext,
col_text,
col_mediumtext,
col_longtext,
col_binary,
col_varbinary,
col_tinyblob,
col_blob,
col_mediumblob,
col_longblob,
col_enum,
col_set
WITH 2 BUCKETS"
"ANALYZE TABLE t UPDATE HISTOGRAM ON x USING DATA '{""buckets"": [[""base64:type254:MA=="", 0.3333333333333333], [""base64:type254:MQ=="", 0.6666666666666666], [""base64:type254:Mg=="", 1.0]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 255, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE t UPDATE HISTOGRAM ON x USING DATA '{""buckets"": [[""base64:type254:MA=="", ""base64:type254:MQ=="", 0.6666666666666666, 2], [""base64:type254:Mg=="", ""base64:type254:Mg=="", 1.0, 1]], ""data-type"": ""string"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 255, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 2}'"
"ANALYZE TABLE t UPDATE HISTOGRAM ON x USING DATA '{""buckets"": [[0, 0.3333333333333333], [1, 0.6666666666666666], [2, 1.0]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""singleton"", ""number-of-buckets-specified"": 4}'"
"ANALYZE TABLE t UPDATE HISTOGRAM ON x USING DATA '{""buckets"": [[0, 1, 0.6666666666666666, 2], [2, 2, 1.0, 1]], ""data-type"": ""int"", ""auto-update"": false, ""null-values"": 0.0, ""collation-id"": 8, ""sampling-rate"": 1.0, ""histogram-type"": ""equi-height"", ""number-of-buckets-specified"": 2}'"
"CREATE USER some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890"
"CREATE DEFINER=some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890 TRIGGER trg1 BEFORE UPDATE ON t1 FOR EACH ROW SET @f1=1"
"GRANT UPDATE ON test.t1 TO some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890"
"GRANT UPDATE (f1) ON test.t2 TO some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890"
"GRANT some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890 TO root@localhost"
"GRANT u1@localhost TO some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890"
"REVOKE ALL ON *.* FROM some_user_name@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890"
"CREATE USER pass_hist_user@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890 IDENTIFIED BY 'haha' PASSWORD HISTORY 1"
"CREATE USER u1@host_1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890abcdefghij1234567890"
"CREATE USER u2@localhost"
"CREATE USER 'rick'@'192.0.2.4'"
"CREATE USER 'morty'@'2001:db8::6:6'"
"EXPLAIN FORMAT=tree SELECT * FROM t0, t1 LEFT JOIN (t2,t3) ON a1=5 WHERE a0=a1 AND a0=1"
"EXPLAIN FORMAT=tree
SELECT f1 FROM t1 GROUP BY f1 HAVING f1 = 10 AND f1 <> 11"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE f1 = 1 AND f1 <> 11"
"EXPLAIN FORMAT=tree
SELECT 1
FROM t1 LEFT JOIN (SELECT * FROM t1 AS t2
WHERE f1 IN (SELECT f1+1 FROM t1 AS t3)) AS dt
ON t1.f1=dt.f1"
"EXPLAIN FORMAT=TREE SELECT x1.a+0 k, COUNT(x1.b) FROM t1 x1
LEFT JOIN t2 x2 ON x1.b=x2.a
LEFT JOIN t1 x3 ON x2.b=x3.a GROUP BY k"
"EXPLAIN FORMAT=TREE SELECT a,b FROM t1 GROUP BY a,b"
"EXPLAIN ANALYZE FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3
WHERE x1.a=x2.a AND x2.b=x3.b AND x3.c=x1.c"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t1 x1 WHERE x1.c IN
(SELECT c FROM t1 x2 WHERE  b<""150"" AND c<70)"
"EXPLAIN  FORMAT=TREE SELECT 1 FROM t1 WHERE b<""150"" AND c<70"
"EXPLAIN  FORMAT=TREE SELECT 1 FROM t1 WHERE b<""150"" AND c<80"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t1
WHERE  b<""150"" AND RAND(0)>-1 AND c< 70"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t1 WHERE foo(2)=3 AND c=5"
"DROP FUNCTION foo"
"CREATE TABLE t1 (
a INT,
b INT,
c INT,
d INT,
e INT,
f INT,
g INT,
PRIMARY KEY(a),
KEY k1 (b,d), --  'b' and 'd' are indepdendent.
KEY k2 (b,e), -- 'b' is funtionally dependent on 'e'.
KEY k3 (b,g), -- 'b' is funtionally dependent on 'g'.
KEY k4 (f,g) -- 'f' and 'g' are independet.
)"
"EXPLAIN ANALYZE FORMAT=TREE SELECT * FROM t1 x1 WHERE d =
(SELECT MIN(g) FROM t1 x2 WHERE x1.b<>x2.b)"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t1 x1 WHERE EXISTS
(SELECT 1 FROM t1 x2, t1 x3, t1 x4
WHERE x2.b=x3.d AND x2.c=x3.e AND x3.d=x4.b AND x2.e=x4.e)"
"EXPLAIN FORMAT=TREE SELECT * FROM  t1 x1 LEFT JOIN (t1 x2, t1 x3)
ON x1.a=x3.a WHERE x1.b<x2.b OR x2.a IS NULL"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x0 WHERE (b=3 OR c=4) AND a <>
(SELECT MAX(x1.a+x2.a) FROM t2 x1 JOIN t2 x2 ON x1.b<x2.b)"
"EXPLAIN FORMAT=TREE SELECT b FROM t1 x1
WHERE c < 1 AND c = (SELECT MAX(b) FROM t1 x2)"
"EXPLAIN FORMAT=TREE SELECT a, COUNT(*) FROM
(SELECT x1.a FROM t1 x1, t1 x2 WHERE x1.b = x2.a) AS dt GROUP BY a"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b=5 OR c=NULL"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b=5 OR c<=>NULL"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b=5 OR c IS NULL"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b=NULL OR c=5"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b<=>NULL OR c=5"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b<=>FLOOR(RAND(0))"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c<=>FLOOR(RAND(0))"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE a IN
(SELECT t2.l FROM t2 WHERE t2.l<0)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE t1.a IN (SELECT 5 FROM t2)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1
WHERE x1.a IN (SELECT x2.b FROM t1 x2)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3, t1 x4"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE a=5 AND b=5"
"EXPLAIN FORMAT=JSON INTO @explain_output
SELECT a FROM t1 x2 WHERE x2.b IN
(SELECT a FROM t1 x1 WHERE x1.b IN (SELECT a FROM t1 x0))"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3
WHERE x1.b=x2.a AND x2.b=x3.a AND (x1.c < 5 OR x3.c=7)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1, t1 x2, t1 x3
WHERE x1.b=x2.d AND x2.b=x3.d AND (x1.c < 5 OR x3.c=7) ORDER BY x3.d"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1 LEFT JOIN t1 x2
ON x1.a <=> x2.a AND  x1.a <=> x2.a"
"EXPLAIN FORMAT=TREE SELECT SQL_BIG_RESULT DISTINCT t1.x, t2.x FROM t AS t1, t AS t2
WHERE t1.pk = t2.x ORDER BY t2.x"
"EXPLAIN FORMAT=TREE SELECT SQL_SMALL_RESULT DISTINCT t1.x, t2.x FROM t AS t1, t AS t2
WHERE t1.pk = t2.x ORDER BY t2.x"
"EXPLAIN FORMAT=TREE SELECT SQL_BIG_RESULT DISTINCT t1.x, t1.pk FROM t AS t1, t AS t2
WHERE t1.pk = t2.x ORDER BY t1.x"
"EXPLAIN FORMAT=TREE SELECT SQL_SMALL_RESULT DISTINCT t1.x, t1.pk FROM t AS t1, t AS t2
WHERE t1.pk = t2.x ORDER BY t1.x"
"EXPLAIN FORMAT=TREE SELECT SQL_BIG_RESULT DISTINCT t1.pk, t2.x FROM t AS t1, t AS t2
WHERE t1.pk = t2.x ORDER BY t2.x"
"EXPLAIN FORMAT=TREE SELECT SQL_SMALL_RESULT DISTINCT t1.pk, t2.x FROM t AS t1, t AS t2
WHERE t1.pk = t2.x ORDER BY t2.x"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 x1 JOIN
(SELECT MAX(x2.c) k FROM t1 x2 JOIN t1 x3 ON x2.c < x3.b GROUP BY x3.c) d1
ON x1.b=d1.k ORDER BY x1.a LIMIT 1"
"SELECT ROW_NUMBER() OVER () FROM t WHERE x = RAND() GROUP BY x"
"INSERT INTO t (a)
WITH RECURSIVE 150tup(n) AS
(SELECT 1 UNION ALL SELECT n + 1 FROM 150tup WHERE n < 150)
SELECT n FROM 150tup"
"EXPLAIN FORMAT=TREE
SELECT /*+ SET_VAR(optimizer_max_subgraph_pairs = 1) */ COUNT(*)
FROM t AS t1 LEFT JOIN t AS t2 ON TRUE,
LATERAL (SELECT DISTINCT t2.a FROM t) AS t3
WHERE t1.a = t3.a"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 JOIN t2 ON t1.x = t2.x JOIN t3 ON t2.x = t3.x"
"EXPLAIN FORMAT=TREE SELECT * FROM t"
"EXPLAIN FORMAT=TREE SELECT * FROM t WHERE x < 5"
"EXPLAIN FORMAT=TREE SELECT * FROM t1"
"EXPLAIN FORMAT=TREE SELECT c1 FROM t2"
"EXPLAIN FORMAT=TREE SELECT c1,c2 FROM t2"
"EXPLAIN FORMAT=TREE SELECT c1,c2,c3 FROM t2"
"EXPLAIN FORMAT=TREE SELECT c1 FROM t1"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY p"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY s0"
"EXPLAIN FORMAT=TREE SELECT s0 FROM t1 ORDER BY s0"
"EXPLAIN FORMAT=TREE SELECT s1 FROM t1 ORDER BY s1"
"EXPLAIN FORMAT=TREE SELECT s1, s2 FROM t1 ORDER BY s1"
"EXPLAIN FORMAT=TREE SELECT p FROM t1 WHERE p < 10"
"EXPLAIN FORMAT=TREE SELECT p, c FROM t1 WHERE p < 10"
"EXPLAIN FORMAT=TREE SELECT p FROM t1 WHERE p < 1"
"EXPLAIN FORMAT=TREE SELECT p FROM t1 WHERE p < 2"
"EXPLAIN FORMAT=TREE SELECT p FROM t1 WHERE p < 3"
"EXPLAIN FORMAT=TREE SELECT p FROM t1 WHERE p < 20"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE p < 10"
"EXPLAIN FORMAT=TREE SELECT s0 FROM t1 WHERE s0 < 10"
"EXPLAIN FORMAT=TREE SELECT s1 FROM t1 WHERE s1 < 10"
"EXPLAIN FORMAT=TREE SELECT s1, s2 FROM t1 WHERE s1 < 10"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY c1 LIMIT 1"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY c1 LIMIT 2"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY c1 LIMIT 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY c1 LIMIT 200"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 ORDER BY c1 LIMIT 400"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 AND c2 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 AND c2 < 100 AND c3 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 AND c2 < 100 AND c3 < 100 AND c4 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 AND c2 < 100 AND c3 < 100 AND c4 < 100 AND c5 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 AND c2 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 AND c2 < 900 AND c3 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 AND c2 < 900 AND c3 < 900 AND c4 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 AND c2 < 900 AND c3 < 900 AND c4 < 900 AND c5 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 OR c2 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 OR c2 < 100 OR c3 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 OR c2 < 100 OR c3 < 100 OR c4 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 100 OR c2 < 100 OR c3 < 100 OR c4 < 100 OR c5 < 100"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 OR c2 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 OR c2 < 900 OR c3 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 OR c2 < 900 OR c3 < 900 OR c4 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE c1 < 900 OR c2 < 900 OR c3 < 900 OR c4 < 900 OR c5 < 900"
"EXPLAIN FORMAT=TREE SELECT * FROM t3 AS a JOIN t3 AS b ON a.c1 = b.c1"
"EXPLAIN FORMAT=TREE SELECT * FROM t2 AS a JOIN t3 AS b ON a.c1 = b.c1"
"EXPLAIN FORMAT=TREE SELECT * FROM t2 AS a JOIN t2 AS b ON a.c1 = b.c1"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 JOIN t2 ON t1.c1 = t2.c1"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 JOIN t2 ON t1.c1 = t2.c5"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 JOIN t2 ON t1.c1 = t2.c10"
"EXPLAIN FORMAT=TREE SELECT * FROM t0"
"EXPLAIN FORMAT=TREE SELECT * FROM t2"
"EXPLAIN FORMAT=TREE SELECT * FROM t3"
"EXPLAIN FORMAT=TREE SELECT s FROM t3"
"EXPLAIN FORMAT=TREE SELECT * FROM t3 WHERE s < 10"
"EXPLAIN FORMAT=TREE SELECT * FROM t3 WHERE s < 500"
"EXPLAIN FORMAT=TREE SELECT s FROM t3 ORDER BY s"
"EXPLAIN FORMAT=TREE SELECT * FROM t3 ORDER BY s"
"EXPLAIN FORMAT=TREE SELECT * FROM t3 ORDER BY s LIMIT 10"
"EXPLAIN FORMAT=TREE SELECT * FROM t3 WHERE p = 0"
"EXPLAIN FORMAT=TREE SELECT * FROM t3, t2 WHERE t3.c = t2.c"
"EXPLAIN FORMAT=TREE SELECT * FROM t3, t0 WHERE t3.c = t0.c"
"EXPLAIN FORMAT=TREE SELECT * FROM t3, t1 WHERE t3.p = t1.p"
"EXPLAIN FORMAT=TREE SELECT * FROM t3, t1 WHERE t3.s = t1.c"
"EXPLAIN FORMAT=TREE SELECT * FROM t2 AS t WHERE t.s < 33"
"EXPLAIN FORMAT=TREE SELECT * FROM t_wide AS t WHERE t.s < 33"
"EXPLAIN FORMAT=TREE SELECT * FROM t WHERE s0 = 0"
"EXPLAIN FORMAT=TREE SELECT * FROM t WHERE s1 = 0"
"EXPLAIN FORMAT=TREE SELECT * FROM t WHERE s3 = 0"
"CREATE TRIGGER post_insert_t1 AFTER INSERT ON t1
FOR EACH ROW BEGIN
INSERT INTO t3 VALUES(5);
END"
"CREATE TRIGGER post_update_t1 AFTER UPDATE ON t1
FOR EACH ROW BEGIN
INSERT INTO t3 VALUES(4);
END"
"CREATE TRIGGER post_insert_t1 AFTER INSERT ON t1
FOR EACH ROW BEGIN
INSERT IGNORE INTO t3 VALUES (5),(6);
END"
"CREATE TRIGGER post_update_t1 AFTER UPDATE ON t1
FOR EACH ROW BEGIN
INSERT IGNORE INTO t3 VALUES(4);
END"
"SELECT HEX(c1) FROM t5 WHERE c1 = b'1' ORDER BY c1"
"SELECT HEX(c1) FROM t5 WHERE c1 <=> b'1' ORDER BY c1"
"SELECT HEX(c1) FROM t5 WHERE c1 != b'1' ORDER BY c1"
"LET $OLD_DB= `SELECT DATABASE()`"
"chdir $ENV{'MYSQL_TMP_DIR'}"
"EOF
let $EXPORT_DIR= $MYSQL_TMP_DIR/export"
"IMPORT TABLE FROM 't1_*.sdi'"
"opendir(TMP, ""$ENV{'MYSQL_TMP_DIR'}/export"")"
"chdir ""$ENV{'MYSQL_TMP_DIR'}/export"""
"my $base= $1"
"rename $_, ""${base}.sdi"""
"open(T1, ""t1.sdi"")"
"open(T1_, "">t1_.sdi"")"
"print T1_ $_"
close(T1_)
"CREATE USER noimportforyou@localhost"
"REVOKE ALL ON *.* FROM noimportforyou@localhost"
"GRANT CREATE ON s1.t1 TO noimportforyou@localhost"
"IMPORT TABLE FROM 't1_*.sdi', 't2_*.sdi'"
"EOF

IMPORT TABLE FROM 't1_.sdi'"
"IMPORT TABLE FROM 's1/t1*.sdi'"
"rename $_, ""${b}.sdi"""
next
"rename $_, ""${b}.MYD"""
"rename $_, ""${b}.MYI"""
"open(T1, ""t_case.sdi"")"
"open(T1_, "">t_case_.sdi"")"
"rename ""t_case_.sdi"", ""t_case.sdi"""
"EOF

IMPORT TABLE FROM 't_case.sdi'"
"EOF




IMPORT TABLE FROM 't_case.sdi'"
"IMPORT TABLE FROM 'test/t1*.sdi'"
"create table t1 as
select id, c2, count(*) over w cnt,
c3,
c4, c5,
c6, c7, c8,
c9, c10, c11,
c12, c13,
c14, c15, c16
from bureau window w as (partition by id)"
"create table t2 as
select id, c2, count(*) over w cnt,
c3,
c4, c5,
c6, c7, c8,
c9, c10, c11,
c12, c13,
c14, c15, c16
from bureau window w as (partition by id)"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE f1 < 3 or f2 > 1020"
"EXPLAIN FORMAT=tree SELECT COUNT(f2)
FROM t1 WHERE (f3 = 10 OR f2 BETWEEN 5 AND 10) AND f1 = f2"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 WHERE b=0 AND c=0"
"create user mysqltest_3"
"grant select (a) on mysqltest.t1 to mysqltest_2@localhost"
"grant select on mysqltest.v1 to mysqltest_3"
"drop function if exists sub1"
"drop function if exists sub2"
"show function status where db='test'"
"show create function sub1"
"show create function sub2"
"show function status like ""sub2"""
"drop function sub2"
"drop function sub1"
"create user joe@localhost"
"grant select (a) on test.t1 to joe@localhost with grant option"
"create user mysqltest_4@localhost"
"create trigger trg1 before insert on t1 for each row
begin
if new.j > 10 then
set new.j := 10;
end if;
end"
"create trigger trg2 before update on t1 for each row
begin
if old.i % 2 = 0 then
set new.j := -1;
end if;
end"
"create trigger trg3 after update on t1 for each row
begin
if new.j = -1 then
set @fired:= ""Yes"";
end if;
end"
"create user user1@localhost, user2@localhost, user3@localhost, user4@localhost"
"grant select (f1) on mysqltest.t1 to user1@localhost"
"grant select on mysqltest.t2 to user2@localhost"
"create trigger tr1 after insert on t1 for each row set @test_var=42"
"DROP FUNCTION IF EXISTS f1"
"CREATE USER mysql_bug20230@localhost"
"GRANT EXECUTE ON FUNCTION f1 TO mysql_bug20230@localhost"
"DROP FUNCTION IF EXISTS get_value"
"DROP FUNCTION get_value"
"create trigger mysqltest.t1_ai after insert on mysqltest.t1
for each row set @a = new.a + new.b + new.c"
"grant select(b) on mysqltest.t1 to mysqltest_1@localhost"
"explain format=tree select * from information_schema.engines WHERE ENGINE=""MyISAM"""
"create user user3148@localhost"
"CREATE USER nonpriv"
"GRANT SELECT ON *.* TO Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost"
"CREATE TABLE t1(fld1 BINARY(10) NOT NULL DEFAULT 'a',
fld2 BINARY(10) NOT NULL DEFAULT 0xAA,
fld3 BINARY(10) NOT NULL DEFAULT 0xA,
fld4 BINARY(10) NOT NULL DEFAULT b'1001',
fld5 VARBINARY(5) NOT NULL DEFAULT 'a',
fld6 VARBINARY(5) NOT NULL DEFAULT 0xAA,
fld7 VARBINARY(5) NOT NULL DEFAULT 0xA,
fld8 VARBINARY(5) NOT NULL DEFAULT b'1001')"
"CREATE TABLE t1 (f1 DATE NOT SECONDARY)"
"ALTER TABLE  t1 MODIFY f1 DATE NOT SECONDARY"
"CREATE TABLE t1 (f1 INT) SECONDARY_ENGINE=myisam"
"ALTER TABLE t1 SECONDARY_ENGINE=myisam"
"DROP FUNCTION test_func1"
"ALTER FUNCTION test_func5 COMMENT 'new comment added'"
"SHOW FUNCTION STATUS"
"SET @table = 't1'"
"EXECUTE ps1 USING @expected, @db, @table"
"create user mysqltest1@localhost"
"create procedure p1(out sum int)
begin
declare n int default 0;
declare c cursor for select * from t1;
declare exit handler for not found
begin
close c;
set sum = n;
end;

open c;
loop
begin
declare x int;

fetch c into x;
if x > 3 then
set n = n + x;
end if;
end;
end loop;
end"
"select @sum"
"create trigger trg1
after insert on t2
for each row
insert into t1 values (new.y)"
"CREATE USER user1@localhost PASSWORD EXPIRE"
"CREATE USER ''@localhost"
"my $passwd_file= $ENV{'PASSWD_FILE'} or die"
"my $FILE"
"print ""password found\n"""
"my $OUT_FILE"
"open(OUT_FILE, ""> $passwd_file"")"
"print OUT_FILE ""delimiter lessprobability;\n"""
"print OUT_FILE ""let new_pwd=$passwd"""
"print OUT_FILE ""lessprobability\n"""
"print OUT_FILE ""--delimiter ;\n"""
close(OUT_FILE)
"EOF

source $passwd_file"
"EOF

mkdir $DDIR"
"my $mysqldir=""$ENV{'DDIR'}/mysql"""
closedir($dh)
"my $bootstrap_file= $ENV{'BOOTSTRAP_SQL'} or die"
"open(OUT_FILE, ""> $bootstrap_file"") or die"
"print OUT_FILE ""INSTALL PLUGIN validate_password SONAME '"" or die"
"print OUT_FILE $ENV{'VALIDATE_PASSWORD'} or die"
"print OUT_FILE ""';\n"" or die"
"print OUT_FILE ""CREATE TABLE mysql.t1 AS SELECT * FROM INFORMATION_SCHEMA.plugins;\n"" or die"
"print OUT_FILE ""UNINSTALL PLUGIN validate_password;\n"" or die"
"print OUT_FILE ""CREATE DATABASE test;\n"" or die"
"EOF


remove_file $MYSQL_TMP_DIR/bug35254025init.sql"
"CREATE USER u3@localhost"
"my $log= $ENV{'MYSQLD_LOG'} || die ""Failed to read MYSQLD_LOG from env: $!"""
"open(FILE, ""$log"") || die ""Failed to open error log: $!"""
"EOF


SELECT * FROM information_schema.schemata"
"EOF




connect(root_con,localhost,root,,mysql)"
"create procedure p1()
begin
declare counter integer default 0;
declare continue handler for sqlexception begin set counter = counter + 10;end;
repeat
if rand()>0.5 then start transaction; end if;
if rand()>0.5 then
select var_samp(1), exists(select 1 from t1 lock in share mode)
from t1 into @a,@b;
end if;
if rand()>0.5 then
select var_samp(1), exists(select 1 from t1 for update)
from t1 into @a,@b;
end if;
if rand()>0.5 then insert ignore into t1 values (); end if;
if rand()>0.5 then insert ignore into t2 values (); end if;
if rand()>0.5 then delete from t1; end if;
if rand()>0.5 then delete from t2; end if;
if rand()>0.5 then commit; end if;
set counter = counter + 1;
until counter >= 100 end repeat;
end "
"drop function if exists f3"
"drop function if exists f4"
"drop function if exists f5"
"drop function if exists f6"
"drop function if exists f7"
"drop function if exists f8"
"drop function if exists f9"
"drop function if exists f10"
"drop function if exists f11"
"drop function if exists f12"
"drop function if exists f13"
"drop function if exists f14"
"drop function if exists f15"
"create procedure p2(inout p int)
begin
select i from t1 where i = 1 into p;
end"
"create trigger t4_bi before insert on t4 for each row
begin
declare k int;
select i from t1 where i=1 into k;
set new.l= k+1;
end"
"create trigger t4_bu before update on t4 for each row
begin
if (select i from t1 where i=1) then
set new.l= 2;
end if;
end"
"create trigger t4_bd before delete on t4 for each row
begin
if !(select i from v1 where i=1) then
signal sqlstate '45000';
end if;
end"
"create trigger t5_bi before insert on t5 for each row
begin
set new.l= f1()+1;
end"
"create trigger t5_bu before update on t5 for each row
begin
declare j int;
call p2(j);
set new.l= j + 1;
end"
"drop function f3"
"drop function f4"
"drop function f5"
"drop function f6"
"drop function f7"
"drop function f8"
"drop function f9"
"drop function f10"
"drop function f11"
"drop function f12"
"drop function f13"
"drop function f14"
"drop function f15"
"/* 8 */
INSERT INTO t1 (id) SELECT id FROM t1"
"/* 12 */
INSERT INTO t1 (id) SELECT id FROM t1"
"/* 16 */
INSERT INTO t1 (id) SELECT id FROM t1"
"/* 20 */
INSERT INTO t1 (id) SELECT id FROM t1"
"/* 24 */
INSERT INTO t1 SELECT id+1 FROM t1"
"CREATE USER user20989@localhost"
"CREATE TABLE t1(a INT,
b INT GENERATED ALWAYS AS (-a) VIRTUAL,
c INT GENERATED ALWAYS AS (-a) STORED)"
"CREATE TABLE t1 (
Ã‘ INTEGER,
N INTEGER,
a INTEGER,
b INTEGER,
c INTEGER,
d INTEGER,
e INTEGER,
f INTEGER,
g INTEGER,
h INTEGER,
i INTEGER,
j INTEGER,
k INTEGER,
l INTEGER,
m INTEGER,
na INTEGER,
o INTEGER,
p INTEGER,
q INTEGER,
r INTEGER,
s INTEGER,
t INTEGER,
u INTEGER,
v INTEGER,
w INTEGER,
x INTEGER,
y INTEGER,
z INTEGER,
aa INTEGER,
ab INTEGER,
ac INTEGER,
ad INTEGER
)"
"INSERT INTO t1 (Ã‘, N) VALUES (1, 2)"
"CREATE TABLE t1 (f1 INTEGER, b INTEGER AS ((1)) INVISIBLE, KEY k1(b))"
"CREATE TRIGGER trig1 BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 VALUES (1)"
"INSERT INTO t1 (a) VALUES(x'616263AC646566')"
"SELECT *, HEX(a) FROM t1 WHERE a = x'FFA5A4ABACA9'"
"CREATE TABLE t1(
Month date NOT NULL,
Type tinyint(3) unsigned NOT NULL auto_increment,
Field int(10) unsigned NOT NULL,
Count int(10) unsigned NOT NULL,
UNIQUE KEY Month (Month,Type,Field)
)engine=myisam"
"Select null, Field, Count From t1 Where Month=20030901 and Type=2"
"insert into t2 Select null, Field, Count From t1 Where Month=20030901 and Type=2"
enable_info
disable_info
"INSERT INTO t1 values(x'6162', x'6162', x'6162')"
"INSERT INTO t2 values(x'6162', x'6162', x'6162')"
"INSERT INTO t3 values(x'6162', x'6162', x'6162')"
"INSERT INTO t1 values(x'8142', x'8142', x'8142')"
"UPDATE t1 SET a=x'8243' where a=x'6162'"
"INSERT INTO t2 values(x'8142', x'8142', x'8142')"
"UPDATE t2 SET a=x'8243' where a=x'6162'"
"INSERT INTO t3 values(x'8142', x'8142', x'8142')"
"UPDATE t3 SET a=x'8243' where a=x'6162'"
"INSERT INTO v1 values(x'6162', x'6162', x'6162')"
"INSERT INTO v2 values(x'6162', x'6162', x'6162')"
"INSERT INTO v3 values(x'6162', x'6162', x'6162')"
"INSERT INTO v1 values(x'8142', x'8142', x'8142')"
"UPDATE v1 SET a=x'8243' where a=x'6162'"
"INSERT INTO v2 values(x'8142', x'8142', x'8142')"
"UPDATE v2 SET a=x'8243' where a=x'6162'"
"INSERT INTO v3 values(x'8142', x'8142', x'8142')"
"UPDATE v3 SET a=x'8243' where a=x'6162'"
"INSERT INTO t_latin1 values(x'f242', x'f242', x'f242')"
"UPDATE t_latin1 SET a=x'f343' where a=x'f242'"
"INSERT INTO t_gb2312 values(x'e5ac', x'e5ac', x'e5ac')"
"UPDATE t_gb2312 SET a=x'e6af' where a=x'e5ac'"
"INSERT INTO t_utf8 values(x'e4b8ad', x'e4b8ad', x'e4b8ad')"
"INSERT INTO t_utf8 values(x'f4b8ad', x'f4b8ad', x'f4b8ad')"
"UPDATE t_utf8 SET a=x'e69687' where a=x'e4b8ad'"
"UPDATE t_utf8 SET a=x'f69687' where a=x'e69687'"
"INSERT INTO v_latin1 values(x'f242', x'f242', x'f242')"
"UPDATE v_latin1 SET a=x'f343' where a=x'f242'"
"INSERT INTO v_gb2312 values(x'e5ac', x'e5ac', x'e5ac')"
"UPDATE v_gb2312 SET a=x'e6af' where a=x'e5ac'"
"INSERT INTO v_utf8 values(x'e4b8ad', x'e4b8ad', x'e4b8ad')"
"INSERT INTO v_utf8 values(x'f4b8ad', x'f4b8ad', x'f4b8ad')"
"UPDATE v_utf8 SET a=x'e69687' where a=x'e4b8ad'"
"UPDATE v_utf8 SET a=x'f69687' where a=x'e69687'"
"explain format=tree select SQL_BUFFER_RESULT * from t1"
"explain format=tree select * from t1 order by func1(a)"
"drop function func1"
"explain format=tree SELECt a FROM t1 group by b order by sum(a)"
"explain format=tree select SQL_BIG_RESULT distinct * from t1, t2"
"explain format=tree select SQL_BIG_RESULT t1.b from t1, t2 group by t1.b"
"explain format=tree select SQL_BIG_RESULT distinct t1.a from t1, t2 group by t1.b"
"explain format=tree select t1.* from t1 inner join t2 where t1.a = t2.a group by t1.a"
"explain format=tree select distinct t1.a from t1, t2 where  t1.b = t2.b"
"explain format=tree select distinct b from t3 group by a"
"explain format=tree select distinct t3.a,e from t3, t1 order by t3.b"
"explain format=tree select * from t1 union all select * from t2"
"explain format=tree select tt.* from (select * from t1) as tt"
"explain format=tree select * from (select b from t1) as t1, (select b from t2) as t2"
"explain format=tree select * from t1, (select * from t3) as t where t.a =5"
"explain format=tree select * from t1 where t1.a in (select a from t2) "
"explain format=tree select * from information_schema.character_sets order by 1 limit 3"
"explain format=tree update t1, t2 set t1.a = 9, t2.a = 10 where t1.b = 'a'"
"explain format=tree select count(distinct a) from t1"
"explain format=tree select b, group_concat(a) from t1"
"explain format=tree
select * from t1 left join t2 on t1.a = t2.a order by t1.b"
"explain format=tree select a from t1 group by b"
"explain format=tree select distinct b from t1"
"explain format=tree select distinct concat(c1, repeat('xx', 250)) as cc from t2"
"explain format=tree select concat(c1, repeat('xx', 250)) as cc from t2 group by cc"
"explain format=tree select count(distinct concat(c1, repeat('xx', 250))) as cc from t2"
"explain format=tree select distinct * from test"
"explain format=tree select * from t3 where b in (select a from t1)"
"create trigger trg before update on t3 for each row set new.b=new.b+1"
"CREATE TABLE t1(f1 INT INVISIBLE, f2 INT)"
"CREATE TABLE t1 (f1 INT, f2 INT PRIMARY KEY INVISIBLE)"
"CREATE TABLE t2 (f1 INT PRIMARY KEY INVISIBLE, f2 INT,
CONSTRAINT FOREIGN KEY (f1) REFERENCES t1(f2))"
"ALTER TABLE t1 ALTER COLUMN f1 SET INVISIBLE, ALGORITHM = INPLACE"
"ALTER TABLE t1 CHANGE f1 f1 INT VISIBLE, ALGORITHM = INPLACE"
"ALTER TABLE t1 MODIFY f1 INT INVISIBLE, ALGORITHM = INPLACE"
"ALTER TABLE t1 ALTER COLUMN f1 SET INVISIBLE, ALGORITHM = INSTANT"
"ALTER TABLE t1 CHANGE f1 f1 INT VISIBLE, ALGORITHM = INSTANT"
"ALTER TABLE t1 MODIFY f1 INT INVISIBLE, ALGORITHM = INSTANT"
"CREATE TABLE t1(a INT, b DATE NOT NULL INVISIBLE)
PARTITION BY RANGE( YEAR(b) ) (
PARTITION p0 VALUES LESS THAN (1960),
PARTITION p1 VALUES LESS THAN (1970),
PARTITION p2 VALUES LESS THAN (1980),
PARTITION p3 VALUES LESS THAN (1990))"
"CREATE TABLE t1(id INT NOT NULL INVISIBLE, name VARCHAR(10))
PARTITION BY LIST(id) (
PARTITION p0 VALUES IN (10,19),
PARTITION p1 VALUES IN (20,29),
PARTITION p2 VALUES IN (30,39),
PARTITION p3 VALUES IN (40,49))"
"CREATE TABLE t1(id INT NOT NULL INVISIBLE, name VARCHAR(40))
PARTITION BY HASH(id)
PARTITIONS 4"
"CREATE TABLE t1(id INT PRIMARY KEY NOT NULL INVISIBLE, name VARCHAR(40))
PARTITION BY KEY()
PARTITIONS 4"
"CREATE TABLE t1 (f1 INT PRIMARY KEY INVISIBLE, f2 INT UNIQUE INVISIBLE,
f3 INT, FOREIGN KEY (f2) REFERENCES t1(f1))"
"CREATE TABLE t1 ( a INT GENERATED ALWAYS AS (1), KEY (a) INVISIBLE )"
"CREATE TRIGGER trig1 AFTER INSERT ON t1 FOR EACH ROW
INSERT INTO t2 SELECT COUNT(*)>1 FROM information_schema.columns"
"CREATE TABLE t1 (
id int(11) NOT NULL auto_increment,
token varchar(100) DEFAULT '' NOT NULL,
count int(11) DEFAULT '0' NOT NULL,
qty int(11),
phone char(1) DEFAULT '' NOT NULL,
timestamp datetime DEFAULT '0000-00-00 00:00:00' NOT NULL,
PRIMARY KEY (id),
KEY token (token(15)),
KEY timestamp (timestamp),
UNIQUE token_2 (token(75),count,phone)
)"
"select a.id, b.category as catid, b.state as stateid, b.county as countyid from t1 a, t2 b ignore index (primary) where (a.token ='a71250b7ed780f6ef3185bfffe027983') and (a.count = b.id)"
"select a.id, b.category as catid, b.state as stateid, b.county as
countyid from t1 a, t2 b where (a.token =
'a71250b7ed780f6ef3185bfffe027983') and (a.count = b.id) order by a.id"
"explain format=json select straight_join count(*) from parent
join eq_child as c1 on c1.a = parent.b and c1.b = parent.b
join eq_child as c2 on c2.a = parent.b and c2.b = parent.b
join eq_child as c3 on c3.a = parent.b and c3.b = parent.b
join eq_child as c4 on c4.a = parent.b and c4.b = parent.b
"
"EXPLAIN FORMAT=tree SELECT t1.i AS a, (SELECT t2.i FROM t t2 WHERE t1.j = t2.j ORDER BY j DESC, i DESC LIMIT 1) AS b FROM t t1"
"SELECT *
FROM t1
NATURAL JOIN (
SELECT t2.*
FROM t1 AS t2 JOIN t1 AS t3 ON t3.c1 = t2.c1
WHERE t2.c3 <> ANY (SELECT c3 FROM t1)
) AS d1"
"EXPLAIN SELECT * FROM t1 AS x3 WHERE EXISTS
(SELECT * FROM t1 AS x1 JOIN t1 AS x2 ON x1.b=x2.b
JOIN LATERAL (SELECT COUNT(a) AS c FROM t1
WHERE t1.b=x1.b) AS d3 ON x1.b=c)"
"SELECT *
FROM t1, t2, LATERAL (
SELECT pk, blobfield
GROUP BY pk, blobfield WITH ROLLUP
) AS d1
ORDER BY t1.f1, t2.pk"
"SELECT MIN(t3.f1)
FROM (t2 JOIN (t3 JOIN (SELECT t1.*
FROM t1
WHERE t1.f2 < t1.f2) AS dt
ON (dt.f1 = t3.f1))
ON (dt.f2 = t3.f2))
WHERE (dt.f2 <> ANY (SELECT t1.f1 FROM t1 WHERE t1.f2 = dt.f2))"
"create table t4 like t3"
"create table t5 like t4"
"create table t6 like t5"
"create table t7 like t6"
"create table t3 like t2"
"EXPLAIN FORMAT=tree select t1.*,t2.* from t1 left join t2 on (t1.a=t2.a) order by t1.grp,t1.a,t2.c"
"CREATE TABLE t2 (
id INT unsigned NOT NULL DEFAULT 0,
usr2_id INT unsigned NOT NULL DEFAULT 0,
max INT unsigned NOT NULL DEFAULT 0,
c_amount INT unsigned NOT NULL DEFAULT 0,
d_max INT unsigned NOT NULL DEFAULT 0,
d_num INT unsigned NOT NULL DEFAULT 0,
orig_time INT unsigned NOT NULL DEFAULT 0,
c_time INT unsigned NOT NULL DEFAULT 0,
active ENUM (""no"",""yes"") NOT NULL,
PRIMARY KEY (id,usr2_id),
INDEX id_idx (id),
INDEX usr2_idx (usr2_id)
)"
"SELECT t1.usr_id,t1.uniq_id,t1.increment,
t2.usr2_id,t2.c_amount,t2.max
FROM t1
LEFT JOIN t2 ON t2.id = t1.uniq_id
WHERE t1.uniq_id = 4
ORDER BY t2.c_amount"
"SELECT t1.usr_id,t1.uniq_id,t1.increment,
t2.usr2_id,t2.c_amount,t2.max
FROM t2
RIGHT JOIN t1 ON t2.id = t1.uniq_id
WHERE t1.uniq_id = 4
ORDER BY t2.c_amount"
"SELECT t1.usr_id,t1.uniq_id,t1.increment,t2.usr2_id,t2.c_amount,t2.max FROM t1 LEFT JOIN t2 ON t2.id = t1.uniq_id WHERE t1.uniq_id = 4 ORDER BY t2.c_amount"
"SELECT t1.usr_id,t1.uniq_id,t1.increment,t2.usr2_id,t2.c_amount,t2.max FROM t1 LEFT JOIN t2 ON t2.id = t1.uniq_id WHERE t1.uniq_id = 4 GROUP BY t2.c_amount"
"SELECT t1.usr_id,t1.uniq_id,t1.increment,t2.usr2_id,t2.c_amount,t2.max FROM t1 LEFT JOIN t2 ON t2.id = t1.uniq_id WHERE t1.uniq_id = 4"
"explain format=tree select t1.name, t2.name, t2.id, t2.owner, t3.id from t1 left join t2 on (t1.id = t2.owner) right join t1 as t3 on t3.id=t2.owner"
"explain format=tree select * from t1 where str is null"
"create table t2 ( count int, color varchar(20) )"
"select t2.count, t1.name from t2 natural join t1"
"select t2.count, t1.name from t2 inner join t1 using (color)"
"SELECT t1.pcode, IF(ISNULL(t2.pcode), 0, COUNT(*)) AS count FROM t1
LEFT JOIN t2 ON t1.pcode = t2.pcode GROUP BY t1.pcode"
"SELECT SQL_BIG_RESULT t1.pcode, IF(ISNULL(t2.pcode), 0, COUNT(*)) AS count FROM t1 LEFT JOIN t2 ON t1.pcode = t2.pcode GROUP BY t1.pcode"
"EXPLAIN FORMAT=tree SELECT t1.col_int
FROM t1
LEFT JOIN t2
LEFT JOIN t3
JOIN t4
ON t3.col_int  = t4.pk
ON t2.col_varchar_10 = t3.col_varchar_10
ON t2.col_int = t1.pk
WHERE   t1.col_int_key IS NULL OR t4.pk < t3.col_int"
"create table ti (k int, index using btree (k)) charset utf8mb4 engine=innodb"
"create table th (k int, index using btree (k)) charset utf8mb4 engine=heap"
"alter table ti add column l int, add index using btree (l)"
"alter table th add column l int, add index using hash (l)"
"create table ti (k int, index using hash (k)) charset utf8mb4 engine=innodb"
"alter table ti add column l int, add index using hash (l)"
"create table t1 (k int, index using btree (k)) charset utf8mb4 engine=innodb"
"create table t1 (k int, index using hash (k)) charset utf8mb4 engine=heap"
"create table t1 (k int, index using btree (k), index using hash (k)) engine=heap"
"create table t1 (k int, index (k), index using hash (k)) engine=heap"
"create table t1 (k int, index using btree (k), index (k)) engine=innodb"
"create table t1 (k int, index using btree (k), index using hash (k)) engine=innodb"
"SELECT @@global.default.key_buffer_size"
"SELECT @@global.default.`key_buffer_size`"
"create table t3 (like t1)"
"create table tm (k int, index using btree (k)) charset utf8mb4 engine=myisam"
"alter table tm add column l int, add index using btree (l)"
"alter table t1 drop key k, add index using btree (k), algorithm=inplace"
"alter table t1 drop key k, add index using hash (k), algorithm=inplace"
"alter table t1 drop key k, add index using btree (k), algorithm=copy"
"require Expect"
"my $texp = new Expect()"
$texp->raw_pty(1)
$texp->log_stdout(0)
"$texp->log_file(""$ENV{MYSQLD_LOG}"", ""w"")"
"$texp->spawn(""$ENV{MYSQLD} $ENV{MYSQLD_ARGS}"")"
"$texp->expect(15,' -re ',[ 'Enter password:' => sub {
$texp->send(""a\n"")"
$texp->soft_close()
"DROP FUNCTION IF EXISTS MY_KILL"
connect
"DROP FUNCTION MY_KILL"
"DROP FUNCTION bug27563"
"CREATE TRIGGER trg27563 BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
DECLARE CONTINUE HANDLER FOR SQLSTATE '70100' SET @a:= 'killed';
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SET @a:= 'exception';
INSERT INTO t2 VALUES(0);
SET DEBUG_SYNC= 'now SIGNAL in_sync WAIT_FOR kill';
INSERT INTO t2 VALUES(1);
END"
"SELECT LEAD(6, 0)    OVER ()"
"SELECT LEAD(NULL, 0) OVER ()"
"SELECT LEAD(6, 0)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LEAD(NULL, 0) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LEAD(6, 1)    OVER ()"
"SELECT LEAD(NULL, 1) OVER ()"
"SELECT LEAD(6, 1)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LEAD(NULL, 1) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LEAD(6, 1, 7)    OVER ()"
"SELECT LEAD(NULL, 1, 7) OVER ()"
"SELECT LEAD(6, 1, 7)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LEAD(NULL, 1, 7) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT id, sex, LEAD(id, 1) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, LEAD(id, 0) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, LEAD(id, 1, id) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, LEAD(id, 0, 7) RESPECT NULLS OVER () FROM t1"
"INSERT INTO t VALUES(x'F09F90AC' /* dolphin */, 5, null)"
"SELECT c1, c2, LEAD(c1, 0, c2) OVER () l0 FROM t"
"SELECT c1, c2, LEAD(c1, 1, c2) OVER () l1 FROM t"
"SELECT c1, c2, LEAD(c2, 1, c1) OVER () l1 FROM t"
"CREATE TABLE tt AS SELECT LEAD(c1, 0, c2) OVER () c FROM t"
"CREATE TABLE ts AS SELECT LEAD(c2, 1, c1) OVER () c FROM t"
"SELECT LEAD(c1, 100, j1) OVER () lcj, IFNULL(c1, j1) ifn_cj FROM t"
"SELECT LEAD(j1, 100, j1) OVER () lcj, IFNULL(c1, j1) ifn_cj FROM t"
"SELECT HEX(LEAD(c1, 100, g1) OVER ()) lcg, HEX(IFNULL(c1, g1)) ifn_cg FROM t"
"SELECT LEAD(c1, 100, i1) OVER () lci, IFNULL(c1, i1) ifn_ci FROM t"
"SELECT LEAD(c1, 100, b1) OVER () lcb, IFNULL(c1, b1) ifn_cb FROM t"
"SELECT LEAD(c1, 100, d1) OVER () lcd, IFNULL(c1, d1) ifn_cd FROM t"
"SELECT LEAD(c1, 100, e1) OVER () lce1, IFNULL(c1, e1) ifn_ce1 FROM t"
"SELECT LEAD(c1, 100, e2) OVER () lce2, IFNULL(c1, e2) ifn_ce2 FROM t"
"SELECT LEAD(j1, 100, c1) OVER () ljc, IFNULL(j1, c1) ifn_jc FROM t"
"SELECT HEX(LEAD(j1, 100, g1) OVER ()) ljg, HEX(IFNULL(j1, g1)) ifn_jg FROM t"
"SELECT LEAD(j1, 100, i1) OVER () lji, IFNULL(j1, i1) ifn_ji FROM t"
"SELECT LEAD(j1, 100, b1) OVER () ljb, IFNULL(j1, b1) ifn_jb FROM t"
"SELECT LEAD(j1, 100, d1) OVER () ljd, IFNULL(j1, d1) ifn_jd FROM t"
"SELECT LEAD(j1, 100, e1) OVER () lje1, IFNULL(j1, e1) ifn_je1 FROM t"
"SELECT LEAD(j1, 100, e2) OVER () lje2, IFNULL(j1, e2) ifn_je2 FROM t"
"SELECT HEX(LEAD(g1, 100, c1) OVER ()) lgc, HEX(IFNULL(g1, c1)) ifn_gc FROM t"
"SELECT HEX(LEAD(g1, 100, j1) OVER ()) lgj, HEX(IFNULL(g1, j1)) ifn_gj FROM t"
"SELECT HEX(LEAD(g1, 100, i1) OVER ()) lgi, HEX(IFNULL(g1, i1)) ifn_gi FROM t"
"SELECT HEX(LEAD(g1, 100, b1) OVER ()) lgb, HEX(IFNULL(g1, b1)) ifn_gb FROM t"
"SELECT HEX(LEAD(g1, 100, d1) OVER ()) lgd, HEX(IFNULL(g1, d1)) ifn_gd FROM t"
"SELECT HEX(LEAD(g1, 100, e1) OVER ()) lge1, HEX(IFNULL(g1, e1)) ifn_ge1 FROM t"
"SELECT HEX(LEAD(g1, 100, e2) OVER ()) lge2, HEX(IFNULL(g1, e2)) ifn_ge2 FROM t"
"SELECT LEAD(i1, 100, c1) OVER () lic, IFNULL(i1, c1) ifn_ic FROM t"
"SELECT LEAD(i1, 100, j1) OVER () lij, IFNULL(i1, j1) ifn_ij FROM t"
"SELECT HEX(LEAD(i1, 100, g1) OVER ()) lig, HEX(IFNULL(i1, g1)) ifn_ig FROM t"
"SELECT LEAD(i1, 100, b1) OVER () lib, IFNULL(i1, b1) ifn_ib FROM t"
"SELECT LEAD(i1, 100, d1) OVER () lid, IFNULL(i1, d1) ifn_id FROM t"
"SELECT LEAD(i1, 100, e1) OVER () lie1, IFNULL(i1, e1) ifn_ie1 FROM t"
"SELECT LEAD(i1, 100, e2) OVER () lie2, IFNULL(i1, e2) ifn_ie2 FROM t"
"SELECT LEAD(b1, 100, c1) OVER () lbc, IFNULL(b1, c1) ifn_bc FROM t"
"SELECT LEAD(b1, 100, j1) OVER () lbj, IFNULL(b1, j1) ifn_bj FROM t"
"SELECT HEX(LEAD(b1, 100, g1) OVER ()) lbg, HEX(IFNULL(b1, g1)) ifn_bg FROM t"
"SELECT LEAD(b1, 100, i1) OVER () lbi, IFNULL(b1, i1) ifn_bi FROM t"
"SELECT LEAD(b1, 100, d1) OVER () lbd, IFNULL(b1, d1) ifn_bd FROM t"
"SELECT LEAD(b1, 100, e1) OVER () lbe1, IFNULL(b1, e1) ifn_be1 FROM t"
"SELECT LEAD(b1, 100, e2) OVER () lbe2, IFNULL(b1, e2) ifn_be2 FROM t"
"SELECT LEAD(d1, 100, c1) OVER () ldc, IFNULL(d1, c1) ifn_dc FROM t"
"SELECT LEAD(d1, 100, j1) OVER () ldj, IFNULL(d1, j1) ifn_dj FROM t"
"SELECT HEX(LEAD(d1, 100, g1) OVER ()) ldg, HEX(IFNULL(d1, g1)) ifn_dg FROM t"
"SELECT LEAD(d1, 100, i1) OVER () ldi, IFNULL(d1, i1) ifn_di FROM t"
"SELECT LEAD(d1, 100, b1) OVER () ldd, IFNULL(d1, b1) ifn_db FROM t"
"SELECT LEAD(d1, 100, e1) OVER () lde1, IFNULL(d1, e1) ifn_de1 FROM t"
"SELECT LEAD(d1, 100, e2) OVER () lde2, IFNULL(d1, e2) ifn_de2 FROM t"
"SELECT LEAD(e1, 100, c1) OVER () le1c, IFNULL(e1, c1) ifn_e1c FROM t"
"SELECT LEAD(e1, 100, j1) OVER () le1j, IFNULL(e1, j1) ifn_e1j FROM t"
"SELECT HEX(LEAD(e1, 100, g1) OVER ()) le1g, HEX(IFNULL(e1, g1)) ifn_e1g FROM t"
"SELECT LEAD(e1, 100, i1) OVER () le1i, IFNULL(e1, i1) ifn_e1i FROM t"
"SELECT LEAD(e1, 100, b1) OVER () le1d, IFNULL(e1, b1) ifn_e1d FROM t"
"SELECT LEAD(e1, 100, d1) OVER () le1d, IFNULL(e1, d1) ifn_e1d FROM t"
"SELECT LEAD(e1, 100, e2) OVER () le1e2, IFNULL(e1, e2) ifn_e1e2 FROM t"
"SELECT LEAD(e2, 100, c1) OVER () le2c, IFNULL(e2, c1) ifn_e2c FROM t"
"SELECT LEAD(e2, 100, j1) OVER () le2j, IFNULL(e2, j1) ifn_e2j FROM t"
"SELECT HEX(LEAD(e2, 100, g1) OVER ()) le2g, HEX(IFNULL(e2, g1)) ifn_e2g FROM t"
"SELECT LEAD(e2, 100, i1) OVER () le2i, IFNULL(e2, i1) ifn_e2i FROM t"
"SELECT LEAD(e2, 100, b1) OVER () le2d, IFNULL(e2, b1) ifn_e2d FROM t"
"SELECT LEAD(e2, 100, d1) OVER () le2d, IFNULL(e2, d1) ifn_e2d FROM t"
"SELECT LEAD(e2, 100, e1) OVER () le2e1, IFNULL(e2, e1) ifn_e2e1 FROM t"
"SELECT i, PERCENT_RANK() OVER w cd
FROM t WINDOW w AS (ORDER BY i)"
"SELECT LEAD(i, 3) OVER () FROM t"
"SELECT dt, LEAD(dt, 1) OVER w1 `lead`,
CAST(LEAD(ge, 1) OVER w1 AS JSON) geo
FROM test WHERE `pk` = 2 WINDOW w1 AS ()"
"SELECT dt, LEAD(CAST(dt AS TIME), 1) OVER w1
FROM test WHERE `pk` > 3 WINDOW w1 AS ()"
"SELECT SUM(c/d), LEAD(SUM(c/d), 1) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT SUM(c/d), LEAD(SUM(c/d), 1, SUM(c/d)) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT LEAD(SUM(c/d), 2) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT 1+LEAD(SUM(c/d), 1) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT ADDTIME(LEAD(time'18:00:00', 0) OVER (ORDER BY NULL), '01:00:00')"
"SELECT ADDTIME(LEAD(NULL, 1, time'18:00:00') OVER (ORDER BY NULL), '01:00:00')"
"CREATE VIEW v AS
SELECT LEAD(d, 2) OVER () FROM
(SELECT 1 AS d UNION SELECT 2 UNION SELECT 3) dt"
"SELECT LEAD(a,2) over w1, LEAD(a,1) OVER w1 FROM t1e WINDOW w1 as ()"
"SELECT LEAD(a,2) over w1, LEAD(a,0) OVER w1, LEAD(a,1) OVER w1 FROM t1e WINDOW w1 as ()"
"DO DAYOFYEAR(LEAD(-6653420797178186265 ,29)OVER())"
"DO YEARWEEK(LEAD(FOUND_ROWS(),250)OVER())"
"DO IFNULL((DAYNAME(LEAD(STDDEV(@F),162) OVER())),(0xD73E))"
"DO TO_DAYS(LEAD(((LOCATE(0xA812,0xE8DE))OR(@G)),148)OVER())"
"DO WEEKOFYEAR(LEAD(('5183-10-18 06:15:35.076079')SOUNDS LIKE(0x9E335D89),68)OVER())"
"DO DAYOFYEAR(LEAD(ROW_COUNT(),177)OVER())"
"DO SHA(BIN(MONTHNAME(LEAD(UNCOMPRESSED_LENGTH(SHA1("""")),224)OVER())))"
"DO (((NOT(1)))^(HOUR(MONTHNAME(LEAD(DATABASE(),89)OVER()))))"
"DO MONTHNAME(LEAD(CHARSET(CONVERT((MOD(CURTIME(4),STDDEV(NULL)))USING CP850)),12) OVER())"
"DO LAST_DAY(LEAD(-2201 ,98)RESPECT NULLS OVER())"
"DO OCTET_LENGTH(((LAST_DAY(LEAD(-28178,163)OVER()))OR(COLLATION(@E))))"
"DO ((CAST((LEAD(NULL,152) OVER()) AS TIME))*(1))"
"DO CAST((LEAD(-6011,202) OVER()) AS TIME)"
"DO CAST((LEAD(0x45,104) OVER())AS TIME)"
"DO CAST((LEAD(-197994311,60)OVER())AS DATETIME)"
"DO IFNULL((NULL ),(UNIX_TIMESTAMP(LEAD(NULL,12)RESPECT NULLS OVER())))"
"DO ((CONVERT((VARIANCE(-18951))USING CP866)) <=
(JSON_ARRAY(LEAD(CAST((35184372088833)AS DATETIME),126)OVER())))"
"SELECT ((QUOTE(JSON_KEYS(LEAD(JSON_KEYS(EXP(-15676),ABS('d0')),
162)OVER())))>=(CONNECTION_ID()))"
"SELECT JSON_LENGTH(LEAD(JSON_OBJECTAGG('key2','*B'),172)OVER())"
"SELECT JSON_LENGTH(LEAD(JSON_OBJECTAGG('key2','*B'),0)OVER())"
"SELECT LEAD(set_col) OVER w AS col1,
LEAD(set_col, 1, set_col) OVER w AS col2,
LEAD(set_col, 1, enum_col) OVER w AS col3,
LEAD(set_col, 1, NULL) OVER w AS col4,
LEAD(set_col, 1, '') OVER w AS col5,
LEAD(NULL, 1, set_col) OVER w AS col6
FROM t WINDOW w AS (ORDER BY id) UNION SELECT 1, 2, 3, 4, 5, 6"
"SELECT LEAD(enum_col) OVER w AS col1,
LEAD(enum_col, 1, enum_col) OVER w AS col2,
LEAD(enum_col, 1, set_col) OVER w AS col3,
LEAD(enum_col, 1, NULL) OVER w AS col4,
LEAD(enum_col, 1, '') OVER w AS col5,
LEAD(NULL, 1, enum_col) OVER w AS col6
FROM t WINDOW w AS (ORDER BY id) UNION SELECT 1, 2, 3, 4, 5, 6"
"EXPLAIN FORMAT=JSON SELECT id, sex, LEAD(id, 1) RESPECT NULLS OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, sex, LEAD(id, 0) RESPECT NULLS OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, sex, LEAD(id, 1, id) RESPECT NULLS OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, sex, LEAD(id, 0, 7) RESPECT NULLS OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT c1, c2, LEAD(c1, 0, c2) OVER () l0 FROM t"
"EXPLAIN FORMAT=JSON SELECT c1, c2, LEAD(c1, 1, c2) OVER () l1 FROM t"
"EXPLAIN FORMAT=JSON SELECT c1, c2, LEAD(c2, 1, c1) OVER () l1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, j1) OVER () lcj, IFNULL(c1, j1) ifn_cj FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, g1) OVER () lcg, IFNULL(c1, g1) ifn_cg FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, i1) OVER () lci, IFNULL(c1, i1) ifn_ci FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, b1) OVER () lcb, IFNULL(c1, b1) ifn_cb FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, d1) OVER () lcd, IFNULL(c1, d1) ifn_cd FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, e1) OVER () lce1, IFNULL(c1, e1) ifn_ce1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(c1, 0, e2) OVER () lce2, IFNULL(c1, e2) ifn_ce2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, c1) OVER () ljc, IFNULL(j1, c1) ifn_jc FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, g1) OVER () ljg, IFNULL(j1, g1) ifn_jg FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, i1) OVER () lji, IFNULL(j1, i1) ifn_ji FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, b1) OVER () ljb, IFNULL(j1, b1) ifn_jb FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, d1) OVER () ljd, IFNULL(j1, d1) ifn_jd FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, e1) OVER () lje1, IFNULL(j1, e1) ifn_je1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(j1, 0, e2) OVER () lje2, IFNULL(j1, e2) ifn_je2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, c1) OVER () lgc, IFNULL(g1, c1) ifn_gc FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, j1) OVER () lgj, IFNULL(g1, j1) ifn_gj FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, i1) OVER () lgi, IFNULL(g1, i1) ifn_gi FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, b1) OVER () lgb, IFNULL(g1, b1) ifn_gb FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, d1) OVER () lgd, IFNULL(g1, d1) ifn_gd FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, e1) OVER () lge1, IFNULL(g1, e1) ifn_ge1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(g1, 0, e2) OVER () lge2, IFNULL(g1, e2) ifn_ge2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, c1) OVER () lic, IFNULL(i1, c1) ifn_ic FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, j1) OVER () lij, IFNULL(i1, j1) ifn_ij FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, g1) OVER () lig, IFNULL(i1, g1) ifn_ig FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, b1) OVER () lib, IFNULL(i1, b1) ifn_ib FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, d1) OVER () lid, IFNULL(i1, d1) ifn_id FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, e1) OVER () lie1, IFNULL(i1, e1) ifn_ie1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(i1, 0, e2) OVER () lie2, IFNULL(i1, e2) ifn_ie2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, c1) OVER () lbc, IFNULL(b1, c1) ifn_bc FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, j1) OVER () lbj, IFNULL(b1, j1) ifn_bj FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, g1) OVER () lbg, IFNULL(b1, g1) ifn_bg FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, i1) OVER () lbi, IFNULL(b1, i1) ifn_bi FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, d1) OVER () lbd, IFNULL(b1, d1) ifn_bd FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, e1) OVER () lbe1, IFNULL(b1, e1) ifn_be1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(b1, 0, e2) OVER () lbe2, IFNULL(b1, e2) ifn_be2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, c1) OVER () ldc, IFNULL(d1, c1) ifn_dc FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, j1) OVER () ldj, IFNULL(d1, j1) ifn_dj FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, g1) OVER () ldg, IFNULL(d1, g1) ifn_dg FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, i1) OVER () ldi, IFNULL(d1, i1) ifn_di FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, b1) OVER () ldd, IFNULL(d1, b1) ifn_db FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, e1) OVER () lde1, IFNULL(d1, e1) ifn_de1 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(d1, 0, e2) OVER () lde2, IFNULL(d1, e2) ifn_de2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, c1) OVER () le1c, IFNULL(e1, c1) ifn_e1c FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, j1) OVER () le1j, IFNULL(e1, j1) ifn_e1j FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, g1) OVER () le1g, IFNULL(e1, g1) ifn_e1g FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, i1) OVER () le1i, IFNULL(e1, i1) ifn_e1i FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, b1) OVER () le1d, IFNULL(e1, b1) ifn_e1d FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, d1) OVER () le1d, IFNULL(e1, d1) ifn_e1d FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e1, 0, e2) OVER () le1e2, IFNULL(e1, e2) ifn_e1e2 FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, c1) OVER () le2c, IFNULL(e2, c1) ifn_e2c FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, j1) OVER () le2j, IFNULL(e2, j1) ifn_e2j FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, g1) OVER () le2g, IFNULL(e2, g1) ifn_e2g FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, i1) OVER () le2i, IFNULL(e2, i1) ifn_e2i FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, b1) OVER () le2d, IFNULL(e2, b1) ifn_e2d FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, d1) OVER () le2d, IFNULL(e2, d1) ifn_e2d FROM t"
"EXPLAIN FORMAT=JSON SELECT LEAD(e2, 0, e1) OVER () le2e1, IFNULL(e2, e1) ifn_e2e1 FROM t"
"EXPLAIN FORMAT=JSON SELECT i, PERCENT_RANK() OVER w cd
FROM t WINDOW w AS (ORDER BY i)"
"EXPLAIN FORMAT=TREE SELECT * FROM t1 LIMIT 5 OFFSET 1"
"EXPLAIN FORMAT=tree SELECT JSON_OBJECTAGG(NULL, '') FROM t1, t1 AS t2 GROUP BY t1.pk LIMIT 2 OFFSET 5"
"load data from infile '../../std_data/loaddata1.dat'
into table t1 fields terminated by ',' ignore 2 lines"
"load data infile '../../std_data/loaddata1.dat' in primary key order
into table t1 fields terminated by ',' ignore 2 lines"
"EVAL SELECT 0xE1C330 INTO OUTFILE 't1.dat'"
"CREATE TABLE t1 (
json_col JSON , KEY json_col ((CAST(json_col -> '$' AS UNSIGNED ARRAY)))
)"
"CREATE TABLE ibstd_03 (
a INT NOT NULL,
d INT NOT NULL,
b BLOB NOT NULL,
c TEXT,
vadcol INT AS (a+length(d)) STORED,
vbcol CHAR(2) AS (substr(b,2,2)) VIRTUAL,
vbidxcol CHAR(3) AS (substr(b,1,3)) VIRTUAL
)
"
"load xml infile '../../std_data/loadxml.dat' into table t1
rows identified by '<row>'"
"load xml infile '../../std_data/loadxml.dat' into table t1
rows identified by '<row>' ignore 4 rows"
"LOAD XML INFILE '../../std_data/loadxml.dat' INTO TABLE t1
ROWS IDENTIFIED BY '<row>' (a,@b) SET b=concat('!',@b)"
"CREATE TRIGGER t1_ai AFTER INSERT ON t1 FOR EACH ROW INSERT INTO t2 VALUES (NULL)"
"LOAD XML INFILE '../../std_data/bug30753708.dat' INTO TABLE t1 ROWS IDENTIFIED BY '<address>'"
"create trigger t2_bi before insert on t2 for each row set @a:=1"
"create trigger t1_ai after insert on t1 for each row insert into t2 values (1)"
"CREATE TRIGGER t1_ai AFTER INSERT ON t1 FOR EACH ROW
UPDATE LOW_PRIORITY t1 SET f2 = 7"
"CREATE USER 'testuser1'@'localhost'"
"CREATE TRIGGER testtrigger_1 BEFORE INSERT ON testtable_1 FOR EACH ROW SET @a:=1"
"ALTER TABLE testtable_1 ALGORITHM=INPLACE, ADD COLUMN c3 VARCHAR(255)"
"CREATE USER 'user1'@'localhost'"
"CREATE USER 'user2'@'localhost'"
"CREATE USER 'user3'@'localhost'"
"OPTIMIZE TABLES columns_priv, db, user"
"CREATE TRIGGER bi_t5 BEFORE INSERT ON t5 FOR EACH ROW SET @a:= (SELECT COUNT(*) FROM t1)"
"CREATE TRIGGER bi_t6 BEFORE INSERT ON t6 FOR EACH ROW SET @a:= (SELECT COUNT(*) FROM t2)"
"CREATE TRIGGER bi_t7 BEFORE INSERT ON t7 FOR EACH ROW INSERT INTO t1 VALUES (1)"
"CREATE TRIGGER bi_t8 BEFORE INSERT ON t8 FOR EACH ROW INSERT INTO t2 VALUES (1)"
"CREATE TRIGGER t2_ai AFTER INSERT ON t2 FOR EACH ROW
INSERT LOW_PRIORITY INTO t1 VALUES (2)"
"CREATE TRIGGER t3_ai AFTER INSERT ON t3 FOR EACH ROW
INSERT INTO t1 VALUES (2)"
"drop function if exists f16"
"drop function if exists f17"
"show create function f1"
"show create function f2"
"show create function f3"
"show create function f4"
"show create function f5"
"show create function f6"
"show create function f7"
"show create function f8"
"show create function f9"
"show create function f10"
"show create function f11"
"show create function f12"
"show create function f13"
"show create function f14"
"show create function f15"
"show create function f16"
"show create function f17"
"drop function f16"
"drop function f17"
"SELECT * FROM t1 FOR SHARE SKIP LOCKED"
"SELECT * FROM t1 FOR SHARE OF t1 SKIP LOCKED"
"SELECT * FROM t1 FOR UPDATE OF t1 SKIP LOCKED"
"SELECT * FROM t1, t2 FOR SHARE OF t1, t2 SKIP LOCKED"
"SELECT * FROM t1, t2 FOR UPDATE OF t1, t2 SKIP LOCKED"
"SELECT MIN(a) FROM t1 FOR UPDATE SKIP LOCKED"
"SELECT MAX(a) FROM t1 FOR UPDATE SKIP LOCKED"
"SELECT SUM(a) FROM t1 FOR UPDATE SKIP LOCKED"
"SELECT DISTINCT * FROM t1 FOR UPDATE SKIP LOCKED"
"SELECT MIN(b) FROM t1 GROUP BY a FOR UPDATE SKIP LOCKED"
"CREATE USER test2@localhost"
"CREATE USER user_1@localhost"
"CREATE USER user_2@localhost"
"SELECT 1 FROM DUAL LIMIT 1 INTO @var FOR UPDATE"
"SELECT 1 FROM DUAL LIMIT 1 FOR UPDATE INTO @var"
"SELECT 1 UNION SELECT 1 FOR UPDATE INTO @var"
"CREATE USER mysqluser1"
"GRANT ALL ON db1.t1 TO mysqluser1"
"SELECT * FROM t1 ORDER BY d FOR SHARE SKIP LOCKED"
"SELECT a,count(b) FROM t1 GROUP BY a ORDER BY a FOR SHARE SKIP LOCKED"
"SELECT d,a,b,c FROM t1 partition (p1,p9,p11,p17) ORDER BY d
FOR SHARE SKIP LOCKED"
"SELECT d,a,b,c FROM t1 ORDER BY d FOR SHARE SKIP LOCKED"
"SELECT d,a,b,c FROM t3 ORDER BY d FOR SHARE SKIP LOCKED"
"explain SELECT d,a,b,c FROM t3 ORDER BY d
FOR SHARE SKIP LOCKED"
"SELECT * FROM t1 ORDER BY a FOR UPDATE SKIP LOCKED"
"SELECT a,count(b) FROM t1 GROUP BY a ORDER BY a FOR UPDATE SKIP LOCKED"
"SELECT d,a,b,c FROM t1 partition (p1,p9,p11,p17) ORDER BY d
FOR UPDATE SKIP LOCKED"
"SELECT d,a,b,c FROM t1 ORDER BY d FOR UPDATE SKIP LOCKED"
"SELECT d,a,b,c FROM t3 ORDER BY d FOR UPDATE SKIP LOCKED"
"DROP FUNCTION service_get_read_locks"
"DROP FUNCTION service_get_write_locks"
"DROP FUNCTION service_release_locks"
"explain SELECT * FROM t1, t2 FOR SHARE OF t1 SKIP LOCKED
FOR UPDATE OF t2 NOWAIT"
"SELECT * FROM t1 ORDER BY a FOR SHARE SKIP LOCKED"
"my $file_trad= $ENV{'LOG_FILE_TRAD'}"
"my $file_json= $ENV{'LOG_FILE_JSON'}"
"my $file_conv= $ENV{'LOG_FILE_JSON_TO_TRAD'}"
"my @log_lines_trad=<FILET>"
close(FILET)
"print ""[ PASS ] Successfully read traditional log file.\n"""
"my @log_lines_json=<FILEJ>"
close(FILEJ)
"print ""[ PASS ] Successfully read JSON log file.\n"""
"$string =~ s/\}\n\{/\},\n\{/g "
"my $parsed_json = decode_json $string"
"unless ( $parsed_json )
{
print ""[ FAIL ] Error while parsing the error log as a JSON document:"".
""\n$@\n"""
$success=0
"my $line_count=0"
"for my $item( sort { $a->{time} cmp $b->{time} } @$parsed_json ) {
my $errcode_formatted= sprintf(""%06d"", $item->{'err_code'})"
"my $label= ($item->{'label'} =~ ""Error"") ? uc $item->{'label'}
: $item->{'label'}"
"my $msg= $item->{'msg'}"
"print $outfh $item->{'time'}."" "".$thread_id."" "".""["".$label.""] [MY-"".
$errcode_formatted.""] ["".$item->{'subsystem'}.""] "".$msg . ""\n"""
$line_count++
"use File::Compare"
"my $compare = compare($file_conv, $file_trad)"
"$/ = undef"
"my $contents"
"print ""\n--- Contents of converted file, "".$file_conv."" ---\n"""
"open my $fh, '<', $file_conv or die(""Unable to open $file_conv $!\n"")"
"$contents = <$fh>"
"close $fh"
"print $contents"
"print ""\n--- Contents of native trad file, "".$file_trad."" ---\n"""
"open my $fh, '<', $file_trad or die(""Unable to open $file_trad $!\n"")"
"print ""--- end of inserted log ---\n\n"""
"RESET PERSIST log_error_suppression_list"
"INSTALL COMPONENT ""file://component_log_sink_json"""
"UNINSTALL COMPONENT ""file://component_log_sink_json"""
"INSTALL COMPONENT ""file://component_log_sink_test"""
"UNINSTALL COMPONENT ""file://component_log_sink_test"""
"use File::stat"
"my $pattern=""^20"""
"my $stime= $ENV{'GREP_START'}"
"my $ts = 0"
$ts=$1.$2.$3.$4.$5.$6.$7
"$line =~ s/""err_code"" : \d+, //"
"print ""$line"""
"EOF

SET @@global.log_error_verbosity=@old_log_error_verbosity"
"INSTALL COMPONENT ""file://component_log_sink_syseventlog"""
"UNINSTALL COMPONENT ""file://component_log_sink_syseventlog"""
"RESET PERSIST `syseventlog.tag`"
"INSTALL COMPONENT ""file://component_log_filter_dragnet"""
disable_warnings
"log_sink_test"";

disable_warnings;
SET @@global.dragnet.log_error_filter_rules= @rules;
SET @@global.log_error_services=""log_filter_dragnet"
"UNINSTALL COMPONENT ""file://component_log_filter_dragnet"""
"RESET PERSIST `syseventlog.include_pid`"
"RESET PERSIST `syseventlog.facility`"
"my $file= $ENV{'LOG_FILE'} or die(""logfile not set"")"
"my $result=0"
"print $line"
"my $pattern= ""Turning logging off for the server"""
"open(FILE, ""$file"") or die(""Unable to open $file: $!\n"")"
"my $count = 0"
break
"RESET PERSIST `dragnet.log_error_filter_rules`"
"RESET PERSIST `log_error_suppression_list`"
"RESET PERSIST `log_error_services`"
"my $ignore_regex= scalar(@ignore_patterns)?
""("". join('|', @ignore_patterns). "")"":
"""""
"next if $ignore_regex and $line =~ /$ignore_regex/"
$result=1
"my $result_note=0"
"my $result_warning=0"
print
$result_note=0
$result_warning=0
$result=0
"my $verbosity_adjust_message_logged= 0"
"$verbosity_adjust_message_logged= 0"
"open(FILE,""$file"") or die(""Unable to open $file $!\n"")"
"my @log_lines=<FILE>"
"my $parsed_json"
"my $success=1"
"$parsed_json = decode_json $string"
"unless ( $parsed_json )
{
print ""[ FAIL ] Error while parsing the error log as a json document:\n$@\n"""
"for my $item( @$parsed_json ){
if ( $item->{'msg'} =~ /Access denied for user \'unknown_user\'/) {
print ""[ PASS ] Expected entry found in the json error log: "" . $item->{'msg'} . ""\n"""
"print ""[ FAIL ] Offender: $line\n"""
"create table general_log_new like general_log"
"create table slow_log_new like slow_log"
"FLUSH TABLE mysql.general_log"
"FLUSH TABLE mysql.slow_log"
"CREATE procedure `db_17876.archiveSlowLog`()
BEGIN
DECLARE start_time, query_time, lock_time CHAR(20);
DECLARE user_host MEDIUMTEXT;
DECLARE rows_set, rows_examined, last_insert_id, insert_id, server_id INT;
DECLARE thread_id BIGINT UNSIGNED;
DECLARE dbname MEDIUMTEXT;
DECLARE sql_text BLOB;
DECLARE done INT DEFAULT 0;
DECLARE ER_SP_FETCH_NO_DATA CONDITION for 1329;

DECLARE cur1 CURSOR FOR SELECT * FROM mysql.slow_log;

OPEN cur1;

REPEAT
BEGIN
BEGIN
DECLARE CONTINUE HANDLER FOR ER_SP_FETCH_NO_DATA SET done = 1;

FETCH cur1 INTO
start_time, user_host, query_time, lock_time,
rows_set, rows_examined, dbname, last_insert_id,
insert_id, server_id, sql_text, thread_id;
END;

IF NOT done THEN
BEGIN
INSERT INTO
`db_17876.slow_log_data`
VALUES(start_time, user_host, query_time, lock_time, rows_set, rows_examined,
dbname, last_insert_id,  insert_id, server_id, sql_text, thread_id);
END;
END IF;
END;
UNTIL done END REPEAT;

CLOSE cur1;
TRUNCATE mysql.slow_log;
END "
"CREATE procedure `db_17876.archiveGeneralLog`()
BEGIN
DECLARE event_time CHAR(20);
DECLARE user_host MEDIUMTEXT;
DECLARE argument MEDIUMBLOB;
DECLARE thread_id BIGINT UNSIGNED;
DECLARE server_id INT;
DECLARE sql_text BLOB;
DECLARE done INT DEFAULT 0;
DECLARE command_type VARCHAR(64);
DECLARE ER_SP_FETCH_NO_DATA CONDITION for 1329;

DECLARE cur1 CURSOR FOR SELECT * FROM mysql.general_log;

OPEN cur1;

REPEAT
BEGIN
BEGIN
DECLARE CONTINUE HANDLER FOR ER_SP_FETCH_NO_DATA SET done = 1;

FETCH cur1 INTO
event_time, user_host, thread_id, server_id,
command_type, argument;
END;

IF NOT done THEN
BEGIN
INSERT INTO
`db_17876.general_log_data`
VALUES(event_time, user_host, thread_id, server_id,
command_type, argument);
END;
END IF;
END;
UNTIL done END REPEAT;

CLOSE cur1;
TRUNCATE mysql.general_log;
END "
"set @lparam = ""000 001 002 003 004 005 006 007 008 009""
""010 011 012 013 014 015 016 017 018 019""
""020 021 022 023 024 025 026 027 028 029""
""030 031 032 033 034 035 036 037 038 039""
""040 041 042 043 044 045 046 047 048 049""
""050 051 052 053 054 055 056 057 058 059""
""060 061 062 063 064 065 066 067 068 069""
""070 071 072 073 074 075 076 077 078 079""
""080 081 082 083 084 085 086 087 088 089""
""090 091 092 093 094 095 096 097 098 099""
""100 101 102 103 104 105 106 107 108 109""
""110 111 112 113 114 115 116 117 118 119""
""120 121 122 123 124 125 126 127 128 129""
""130 131 132 133 134 135 136 137 138 139""
""140 141 142 143 144 145 146 147 148 149""
""150 151 152 153 154 155 156 157 158 159""
""160 161 162 163 164 165 166 167 168 169""
""170 171 172 173 174 175 176 177 178 179""
""180 181 182 183 184 185 186 187 188 189""
""190 191 192 193 194 195 196 197 198 199""
""200 201 202 203 204 205 206 207 208 209""
""210 211 212 213 214 215 216 217 218 219""
""220 221 222 223 224 225 226 227 228 229""
""230 231 232 233 234 235 236 237 238 239""
""240 241 242 243 244 245 246 247 248 249""
""250 251 252 253 254 255 256 257 258 259""
""260 261 262 263 264 265 266 267 268 269""
""270 271 272 273 274 275 276 277 278 279""
""280 281 282 283 284 285 286 287 288 289""
""290 291 292 293 294 295 296 297 298 299""
""300 301 302 303 304 305 306 307 308 309""
""310 311 312 313 314 315 316 317 318 319""
""320 321 322 323 324 325 326 327 328 329""
""330 331 332 333 334 335 336 337 338 339""
""340 341 342 343 344 345 346 347 348 349""
""350 351 352 353 354 355 356 357 358 359""
""360 361 362 363 364 365 366 367 368 369""
""370 371 372 373 374 375 376 377 378 379""
""380 381 382 383 384 385 386 387 388 389""
""390 391 392 393 394 395 396 397 398 399""
""400 401 402 403 404 405 406 407 408 409""
""410 411 412 413 414 415 416 417 418 419""
""420 421 422 423 424 425 426 427 428 429""
""430 431 432 433 434 435 436 437 438 439""
""440 441 442 443 444 445 446 447 448 449""
""450 451 452 453 454 455 456 457 458 459""
""460 461 462 463 464 465 466 467 468 469""
""470 471 472 473 474 475 476 477 478 479""
""480 481 482 483 484 485 486 487 488 489""
""490 491 492 493 494 495 496 497 498 499""
""500 501 502 503 504 505 506 507 508 509""
""510 511 512 513 514 515 516 517 518 519""
""520 521 522 523 524 525 526 527 528 529""
""530 531 532 533 534 535 536 537 538 539""
""540 541 542 543 544 545 546 547 548 549""
""550 551 552 553 554 555 556 557 558 559""
""560 561 562 563 564 565 566 567 568 569""
""570 571 572 573 574 575 576 577 578 579""
""580 581 582 583 584 585 586 587 588 589""
""590 591 592 593 594 595 596 597 598 599""
""600 601 602 603 604 605 606 607 608 609""
""610 611 612 613 614 615 616 617 618 619""
""620 621 622 623 624 625 626 627 628 629""
""630 631 632 633 634 635 636 637 638 639""
""640 641 642 643 644 645 646 647 648 649""
""650 651 652 653 654 655 656 657 658 659""
""660 661 662 663 664 665 666 667 668 669""
""670 671 672 673 674 675 676 677 678 679""
""680 681 682 683 684 685 686 687 688 689""
""690 691 692 693 694 695 696 697 698 699""
""700 701 702 703 704 705 706 707 708 709""
""710 711 712 713 714 715 716 717 718 719""
""720 721 722 723 724 725 726 727 728 729""
""730 731 732 733 734 735 736 737 738 739""
""740 741 742 743 744 745 746 747 748 749""
""750 751 752 753 754 755 756 757 758 759""
""760 761 762 763 764 765 766 767 768 769""
""770 771 772 773 774 775 776 777 778 779""
""780 781 782 783 784 785 786 787 788 789""
""790 791 792 793 794 795 796 797 798 799""
""800 801 802 803 804 805 806 807 808 809""
""810 811 812 813 814 815 816 817 818 819""
""820 821 822 823 824 825 826 827 828 829""
""830 831 832 833 834 835 836 837 838 839""
""840 841 842 843 844 845 846 847 848 849""
""850 851 852 853 854 855 856 857 858 859""
""860 861 862 863 864 865 866 867 868 869""
""870 871 872 873 874 875 876 877 878 879""
""880 881 882 883 884 885 886 887 888 889""
""890 891 892 893 894 895 896 897 898 899""
""900 901 902 903 904 905 906 907 908 909""
""910 911 912 913 914 915 916 917 918 919""
""920 921 922 923 924 925 926 927 928 929""
""930 931 932 933 934 935 936 937 938 939""
""940 941 942 943 944 945 946 947 948 949""
""950 951 952 953 954 955 956 957 958 959""
""960 961 962 963 964 965 966 967 968 969""
""970 971 972 973 974 975 976 977 978 979""
""980 981 982 983 984 985 986 987 988 989""
""990 991 992 993 994 995 996 997 998 999"""
"CREATE TABLE log_count (count BIGINT(21))"
"INSERT INTO log_count (count) VALUES ((SELECT count(*) FROM mysql.slow_log))"
"INSERT INTO log_count (count) VALUES ((SELECT count(*) FROM mysql.general_log))"
"$conn_id= $ENV{'CONN_ID'}"
"print ""Contents of log file:\n"""
"seek(FILE, 0, 0)"
"EOF





SELECT @@session.long_query_time INTO @old_long_query_time"
"create user 'sample'@'localhost' identified by 'password'"
"GRANT EXECUTE ON PROCEDURE db1.P1 to user_1@localhost"
"GRANT EXECUTE ON FUNCTION db1.f1 to user_1@localhost"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW SET new.a= 1"
"my $c_w= grep(/Different lower_case_table_names settings/gi,<FILE>)"
"print ""#    Found lower_case_table_names error $c_w times.\n"""
"create table t2 like T1"
"drop table if exists Ä°,Ä°Ä°"
"create table Ä° (s1 int)"
"show create table Ä°"
"drop table Ä°"
"create table Ä°Ä° (s1 int)"
"show create table Ä°Ä°"
"drop table Ä°Ä°"
"CREATE TRIGGER BUP_XPFM_COMPAT_DB2.trigger1 AFTER INSERT
ON BUP_XPFM_COMPAT_DB2.table1 FOR EACH ROW
update BUP_XPFM_COMPAT_DB2.table1 set c13=12;
"
"CREATE TRIGGER BUP_XPFM_COMPAT_DB2.TRIGGER2 AFTER INSERT
ON BUP_XPFM_COMPAT_DB2.TABLE2 FOR EACH ROW
update BUP_XPFM_COMPAT_DB2.table1 set c13=12;
"
"CREATE TRIGGER BUP_XPFM_COMPAT_DB2.TrigGer3 AFTER INSERT
ON BUP_XPFM_COMPAT_DB2.TaBle3 FOR EACH ROW
update BUP_XPFM_COMPAT_DB2.table1 set c13=12;
"
"CREATE TABLE TestTable2 LIKE TestTable1"
"CREATE TABLE T2 LIKE T1"
"CREATE TRIGGER `test`.`test_table_t1_before_insert` BEFORE INSERT ON `T1`
FOR EACH ROW
BEGIN
SET NEW.creation_utc = UTC_TIMESTAMP();
END
"
"CREATE USER 'test_user'@'localhost'"
"GRANT SELECT ON my_db.UPPERCASE_MYISAM TO 'test_user'@'localhost'"
"GRANT SELECT ON my_db.lowercase_myisam TO 'test_user'@'localhost'"
"GRANT SELECT ON my_db.UPPERCASE_INNODB TO 'test_user'@'localhost'"
"GRANT SELECT ON my_db.lowercase_innodb TO 'test_user'@'localhost'"
"EOF



set names utf8mb3"
"EOF




drop table if exists t1Aa,t2Aa,v1Aa,v2Aa"
"CREATE TRIGGER t1_before_trigger BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SELECT SLEEP(2) into @a;
SELECT /*+ MAX_EXECUTION_TIME(1) */ SLEEP(2) into @b;
INSERT INTO t3 VALUES(@a);
INSERT INTO t3 VALUES(@b);
END"
"CREATE TRIGGER t1_before_trigger BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SELECT SLEEP(2) into @a;
INSERT INTO t3 VALUES(@a);
END
"
"create trigger t3_bi before insert on t3 for each row insert into t1 values (1)"
"unlock table"
"create trigger t1_bi before insert on t1 for each row
insert into t2 values (new.i)"
"create trigger t2_bi before insert on t2 for each row
insert into t3 values (new.j)"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM information_schema.processlist
WHERE state LIKE 'Waiting for tablespace metadata lock' AND
info LIKE 'ALTER TABLESPACE%'"
"LET $wait_condition=
SELECT COUNT(*) = 2 FROM information_schema.processlist
WHERE state LIKE 'Waiting for tablespace metadata lock' AND
info LIKE '%TABLESPACE%'"
"LET $wait_condition=
SELECT COUNT(*) = 0 FROM information_schema.processlist
WHERE state LIKE 'Waiting for tablespace metadata lock' AND
info LIKE 'ALTER TABLESPACE%'"
"LET $wait_condition=
SELECT COUNT(*) = 2 FROM information_schema.processlist
WHERE state LIKE 'Waiting for tablespace metadata lock' AND
info LIKE 'DROP TABLESPACE%'"
"LET $wait_condition=
SELECT COUNT(*) = 0 FROM information_schema.processlist
WHERE state LIKE 'Waiting for tablespace metadata lock' AND
info LIKE 'DROP TABLESPACE%'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM information_schema.processlist
WHERE state LIKE 'Waiting for tablespace metadata lock' AND
info LIKE 'DROP TABLESPACE%'"
"CREATE TABLE t1_new LIKE t1_src"
"CREATE TABLE t2_new LIKE t2_src"
"LET $wait_condition=
SELECT COUNT(*) = 2 FROM performance_schema.metadata_locks
WHERE object_type LIKE 'TABLESPACE'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM performance_schema.events_waits_current
WHERE object_type LIKE 'TABLESPACE'"
"LET $wait_condition=
SELECT COUNT(*) = 0 FROM performance_schema.metadata_locks
WHERE object_type LIKE 'TABLESPACE'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM performance_schema.events_waits_history_long
WHERE object_type LIKE 'TABLESPACE' AND object_name LIKE 'ts1'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM performance_schema.metadata_locks
WHERE object_type LIKE 'TABLESPACE' AND object_name LIKE 'ts1'"
"LET $wait_condition=
SELECT COUNT(*) = 1 FROM performance_schema.metadata_locks
WHERE object_type LIKE 'TABLESPACE' AND object_name LIKE 'ts2'"
"CREATE TRIGGER trigger_for_normal_replace BEFORE INSERT ON t2 FOR EACH ROW SET @x:= NEW.a"
"CREATE TABLE m1 LIKE t1"
"CREATE TABLE m1(a INT) ENGINE=MERGE UNION=()"
"ALTER TABLE m1 UNION=()"
"CREATE TABLE t4 LIKE t3"
"CREATE TEMPORARY TABLE t4 LIKE t3"
"CREATE TRIGGER t4_ai AFTER INSERT ON t4 FOR EACH ROW SET @a=1"
"CREATE TRIGGER t3_ai AFTER INSERT ON t3 FOR EACH ROW SET @a=1"
"CREATE TRIGGER t3_ai AFTER INSERT ON t3 FOR EACH ROW INSERT INTO t2 VALUES(22)"
"CALL mtr.add_suppression(""REVOKE/GRANT failed while storing table level ""
""and column level grants in the privilege ""
""tables. An incident event has been written to ""
""the binary log which will stop the slaves."")"
"CALL mtr.add_suppression(""REVOKE/GRANT failed while granting/revoking ""
""privileges in databases. An incident event ""
""has been written to the binary log which ""
""will stop the slaves."")"
"grant update on mysqltest.t1 to mysqltest_1@localhost"
"create trigger trg_del_t3 before  delete on t3 for each row insert into t1 values (1)"
"SET @before:= (SELECT MAX_DATA_LENGTH FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_NAME='t1' AND TABLE_SCHEMA='test')"
"SELECT @before=@after"
"CREATE TABLE ta (pk INT, embedding VECTOR(4), PRIMARY KEY (pk)) ENGINE=MyISAM"
"CONNECT (insertConn, localhost, root,,)"
"SEND INSERT INTO t1(id) SELECT id  FROM t2"
"SELECT ID FROM INFORMATION_SCHEMA.PROCESSLIST
WHERE STATE = 'wait_in_enable_indexes' AND
INFO = ""INSERT INTO t1(id) SELECT id  FROM t2""
INTO @thread_id"
"CONNECTION insertConn"
"DISCONNECT insertConn"
"CREATE TABLE t1(id int, name varchar(255), description varchar(255), count int, primary key(id)) ENGINE=myisam"
"FLUSH TABLE mysql_db1.t1"
"print FILE ""select\n"""
"print FILE ""'a','a','a','a','a','a','a','a','a','a','a','a','a','a','a','a','a','a','a','a',\n"" x 3400"
"print FILE ""'b';\n"""
"EOF





create table t17583 (a int)"
"EOF
remove_file $MYSQLTEST_VARDIR/tmp/mysqltest.sql"
"drop function if exists foofct"
"CREATE USER test_user2"
"CREATE USER user_name_len_26_012345678@localhost"
"CREATE USER 'test#user1'@'localhost'"
"CREATE USER 'test1 test1'@'localhost'"
"EOF






DROP DATABASE db1"
"1,a
2,b
EOF
1,a
2,b
EOF
1,a
2,b
EOF

CREATE TABLE test.wl13168(id INT PRIMARY KEY, data VARCHAR(50))"
"EOF



remove_file $cmd_file"
"CREATE USER regular_user"
"CREATE USER u1@localhost IDENTIFIED BY 'secret' REQUIRE SSL"
"my $dir = $ENV{'MYSQLTEST_VARDIR'}"
"open ( OUTPUT, "">$dir/tmp/zoneinfocheck.inc"") "
@path=()
"EOF



if (!$zoneinfo_japan_path) {
--skip Unable to locate zoneinfo/Japan
}
if (!$zoneinfo_europe_path) {
--skip Unable to locate zoneinfo/Europe
}

CREATE DATABASE test_zone"
"CREATE USER u1,u2"
"CREATE USER u34068378"
"CREATE USER 'user3'@'%'"
"GRANT ALL PRIVILEGES ON `roelt`.`test2` TO 'user3'@'%'"
"CREATE USER sheldon"
"CREATE TABLE test.slave_master_info_backup LIKE mysql.slave_master_info"
"[client]
loose-database=db2
EOF


remove_file $MYSQLTEST_VARDIR/tmp/bug10608.cnf"
"EOF


[client]
host = 127.0.0.1
EOF






[client]
host = 127.0.0.1
EOF




CREATE USER testadmin_user1"
"CREATE USER tester@localhost IDENTIFIED WITH caching_sha2_password BY 'abcd'"
"insert into t5 select * from `Ã¤Ã¶Ã¼Ã„Ã–Ãœ`
EOF

flush logs"
"CREATE USER untrusted@localhost"
"EOF


diff_files $MYSQLTEST_VARDIR/tmp/mysqlbinlog.warn $MYSQLTEST_VARDIR/tmp/mysqlbinlog.warn.empty"
enable_warnings
"(`$MYSQL_BINLOG --raw --read-from-remote-server --stop-never --user=root --host=127.0.0.1 --port=$MASTER_MYPORT --result-file=$MYSQL_TMP_DIR/ binlog.000001 ; [ $? -le 1 ]` && $MYSQL -e ""use test; INSERT INTO raw_mode_exit VALUES (1);"") < /dev/null > /dev/null 2>&1 &
EOF
let $wait_condition= SELECT id from information_schema.processlist where processlist.command like '%Binlog%' and state like '%Source has sent%'"
"$timeout= 30"
"$binlog= $ENV{'MYSQL_TMP_DIR'} . '/binlog.000003'"
"$binlog_exists= 0"
$timeout--
"DROP TABLE IF EXISTS t1, `t``1`, `t 1`"
"SET @create = IF(@have_ndb = 0, @create_cmd, 'SET @dummy = 0')"
"SET @drop = IF(@have_ndb = 0, @drop_cmd, 'SET @dummy = 0')"
"PREPARE create_stmt FROM @create"
"PREPARE drop_stmt FROM @drop"
"CREATE USER 'user_with_length_32_abcdefghijkl'@'localhost'"
"create table `t``1`(a int) engine=myisam"
"drop table `t``1`, `t 1`"
"EOF
CREATE TABLE db2.t2 (a INT)"
"my $mysqld_log= $ENV{'MDF_LOG'}"
"open(MYSQLD_LOG, $mysqld_log) || die ""1 - Failed to open '$mysqld_log': $!"""
"open(MYSQLD_LOG, $mysqld_log) || die ""2 - Failed to open '$mysqld_log': $!"""
"my $test_dir= $ENV{'MYSQL_TEST_DIR_ABS'}"
"open(MYSQLD_LOG, $mysqld_log) || die ""3 - Failed to open '$mysqld_log': $!"""
s/$test_dir/MYSQL_TEST_DIR/
"open(MYSQLD_LOG, $mysqld_log) || die ""4 - Failed to open '$mysqld_log': $!"""
"open(MYSQLD_LOG, $mysqld_log) || die ""5 - Failed to open '$mysqld_log': $!"""
"open(MYSQLD_LOG, $mysqld_log) || die ""6 - Failed to open '$mysqld_log': $!"""
"open ( OUTPUT, "">$dir/tmp/mysqld_path_file.inc"") "
"my $path = $ENV{MYSQLD}"
"$path =~ /^(.*)\/([^\/]*)$/"
"print OUTPUT ""let \$mysqld_path = $1;\n"""
"print OUTPUT ""let \$mysqld_bin = $2;\n"""
"close (OUTPUT)"
"EOF




let BOOTSTRAP_SQL=$MYSQL_TMP_DIR/boot.sql"
"[mysqld]
binlog_format=MIXED
EOF



connection default"
"INSERT INTO t1 VALUES(
'basic',
x'EE0C6D03C34C11E5B1640026B977EB17',
x'EE0C6D03C34C11E5B1640026B977EB17',
ST_GeomFromText('POINT(1 1)'),
x'EE0C6D03C34C11E5')"
"open FILE, ""$ENV{'MYSQLD_DATADIR'}/mysqldump_long_query_time-slow.log"" or die"
"my @lines = <FILE>"
"foreach $line (@lines) {
if ($line =~ /^select/) {
print $line"
"create table ```a` (i int)"
"drop table ```a`"
"CREATE TABLE `t1` (
`a b` INT,
`c""d` INT,
`e``f` INT,
PRIMARY KEY (`a b`, `c""d`, `e``f`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1"
"DROP FUNCTION bug9056_func1"
"DROP FUNCTION bug9056_func2"
"CREATE TRIGGER `test trig` BEFORE INSERT ON `t1 test` FOR EACH ROW BEGIN
INSERT INTO `t2 test` SET a2 = NEW.a1; END  "
"CREATE TRIGGER tr1 BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
SET new.a = 0;
END"
"create trigger tr2 after insert on t1
for each row
begin
insert into t2 set b=new.a and created=new.created;
end"
"/*!50003 CREATE PROCEDURE `p`()
select 42 */"
"show create function f"
"create user myDB_User@localhost"
"revoke all privileges on mysqldump_myDB.* from myDB_User@localhost"
"create user user1, user2"
"CREATE TRIGGER t1bd BEFORE DELETE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER tr1 BEFORE UPDATE ON t1 FOR EACH ROW SET @f1 = 1"
"CREATE TRIGGER `trig` BEFORE INSERT ON `test` FOR EACH ROW BEGIN
END "
"CREATE TRIGGER trig1 BEFORE INSERT ON t2
FOR EACH ROW BEGIN
INSERT INTO t2 VALUES(1);
END;
"
"CREATE TRIGGER trig2 AFTER INSERT ON t2
FOR EACH ROW BEGIN
INSERT INTO t2 VALUES(1, ']]>');
INSERT INTO t2 VALUES(2, '<![CDATA]]>');
INSERT INTO t2 VALUES(3, '<![CDATA[');
INSERT INTO t2 VALUES(4, '< > & \ "" _');
END;
"
"CREATE TRIGGER tt1_t1 BEFORE INSERT ON t1 FOR EACH ROW
SET NEW.b=NEW.a + 10"
"CREATE TABLE t1 (pk INTEGER, a INTEGER, b INTEGER, c VARCHAR(16),
sum INTEGER GENERATED ALWAYS AS (a+b),
sub VARCHAR(4) GENERATED ALWAYS AS (SUBSTRING(c, 1, 4)),
key k1(sum),
key k2(sub)
) engine=innodb"
"CREATE TABLE t2 (pk INTEGER, a INTEGER, b INTEGER,
sum INTEGER GENERATED ALWAYS AS (a+b),
c VARCHAR(16),
key k1(sum)
) engine=innodb"
"CREATE TRIGGER `trig
one` BEFORE INSERT ON `tab
one` FOR EACH ROW SET NEW.a = 1"
"ANALYZE TABLE t1 UPDATE HISTOGRAM ON col1 WITH 22 BUCKETS"
"CREATE TABLE t2(f1 INT, f2 INT INVISIBLE)"
"CREATE TABLE t1 (my_row_id bigint unsigned NOT NULL AUTO_INCREMENT INVISIBLE, f INT,
PRIMARY KEY(my_row_id))"
"CREATE TABLE t2 (f1 INT, f2 INT INVISIBLE DEFAULT 10)"
"CREATE USER IF NOT EXISTS view_u2@my.oracle.com"
"CREATE USER IF NOT EXISTS event_u2@192.1.1.140"
"CREATE USER IF NOT EXISTS trig_u2@xyz.com"
"CREATE DEFINER=view_u2@my.oracle.com VIEW v3 AS SELECT * FROM t1"
"CREATE DEFINER=view_u2@my.oracle.com VIEW v4 AS SELECT * FROM t1"
"CREATE DEFINER=event_u2@192.1.1.140 EVENT e3 ON SCHEDULE AT '2037-01-01 00:00:00' DISABLE DO SET @a = 5"
"CREATE DEFINER=event_u2@192.1.1.140 EVENT e4 ON SCHEDULE AT '2037-01-01 00:00:00' DISABLE DO SET @a = 5"
"CREATE DEFINER=trig_u1 TRIGGER trig1 BEFORE INSERT ON t1 FOR EACH ROW SET @sum = 1"
"CREATE DEFINER=trig_u1 TRIGGER trig2 BEFORE INSERT ON t1 FOR EACH ROW SET @sum = 1"
"CREATE DEFINER=trig_u2@xyz.com TRIGGER trig3 BEFORE INSERT ON t1 FOR EACH ROW SET @sum = 1"
"CREATE DEFINER=trig_u2@xyz.com TRIGGER trig4 BEFORE INSERT ON t1 FOR EACH ROW SET @sum = 1"
"DROP USER view_u1, view_u2@my.oracle.com, event_u1, event_u2@192.1.1.140, trig_u1, trig_u2@xyz.com,
proc_u1, proc_u2@localhost, func_u1, func_u2, user_not_referenced_as_definer"
"CREATE TABLE x1 (c0 BLOB AS ('a') VIRTUAL, c1 INT)"
"CREATE TABLE x2 (c1 INT, c0 BLOB AS ('a') VIRTUAL)"
"CREATE TABLE x3 (c0 BLOB AS ('a') VIRTUAL INVISIBLE, c1 INT)"
"CREATE TABLE x4 (c1 INT, c0 BLOB AS ('a') VIRTUAL INVISIBLE)"
"CREATE TABLE x5 (c0 BLOB AS ('a') STORED, c1 INT)"
"CREATE TABLE x6 (c1 INT, c0 BLOB AS ('a') STORED)"
"CREATE TABLE x7 (c0 BLOB AS ('a') STORED INVISIBLE, c1 INT)"
"CREATE TABLE x8 (c1 INT, c0 BLOB AS ('a') STORED INVISIBLE)"
"CREATE UNIQUE INDEX i1 ON t1 (c0, (TIME '-1:0:0'))"
"CREATE EVENT mysqldump_test_db.replica_event ON SCHEDULE EVERY 3 SECOND DISABLE ON REPLICA DO SELECT 1"
"CREATE TRIGGER `testref` BEFORE INSERT ON `test1` FOR EACH ROW BEGIN
INSERT INTO test2 SET a2 = NEW.a1; END  "
"CREATE TABLE t1 (a INT) SECONDARY_ENGINE=gizmo"
"1
2
3
EOF


SELECT * FROM b12688860_db.b12688860_tab"
"1
2
3
EOF


echo # cleanup
DROP TABLE b34999015_db.`KEY`"
"CREATE USER myuser"
"/*!99999 SET @@SESSION.non_supported_session_variable = 1*/"
"REVOKE ALL PRIVILEGES ON *.* FROM user1"
"CREATE USER u1@h"
"CREATE TEMPORARY TABLE Temp3 LIKE Temp2"
"CREATE TEMPORARY TABLE tt1 LIKE performance_schema.setup_consumers"
"SHOW CREATE FUNCTION f"
"ALTER FUNCTION f comment ""atomic DDL on routine"""
"CREATE TRIGGER trig1 BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trig2 AFTER INSERT ON t1 FOR EACH ROW BEGIN END"
"SELECT NTH_VALUE(6,1)    OVER ()"
"SELECT NTH_VALUE(NULL,1) OVER ()"
"SELECT NTH_VALUE(6,2)    OVER ()"
"SELECT NTH_VALUE(6,1)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT NTH_VALUE(NULL,1) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT NTH_VALUE(6,2)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT id, sex, NTH_VALUE(id, 1) FROM FIRST OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(id, @oijlkjlkjxozijqlj) OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(id, 1) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(NULL, 1) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(id+100, 1) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(100, 1) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(100, 100) RESPECT NULLS OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(id, 1) OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(id, 3) OVER () FROM t1"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID ROWS UNBOUNDED PRECEDING)"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID RANGE UNBOUNDED PRECEDING)"
"SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D ROWS 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D RANGE 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D ROWS 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D ASC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D RANGE 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D DESC ROWS 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D DESC RANGE 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D DESC ROWS 2 PRECEDING)"
"SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D DESC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D DESC RANGE 2 PRECEDING)"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY id)"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID ROWS 2 PRECEDING)"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID RANGE 2 PRECEDING)"
"SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID ROWS 2 PRECEDING)"
"SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID ASC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID RANGE 2 PRECEDING)"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID DESC ROWS 2 PRECEDING)"
"SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID DESC RANGE 2 PRECEDING)"
"SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID DESC ROWS 2 PRECEDING)"
"SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID DESC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID DESC RANGE 2 PRECEDING)"
"SELECT id, COUNT(*) OVER w,
NTH_VALUE(id, 3) OVER w,
FIRST_VALUE(id) OVER w,
NTH_VALUE(id, 1) OVER w,
NTH_VALUE(id, 2) OVER w FROM t1
WINDOW w AS (ORDER BY id ASC ROWS BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT id, SUM(d) OVER w, COUNT(*) OVER w,
NTH_VALUE(id, 3) OVER w,
FIRST_VALUE(id) OVER w,
NTH_VALUE(id, 1) OVER w,
NTH_VALUE(id, 2) OVER w FROM t1
WINDOW w AS (ORDER BY id ASC ROWS BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT dt, NTH_VALUE(dt, 3) OVER w1 nth,
CAST(NTH_VALUE(ge, 3) OVER w1 AS JSON) ge
FROM test WHERE `pk` = 2 WINDOW w1 AS ()"
"SELECT dt, NTH_VALUE(dt, 3) OVER w1 nth,
CAST(NTH_VALUE(ge, 3) OVER w1 AS JSON) ge
FROM test WHERE `pk` > 3 WINDOW w1 AS ()"
"SELECT dt, NTH_VALUE(CAST(dt AS TIME), 3) OVER w1
FROM test WHERE `pk` > 3 WINDOW w1 AS ()"
"SELECT SUM(c/d), NTH_VALUE(SUM(c/d),1) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT NTH_VALUE(SUM(c/d), 3) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT 1+NTH_VALUE(SUM(c/d), 1) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT ROW_NUMBER() OVER () rn,
1+NTH_VALUE(SUM(c/d), 1) OVER (ORDER BY a) plus_fv,
1+NTH_VALUE(SUM(c/d), 2) OVER (ORDER BY a) plus_lv FROM t GROUP BY a,b"
"SELECT ((MAKETIME(((QUARTER('| !*c>*{/'))<=>
(NTH_VALUE(JSON_OBJECTAGG('key4',0x067c13d0d0d7d8c8d768aef7)
,1)OVER())),'9236-05-27',0xe2a7d4))^(0x1109))"
"SELECT ((NTH_VALUE(JSON_MERGE_PATCH(1.755913e+308,'{ }'),246)OVER())<=(1))"
"SELECT ((QUOTE(JSON_KEYS(NTH_VALUE(JSON_KEYS(EXP(-15676),ABS('d0')),
162)OVER())))>=(CONNECTION_ID()))"
"SELECT JSON_LENGTH(NTH_VALUE(JSON_OBJECTAGG('key2','*B'),172)OVER())"
"SELECT JSON_LENGTH(NTH_VALUE(JSON_OBJECTAGG('key2','*B'),1)OVER())"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 1) RESPECT NULLS OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 1) OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 3) OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY sex)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY id)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID ROWS UNBOUNDED PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID RANGE UNBOUNDED PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D ASC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D DESC ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, sex, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY D DESC RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D DESC ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D DESC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, COUNT(*) OVER w, NTH_VALUE(d, 2) OVER w FROM t1 WINDOW w as (ORDER BY D DESC RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID ASC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID DESC ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, sex, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (PARTITION BY SEX ORDER BY ID DESC RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID DESC ROWS 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID DESC ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, COUNT(*) OVER w, NTH_VALUE(id, 2) OVER w FROM t1 WINDOW w as (ORDER BY ID DESC RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=TREE SELECT id, COUNT(*) OVER w,
NTH_VALUE(id, 3) OVER w,
FIRST_VALUE(id) OVER w,
NTH_VALUE(id, 1) OVER w,
NTH_VALUE(id, 2) OVER w FROM t1
WINDOW w AS (ORDER BY id ASC ROWS BETWEEN 2 PRECEDING AND CURRENT ROW)"
"EXPLAIN FORMAT=TREE SELECT id, SUM(d) OVER w, COUNT(*) OVER w,
NTH_VALUE(id, 3) OVER w,
FIRST_VALUE(id) OVER w,
NTH_VALUE(id, 1) OVER w,
NTH_VALUE(id, 2) OVER w FROM t1
WINDOW w AS (ORDER BY id ASC ROWS BETWEEN 2 PRECEDING AND CURRENT ROW)"
"create user regular@localhost identified by 'regular'"
"create user power@localhost identified by 'power'"
"create user super@localhost identified by 'super'"
"create user sysadmin@localhost identified by 'sysadmin'"
"CREATE USER base@localhost IDENTIFIED BY 'base'"
"CREATE USER regular@localhost IDENTIFIED BY 'regular'"
"CREATE USER power@localhost IDENTIFIED BY 'power'"
"CREATE USER super@localhost IDENTIFIED BY 'super'"
"CREATE USER admin@localhost IDENTIFIED BY 'admin'"
"CREATE USER superadmin@localhost IDENTIFIED BY 'superadmin'"
"CREATE USER sysadmin@localhost IDENTIFIED BY 'sysadmin'"
"SELECT a, b, a AS c, COUNT(*) AS count FROM t1 GROUP BY a, b, c WITH ROLLUP"
"EXPLAIN FORMAT=tree
SELECT a, b FROM t1, t2 GROUP BY a, b WITH ROLLUP"
"SELECT a, b, a + COALESCE(b, 0), AVG(b) OVER () FROM t1 GROUP BY a, b WITH ROLLUP"
"SELECT i, sum FROM (SELECT i, SUM(j) AS 'sum' FROM t1 GROUP BY i WITH ROLLUP
ORDER BY i) AS tmp WHERE i is NULL"
"SELECT i, j, i AS k, COUNT(*) AS count FROM t1 GROUP BY i, j, k WITH ROLLUP"
"EXPLAIN FORMAT=tree SELECT i, j, i+j, AVG(j) over () from t1 GROUP BY i,j
WITH ROLLUP HAVING i+j is NULL ORDER BY i"
"SELECT i, j, i+j, AVG(j) over () from t1 GROUP BY i,j WITH ROLLUP
HAVING i+j is NULL ORDER BY i"
"SELECT i, j, i+j, FIRST_VALUE(i) over () from t1 GROUP BY i,j WITH ROLLUP
HAVING i+j is NULL ORDER BY i"
"SELECT (((@e:=`b`)) NOT BETWEEN 0x0b5f09 AND (CHAR(md5(@pub1),
(CONNECTION_ID()+LEAD(5225.750000,110) RESPECT NULLS OVER(ORDER BY b, a)))))
FROM t GROUP BY b,a WITH ROLLUP"
"SELECT a + COUNT(*) OVER () FROM t GROUP BY a WITH ROLLUP"
"SELECT a, b, a + SUM(a) OVER () FROM t GROUP BY a,b WITH ROLLUP"
"SELECT a, b, 2*a+b, SUM(a+b) OVER () FROM t1 GROUP BY a, b WITH ROLLUP"
"SELECT c, a, SUM(c) OVER () FROM t1,t2 GROUP BY c,a WITH ROLLUP"
"create user ssl_user1@localhost, ssl_user2@localhost,
ssl_user3@localhost, ssl_user4@localhost,
ssl_user5@localhost"
"CREATE USER bug42158@localhost REQUIRE X509"
"EXPLAIN FORMAT=JSON
SELECT i1 FROM t1 WHERE i1 > 1"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_FIXED_ORDER() */ COUNT(*) FROM small_tab JOIN large_tab USING(val) JOIN medium_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_FIXED_ORDER() */ COUNT(*) FROM medium_tab JOIN small_tab USING(val) JOIN large_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM large_tab WHERE val IN
(SELECT /*+ QB_NAME(subq1) JOIN_FIXED_ORDER(@subq1) */ val FROM small_tab JOIN medium_tab USING(val))"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_FIXED_ORDER() */ COUNT(*) FROM large_tab JOIN small_tab JOIN medium_tab"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM large_tab WHERE val IN
(SELECT /*+ QB_NAME(subq1) JOIN_FIXED_ORDER(@subq1) */ small_tab.val FROM medium_tab JOIN small_tab)"
"EXPLAIN FORMAT=TREE SELECT STRAIGHT_JOIN COUNT(*) FROM small_tab JOIN large_tab USING(val) JOIN medium_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT STRAIGHT_JOIN COUNT(*) FROM medium_tab JOIN small_tab USING(val) JOIN large_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT STRAIGHT_JOIN COUNT(*) FROM medium_tab JOIN large_tab USING(val) JOIN small_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT STRAIGHT_JOIN COUNT(*) FROM large_tab JOIN small_tab JOIN medium_tab"
"EXPLAIN FORMAT=TREE SELECT STRAIGHT_JOIN COUNT(*) FROM large_tab JOIN medium_tab JOIN small_tab"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM small_tab STRAIGHT_JOIN large_tab USING(val) STRAIGHT_JOIN medium_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM medium_tab STRAIGHT_JOIN small_tab USING(val) STRAIGHT_JOIN large_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM medium_tab STRAIGHT_JOIN large_tab USING(val) STRAIGHT_JOIN small_tab USING(val)"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM large_tab STRAIGHT_JOIN small_tab STRAIGHT_JOIN medium_tab"
"EXPLAIN FORMAT=TREE SELECT COUNT(*) FROM large_tab STRAIGHT_JOIN medium_tab STRAIGHT_JOIN small_tab"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t1,t3,t5) */ COUNT(*) FROM t1 JOIN t2 USING(val) JOIN t3 USING(val) JOIN t4 USING(val) JOIN t5 USING(val) JOIN t6 USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t5,t4) */ COUNT(*) FROM t1 JOIN t2 USING(val) JOIN t3 USING(val) JOIN t4 USING(val) JOIN t5 USING(val) JOIN t6 USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t2,t4,t6,t1,t3) */ COUNT(*) FROM t1 JOIN t2 USING(val) JOIN t3 USING(val) JOIN t4 USING(val) JOIN t5 USING(val) JOIN t6 USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t5,t2,t1) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t3,t4) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t5,t3,t1,t2,t4) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t1,t2,t6) */ COUNT(*) FROM t1 JOIN t2 USING(val) JOIN t3 USING(val) JOIN t4 USING(val) JOIN t5 USING(val) JOIN t6 USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t6,t3) */ COUNT(*) FROM t1 JOIN t2 USING(val) JOIN t3 USING(val) JOIN t4 USING(val) JOIN t5 USING(val) JOIN t6 USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t5,t4,t3,t6,t1) */ COUNT(*) FROM t1 JOIN t2 USING(val) JOIN t3 USING(val) JOIN t4 USING(val) JOIN t5 USING(val) JOIN t6 USING(val)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t4,t5,t2) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t3,t2) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t1,t3,t2,t5,t4) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t6,t1) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t4,t6,t3,t5,t1) */ COUNT(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ QB_NAME(q1) JOIN_PREFIX(t2,t1,t2@subq2) */ count(*) FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t2) AND
t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t2)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t2,t1) JOIN_ORDER(t3,t4@subq1) JOIN_SUFFIX(t4@subq1) */ count(*) FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ t4.val FROM t4 JOIN t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t5@subq2) */ count(*)
FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t5@subq2,t4@subq1) JOIN_PREFIX(t1) JOIN_SUFFIX(t2,t5@subq2,t4@subq1) */ count(*)
FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ QB_NAME(q1) JOIN_ORDER(@q1 t2,t3,t1) */ count(*)
FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ QB_NAME(q1) JOIN_PREFIX(@q1 t2,t3,t1) */ count(*)
FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t1,t2,t3) */ count(*) FROM t1 JOIN t2 STRAIGHT_JOIN t3
WHERE t1.val IN (SELECT val FROM t4) AND t2.val IN (SELECT val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t3) JOIN_ORDER(t1,t2,t5) */ count(*) FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE  SELECT /*+ JOIN_ORDER(t3,t2) JOIN_ORDER(t1,t2,t5) */ count(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5"
"EXPLAIN FORMAT=TREE  SELECT /*+ JOIN_ORDER(t3,t2,t1,t6) JOIN_ORDER(t4,t2,t5,t1) */ count(*) FROM t1 JOIN t2 JOIN t3 JOIN t4 JOIN t5 JOIN t6"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t3,t2,t1) JOIN_PREFIX(t2,t1) */ count(*) FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_SUFFIX(t3,t2) JOIN_SUFFIX(t2) */ count(*) FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ val FROM t4)
AND t2.val IN (SELECT /*+ QB_NAME(subq2) */ val FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_FIXED_ORDER() JOIN_ORDER(t2,t1) */ t2.val FROM t1 JOIN t2 ON t1.val = t2.val
WHERE (t1.val > 5 AND t1.val <= 5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2) JOIN_ORDER(t2,t3) */ count(*) FROM t1 JOIN t2 JOIN t3"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t5@subq1,t4@subq1,t2) */ count(*)
FROM t1 JOIN t2 JOIN t3
WHERE t1.val IN (SELECT /*+ QB_NAME(subq1) */ t4.val FROM t4 JOIN t5)"
"EXPLAIN FORMAT=TREE DELETE /*+ JOIN_PREFIX(t2,t3,ta2) */
FROM ta1.* USING t1 AS ta1 JOIN t1 AS ta2 ON 1
RIGHT OUTER JOIN t2 ON (ta1.val = t2.val)
WHERE (9) IN (SELECT val FROM t3)"
"EXPLAIN FORMAT=TREE DELETE /*+ JOIN_SUFFIX(ta2,t3,ta1) */
FROM ta1.* USING t1 AS ta1 JOIN t1 AS ta2 ON 1
RIGHT OUTER JOIN t2 ON (ta1.val = t2.val)
WHERE (9) IN (SELECT val FROM t3)"
"EXPLAIN FORMAT=TREE DELETE /*+ JOIN_PREFIX(ta1,t2,t3) JOIN_SUFFIX(t3,ta2) */
FROM ta1.* USING t1 AS ta1 JOIN t1 AS ta2 ON 1
RIGHT OUTER JOIN t2 ON (ta1.val = t2.val)
WHERE (9) IN (SELECT val FROM t3)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(t1) */ 1 FROM t1,LATERAL (SELECT DISTINCT t2.val FROM t2 WHERE t1.val = t2.val) AS dt"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_PREFIX(dt) */ 1 FROM t1,LATERAL (SELECT DISTINCT t2.val FROM t2 WHERE t1.val = t2.val) AS dt"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2) JOIN_PREFIX(t3) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2) JOIN_SUFFIX(t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2,t4) JOIN_SUFFIX(t1,t4) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t1,t2,t4) JOIN_PREFIX(t1,t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t1,t2,t4) JOIN_SUFFIX(t2,t3,t4) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2) JOIN_PREFIX(t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2) JOIN_SUFFIX(t3) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2,t4) JOIN_PREFIX(t1,t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t3,t2,t4) JOIN_SUFFIX(t1,t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t1,t2,t4) JOIN_PREFIX(t1,t4) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t1,t2,t4) JOIN_SUFFIX(t4,t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t1,t3,t2) JOIN_SUFFIX(t3,t1,t2) */ count(*) FROM t1 JOIN t2 JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(t2,t4,t1) */ 1 FROM t1 JOIN t2 ON 1 RIGHT JOIN t3 ON 1 JOIN t4 ON 1"
"explain format=tree SELECT /*+ JOIN_PREFIX(t3,t1) */ count(*) FROM t1 JOIN t2 STRAIGHT_JOIN t3 WHERE t1.f1 IN (SELECT f1 FROM t4) AND t2.f1 IN (SELECT f1 FROM t5)"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(alias3,alias3,alias1) */  alias1.c1 AS field1 FROM t1 AS alias1 INNER JOIN t1 AS alias2 INNER JOIN t1 AS alias3 INNER JOIN t1 AS alias4 ON alias3.c2 >= alias4.c3 ON alias2.c4 != alias4.c5 ON alias1.c6 <= alias4.c7  LEFT OUTER JOIN t1 AS alias5 ON alias2.c8 = alias5.c9 WHERE alias3.pk <= 3 HAVING (field1 < 8 AND field1 != 8) ORDER BY field1"
"EXPLAIN FORMAT=TREE SELECT /*+ JOIN_ORDER(alias11,alias8) */ 1
FROM t4 AS alias4
LEFT JOIN t5 AS alias5 JOIN t6 AS alias6 ON alias5.f2 = alias6.f1
LEFT JOIN t7 AS alias7 JOIN t2 AS alias8 ON alias7.f1 = alias8.f1
ON alias5.f1 = alias8.f2 ON alias4.f2 = alias6.f1
JOIN t10 AS alias10 JOIN t11 AS alias11 ON alias10.f1 = alias11.f1
ON alias4.f2 = alias11.f2"
"GRANT INSERT, SELECT on test01.tbl01 TO 'user01'@'localhost'"
"create procedure p1()
select COUNT(*)
FROM v1 WHERE f1 IN
(SELECT f1 FROM t2 WHERE f1 = ANY (SELECT f1 FROM v1))"
"CREATE TABLE t1(id INT AUTO_INCREMENT,
c1 VARCHAR(10), c2 VARCHAR(10), c3 VARCHAR(10),
PRIMARY KEY(id)) SECONDARY_ENGINE MOCK"
"INSERT INTO t VALUES(1, x'4142434445464748494a414243444546', 'WRITEBACK',
0, TIMESTAMP'2020-01-01 00:00:00.000000', NULL)"
"create user user_1@localhost"
"revoke all privileges on *.* from user_1@localhost"
"create table BIT_AND (a int)"
"drop table BIT_AND"
"create table BIT_OR (a int)"
"drop table BIT_OR"
"create table BIT_XOR (a int)"
"drop table BIT_XOR"
"create table CAST (a int)"
"drop table CAST"
"create table COUNT (a int)"
"drop table COUNT"
"create table CURDATE (a int)"
"drop table CURDATE"
"create table CURTIME (a int)"
"drop table CURTIME"
"create table DATE_ADD (a int)"
"drop table DATE_ADD"
"create table DATE_SUB (a int)"
"drop table DATE_SUB"
"create table EXTRACT (a int)"
"drop table EXTRACT"
"create table GROUP_CONCAT (a int)"
"drop table GROUP_CONCAT"
"create table MAX (a int)"
"drop table MAX"
"create table MIN (a int)"
"drop table MIN"
"create table POSITION (a int)"
"drop table POSITION"
"create table STD (a int)"
"drop table STD"
"create table STDDEV (a int)"
"drop table STDDEV"
"create table STDDEV_POP (a int)"
"drop table STDDEV_POP"
"create table STDDEV_SAMP (a int)"
"drop table STDDEV_SAMP"
"create table SUBSTR (a int)"
"drop table SUBSTR"
"create table SUBSTRING (a int)"
"drop table SUBSTRING"
"create table SUM (a int)"
"drop table SUM"
"create table SYSDATE (a int)"
"drop table SYSDATE"
"create table TRIM (a int)"
"drop table TRIM"
"create table VARIANCE (a int)"
"drop table VARIANCE"
"create table VAR_POP (a int)"
"drop table VAR_POP"
"create table VAR_SAMP (a int)"
"drop table VAR_SAMP"
"SELECT 1 FROM t1 INTO @var17727401"
"SELECT 1 FROM DUAL INTO @var17727401"
"SELECT 1 FROM t1 WHERE 1 GROUP BY 1 HAVING 1 ORDER BY 1 LIMIT 1 INTO @var17727401"
"SELECT 1 FROM t1 UNION SELECT 1 FROM t1 INTO @var17727401"
"((SELECT 1 FROM t1 ORDER BY 1) ORDER BY 1) ORDER BY 1"
"((SELECT 1 FROM t1 LIMIT 1) LIMIT 1) LIMIT 1"
"( (SELECT 1 UNION SELECT 1 ) UNION SELECT 1 ) UNION SELECT 1"
"((SELECT 1 FROM t1)  UNION   SELECT 2 FROM t1)"
"(((SELECT 1 FROM t1)) UNION   SELECT 2 FROM t1)"
"((((SELECT 1 FROM t1)) UNION   SELECT 2 FROM t1))"
"((SELECT 1 FROM t1)  UNION  (SELECT 2 FROM t1))"
"(((SELECT 1 FROM t1)  UNION  (SELECT 2 FROM t1)))"
"((((SELECT 1 FROM t1)) UNION  (SELECT 2 FROM t1)))"
"(((SELECT 1 FROM t1)  UNION ((SELECT 2 FROM t1))))"
"((((SELECT 1 FROM t1)) UNION ((SELECT 2 FROM t1))))"
"((SELECT 1) ORDER BY 1)"
"((SELECT 1) LIMIT 1)"
"SELECT * FROM   ((SELECT 1 FROM t1)  UNION   SELECT 2 FROM t1) dt"
"SELECT * FROM  (((SELECT 1 FROM t1)) UNION   SELECT 2 FROM t1) dt"
"SELECT * FROM ((((SELECT 1 FROM t1)) UNION   SELECT 2 FROM t1)) dt"
"SELECT * FROM   ((SELECT 1 FROM t1)  UNION  (SELECT 2 FROM t1)) dt"
"SELECT * FROM  (((SELECT 1 FROM t1)  UNION  (SELECT 2 FROM t1))) dt"
"SELECT * FROM ((((SELECT 1 FROM t1)) UNION  (SELECT 2 FROM t1))) dt"
"SELECT * FROM  (((SELECT 1 FROM t1)  UNION ((SELECT 2 FROM t1)))) dt"
"SELECT * FROM ((((SELECT 1 FROM t1)) UNION ((SELECT 2 FROM t1)))) dt"
"SELECT 1 FROM ((SELECT 2) ORDER BY 1) AS res"
"SELECT 1 FROM ((SELECT 2) LIMIT 1) AS res"
"((SELECT 1 UNION SELECT 1) UNION SELECT 1)"
"SELECT * FROM ((SELECT 1 UNION SELECT 1) UNION SELECT 1) a"
"SELECT 1 FROM t1 INTO @v"
"((SELECT 1) UNION (SELECT 1 INTO @v FROM t1))"
"((SELECT 1) UNION (SELECT 2 INTO OUTFILE 'parser.test.file5'))"
"select 2 as expected, /*!01000/**/*/ 2 as result"
"select 1 as expected, /*!99998/**/*/ 1 as result"
"select 7 as expected, /*!01000 1 + /* 8 + */ 2 + */ 4 as result"
"select 8 as expected, /*!99998 1 + /* 2 + */ 4 + */ 8 as result"
"select 7 as expected, /*!01000 1 + /*!01000 8 + */ 2 + */ 4 as result"
"select 7 as expected, /*!01000 1 + /*!99998 8 + */ 2 + */ 4 as result"
"select 4 as expected, /*!99998 1 + /*!99998 8 + */ 2 + */ 4 as result"
"select 4 as expected, /*!99998 1 + /*!01000 8 + */ 2 + */ 4 as result"
"select 7 as expected, /*!01000 1 + /*!01000 8 + /*!01000 error */ 16 + */ 2 + */ 4 as result"
"select 4 as expected, /* 1 + /*!01000 8 + */ 2 + */ 4"
"EXPLAIN ((SELECT * FROM t3 ORDER BY a LIMIT 3)
ORDER BY b DESC LIMIT 2)
ORDER BY c LIMIT 1"
"SELECT 'a%' LIKE 'a!%' ESCAPE '!', 'a%' LIKE 'a!' || '%' ESCAPE '!'"
"SELECT 'a%' NOT LIKE 'a!%' ESCAPE '!', 'a%' NOT LIKE 'a!' || '%' ESCAPE '!'"
"SELECT 'a%' LIKE 'a!%' ESCAPE '$', 'a%' LIKE 'a!' || '%' ESCAPE '$'"
"SELECT 'a%' NOT LIKE 'a!%' ESCAPE '$', 'a%' NOT LIKE 'a!' || '%' ESCAPE '$'"
"SELECT 1 UNION SELECT 1 FROM DUAL INTO @var"
"SELECT 1 UNION SELECT 1 FROM DUAL FOR UPDATE INTO @var"
"(SELECT 1 UNION SELECT 1 FROM DUAL FOR UPDATE INTO @var)"
"SELECT 1 UNION SELECT 1 FROM DUAL INTO @var FOR UPDATE"
"WITH cte AS (SELECT 0 /*! ) */ SELECT * FROM cte a, cte b"
"WITH cte AS /*! ( */ SELECT 0) SELECT * FROM cte a, cte b"
"(SELECT 1) LIMIT 1 INTO @var"
"(SELECT 2 AS c) ORDER BY c INTO @var"
"(SELECT 3 AS c) ORDER BY c LIMIT 1 INTO @var"
"(SELECT 4) INTO @var"
"SELECT cast( NULL AT TIME ZONE 'UTC' AS DATETIME )"
"((SELECT * FROM t1 ORDER BY i) ORDER BY i) ORDER BY i"
"drop function if exists func_overflow"
"drop function func_overflow"
"ALTER TABLE t1 DROP PARTITION p0"
"abcd
EOF

CREATE TABLE t1
(id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
name TINYBLOB NOT NULL,
modified TIMESTAMP DEFAULT '0000-00-00 00:00:00',
INDEX namelocs (name(255))) ENGINE = InnoDB
PARTITION BY HASH(id) PARTITIONS 2"
"insert into t1 values (b'1')"
"select hex(a) from t1 where a = b'1'"
"CREATE TABLE t1_1 (
`col1` int(11) DEFAULT NULL,
`col2` int(11) DEFAULT NULL,
`col3` int(11) DEFAULT NULL,
`col4` text,
`col5` varchar(500) GENERATED ALWAYS AS (substr(`col4`,1,500)) VIRTUAL,
`col6` text GENERATED ALWAYS AS (substr(`col4`,1,500)) VIRTUAL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
/*!50100 PARTITION BY RANGE ((`col1` * 2))
(PARTITION p0 VALUES LESS THAN (128) ENGINE = InnoDB,
PARTITION p1 VALUES LESS THAN (256) ENGINE = InnoDB,
PARTITION p2 VALUES LESS THAN (384) ENGINE = InnoDB,
PARTITION p3 VALUES LESS THAN MAXVALUE ENGINE = InnoDB) */"
"CREATE TABLE tmp LIKE t"
"CREATE TEMPORARY TABLE tmp LIKE t"
"CREATE TABLE t LIKE tp"
"CREATE TABLE t2 LIKE t"
"CREATE TABLE t2 like t1"
"CREATE TABLE t LIKE general_log"
"DELETE FROM t1 PARTITION(subp1) WHERE b = ""REPLACEd by REPLACE"""
"SELECT * FROM t1 PARTITION (pNeg, `p10-99`) INTO OUTFILE 'loadtest.txt'"
"DELETE FROM t1 PARTITION (pNeg) WHERE a = -1"
"DELETE FROM t1 PARTITION (subp1) WHERE b like '%subp1%'"
"DELETE FROM t1 PARTITION (subp1) WHERE b = 'p0-9:subp3'"
"DELETE FROM t1 PARTITION (`p0-9`) WHERE b = 'p0-9:subp3'"
"DELETE FROM t1 PARTITION (subp3)"
"DELETE FROM t1 PARTITION (`p0-29`)"
"DELETE FROM t1 PARTITION (p2)"
"revoke all privileges on *.* from mysqltest_1@localhost"
"alter table t1 drop partition p2"
"SELECT count(*) FROM t1 p where c3 in
(SELECT c3 FROM t1 t WHERE t.c3 < TIMESTAMP'2011-04-26 19:19:44'
AND t.c3 > TIMESTAMP'2011-04-26 19:18:44') "
"ALTER TABLE t1 IMPORT TABLESPACE"
"LET $MYSQL_DATA_DIR = `select @@datadir`"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 ORDER BY a DESC, b DESC"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 ORDER BY a, b"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 ORDER BY a, b DESC"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 ORDER BY a DESC, b"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 FORCE INDEX (`PRIMARY`) ORDER BY a, b"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 FORCE INDEX (`PRIMARY`) ORDER BY a DESC, b"
"EXPLAIN FORMAT=JSON SELECT * FROM t1 FORCE INDEX (`PRIMARY`) ORDER BY a, b DESC"
"CREATE TABLE `t``\"""e` (a INT, PRIMARY KEY (a))
ENGINE=InnoDB
PARTITION BY RANGE (a)
SUBPARTITION BY HASH (a)
(PARTITION `p0``\"""e` VALUES LESS THAN (100)
(SUBPARTITION `sp0``\"""e`,
SUBPARTITION `sp1``\"""e`),
PARTITION `p1``\"""e` VALUES LESS THAN (MAXVALUE)
(SUBPARTITION `sp2``\"""e`,
SUBPARTITION `sp3``\"""e`))"
"INSERT INTO `t``\"""e` VALUES (0), (2), (6), (10), (14), (18), (22)"
SEND
"DROP TABLE `t``\"""e`"
"LET $MYSQLD_DATADIR = `select @@datadir`"
"LET $INNODB_PAGE_SIZE = `select @@innodb_page_size`"
"LET $data_directory = DATA DIRECTORY='$MYSQL_TMP_DIR/alternate_dir/data'"
"LET $data_directory2 = DATA DIRECTORY='$MYSQL_TMP_DIR/alternate_dir/data2'"
"LET $index_directory = INDEX DIRECTORY='$MYSQL_TMP_DIR/alternate_dir/data'"
"LET $innodb_file_per_table_orig=`select @@global.innodb_file_per_table`"
"LET $innodb_strict_mode_orig=`select @@session.innodb_strict_mode`"
"EVAL SET GLOBAL innodb_file_per_table=$innodb_file_per_table_orig"
"EVAL SET SESSION innodb_strict_mode=$innodb_strict_mode_orig"
"EVAL SET @@default_storage_engine=$old_default_storage_engine"
"DELETE FROM t1 PARTITION (p0)
WHERE a = (SELECT a + 2 FROM t2 WHERE a = 1)"
"EXPLAIN DELETE FROM t1 PARTITION (p0)
WHERE a = (SELECT a + 2 FROM t2 WHERE a = 1)"
"CREATE TRIGGER t1_after_insert AFTER INSERT
ON t1 FOR EACH ROW
INSERT INTO t3 VALUES (2, NEW.a, NULL, CONCAT(""AI: "", NEW.b))"
"CREATE TRIGGER t1_after_update AFTER UPDATE
ON t1 FOR EACH ROW
INSERT INTO t3 VALUES (OLD.a, NEW.a, CONCAT(""AU: "", OLD.b), CONCAT(""AU: "", NEW.b))"
"CREATE TRIGGER t1_after_delete AFTER DELETE
ON t1 FOR EACH ROW
INSERT INTO t3 VALUES (OLD.a, NULL, CONCAT(""AD: "", OLD.b), NULL)"
"CREATE TRIGGER t1_before_delete BEFORE DELETE
ON t1 FOR EACH ROW
INSERT INTO t3 VALUES (OLD.a, NULL, CONCAT(""BD: "", OLD.b), NULL)"
"CREATE TRIGGER t1_before_update BEFORE UPDATE
ON t1 FOR EACH ROW
INSERT INTO t3 VALUES (OLD.a, NEW.a, CONCAT(""BU: "", OLD.b), CONCAT(""BU: "", NEW.b))"
"CREATE TRIGGER t1_before_insert BEFORE INSERT
ON t1 FOR EACH ROW
INSERT INTO t3 VALUES (1, NEW.a, NULL, CONCAT(""BI: "", NEW.b))"
"CREATE TRIGGER t1_before_insert BEFORE INSERT
ON t1 FOR EACH ROW
SET NEW.b = CONCAT(""b: "", NEW.b, "" a: "", NEW.a)"
"CREATE TRIGGER t1_before_insert BEFORE INSERT
ON t1 FOR EACH ROW
SET NEW.b = CONCAT(""b: "", NEW.b)"
"CREATE TRIGGER t1_before_update BEFORE UPDATE
ON t1 FOR EACH ROW
SET NEW.b = CONCAT(""old a: "", OLD.a, "" new b: "", NEW.b)"
"CREATE TRIGGER t1_before_update BEFORE UPDATE
ON t1 FOR EACH ROW
SET NEW.b = CONCAT(""new a: "", NEW.a, "" new b: "", NEW.b)"
"CREATE TRIGGER t1_before_update BEFORE UPDATE
ON t1 FOR EACH ROW
SET NEW.b = CONCAT(""new b: "", NEW.b)"
"CREATE TRIGGER t1_before_update BEFORE UPDATE
ON t1 FOR EACH ROW
SET NEW.b = CONCAT(""new1 b: "", NEW.b)"
"CREATE TRIGGER t2_before_update BEFORE UPDATE
ON t2 FOR EACH ROW
SET NEW.b = CONCAT(""new2 a: "", NEW.a, "" new2 b: "", NEW.b)"
"CREATE TRIGGER tr1_1_N  BEFORE INSERT ON t1
FOR EACH ROW BEGIN
UPDATE t2 SET a = 8 WHERE a > 3 LIMIT 0;
END"
"DROP FUNCTION sf_add_hello"
"DROP FUNCTION sf_add_1"
"DROP FUNCTION sf_a_from_t1b_d"
"DROP FUNCTION sf_a_from_t1b"
"CREATE USER 'mysqltest1'@'localhost'"
"CREATE USER 'mysqltest2'@'localhost'"
"CREATE TABLE t1 (a INT)
/*!50100 PARTITION BY HASH (a)
/* Test
of multi-line
comment */
PARTITIONS 5 */"
"ALTER TABLE t1 DROP PARTITION x1"
"INSERT into t1 values (1, b'00001', NULL)"
"INSERT into t1 values (2, b'00101', 2)"
"INSERT into t1 values (30, b'00100', 2)"
"INSERT into t1 values (35, b'00010', NULL)"
"select a from t1 force index (b) where b > b'00000' order by b"
"INSERT into t1 values (1,  b'000000000000001', NULL)"
"INSERT into t1 values (2,  b'001010000000101', 2)"
"INSERT into t1 values (30, b'001000000000100', 2)"
"INSERT into t1 values (35, b'000100000000010', NULL)"
"select a from t1 force index (b) where b > b'000000000000000' order by b"
"CREATE TABLE t1 (a INT PRIMARY KEY)
PARTITION BY RANGE (a) (
PARTITION p0 VALUES LESS THAN (1),
PARTITION p1 VALUES LESS THAN (2),
PARTITION p2 VALUES LESS THAN (3),
PARTITION p3 VALUES LESS THAN (4),
PARTITION p4 VALUES LESS THAN (5),
PARTITION p5 VALUES LESS THAN (6),
PARTITION max VALUES LESS THAN MAXVALUE)"
"CREATE TABLE t1 (a INT PRIMARY KEY)
PARTITION BY RANGE (a) (
PARTITION p0 VALUES LESS THAN (1),
PARTITION p1 VALUES LESS THAN (2),
PARTITION p2 VALUES LESS THAN (3),
PARTITION p3 VALUES LESS THAN (4),
PARTITION p4 VALUES LESS THAN (5),
PARTITION max VALUES LESS THAN MAXVALUE)"
"create table t9 (a date not null) partition by RANGE(TO_DAYS(a)) (
partition p0 values less than (732299), -- 2004-12-19
partition p1 values less than (732468), -- 2005-06-06
partition p2 values less than (732664)  -- 2005-12-19
)"
"EOF



















DROP TABLE t1, t2, t3, t4, t5"
"create trigger tr1 before insert on t1
for each row begin
set @a = 1;
end"
"alter table t1 drop partition p0"
"ALTER TABLE t1 DROP PARTITION p3"
"ALTER TABLE t1 DROP PARTITION p1"
"ALTER TABLE t1 DROP PARTITION p2"
"CREATE TABLE t2 (
defid int(10) unsigned NOT NULL,
day int(10) unsigned NOT NULL,
count int(10) unsigned NOT NULL,
filler char(200),
KEY (defid,day)
)
PARTITION BY RANGE (day) (
PARTITION p7 VALUES LESS THAN (20070401) ,
PARTITION p8 VALUES LESS THAN (20070501))"
"select sum(count) from t2 ch where ch.defid in (50,52) and ch.day between 20070320 and 20070401 group by defid"
"open(FILE, "">"", ""$ENV{MYSQL_TMP_DIR}/perror_syslocale.inc"") or die $!"
"EOF

source $MYSQL_TMP_DIR/perror_syslocale.inc"
"RESET PERSIST sort_buffer_size"
"RESET PERSIST max_heap_table_size"
"RESET PERSIST max_execution_time"
"RESET PERSIST max_user_connections"
"RESET PERSIST sql_require_primary_key"
"RESET PERSIST default_table_encryption"
"RESET PERSIST table_encryption_privilege_check"
"RESET PERSIST replica_net_timeout"
"RESET PERSIST max_connections"
"RESET PERSIST server_id"
"RESET PERSIST general_log"
"RESET PERSIST session_track_system_variables"
"RESET PERSIST default.key_buffer_size"
"INSTALL COMPONENT ""file://component_test_sys_var_service"""
"UNINSTALL COMPONENT ""file://component_test_sys_var_service"""
"RESET PERSIST test_component.str_sys_var"
"RESET PERSIST event_scheduler"
"RESET REPLICA"
"RESET PERSIST ft_query_expansion_limit"
"CREATE USER 'bug28749668'@'%'"
"RESET PERSIST sql_mode"
"[mysqld]
innodb_fast_shutdown=1
innodb_default_row_format=REDUNDANT
sql_mode=REAL_AS_FLOAT
innodb_flush_log_at_trx_commit=2
max_digest_length=2024
disconnect_on_expired_password=OFF
EOF






SELECT @@global.innodb_fast_shutdown"
"RESET PERSIST slow_query_log_file"
"RESET PERSIST general_log_file"
"CREATE USER 'user1'@'localhost' IDENTIFIED BY 'pass1'"
"RESET PERSIST auto_increment_increment"
"RESET PERSIST innodb_checksum_algorithm"
"CREATE USER 'internal_proxied'@'%' IDENTIFIED BY 'proxy_password'"
"CREATE USER 'external_u1'@'%' IDENTIFIED WITH test_plugin_server AS 'internal_proxied'"
"CREATE USER 'external_u2'@'%' IDENTIFIED WITH test_plugin_server AS 'internal_proxied'"
"[mysqld]
sort_buffer_size=314156
EOF

[mysqld]
innodb_fast_shutdown=1
innodb_default_row_format=REDUNDANT
innodb_flush_log_at_trx_commit=2
EOF


SELECT VARIABLE_NAME, VARIABLE_SOURCE
FROM performance_schema.variables_info WHERE VARIABLE_NAME IN
('sort_buffer_size', 'max_connections', 'max_digest_length',
'innodb_fast_shutdown', 'innodb_default_row_format', 'innodb_flush_log_at_trx_commit')"
"CREATE USER bug25677422"
"RESET PERSIST `validate_password.length`"
"INSTALL COMPONENT 'file://component_validate_password'"
"UNINSTALL COMPONENT 'file://component_validate_password'"
"RESET PERSIST validate_password_length"
"RESET PERSIST gtid_mode"
"RESET PERSIST enforce_gtid_consistency"
"CREATE USER bug51770@localhost"
"GRANT INSERT ON mysql.plugin TO bug51770@localhost"
"GRANT DELETE ON mysql.plugin TO bug51770@localhost"
"CREATE USER plug IDENTIFIED WITH 'test_plugin_server' AS 'plug_dest'"
"CREATE USER plug_dest IDENTIFIED BY 'plug_dest_passwd'"
"CREATE USER `Å¸` IDENTIFIED WITH 'test_plugin_server' AS 'plug_dest'"
"CREATE USER grant_plug IDENTIFIED WITH 'test_plugin_server'
AS 'grant_plug_dest'"
"CREATE USER grant_plug_dest IDENTIFIED BY 'grant_plug_dest_passwd'"
"CREATE USER grant_plug_dest2 IDENTIFIED BY 'grant_plug_dest_passwd2'"
"CREATE USER proxy_admin IDENTIFIED BY 'test'"
"CREATE USER test_drop@localhost"
"CREATE USER ''@'' IDENTIFIED WITH 'test_plugin_server' AS 'power_user'"
"CREATE USER ''@'' IDENTIFIED WITH 'test_plugin_server' AS 'standard_user'"
"CREATE USER standard_user"
"CREATE USER bug12610784@localhost"
"CREATE USER bug12818542_dest@localhost
IDENTIFIED BY 'bug12818542_dest_passwd'"
"CREATE USER 'empl_external'@'localhost' IDENTIFIED WITH test_plugin_server AS 'employee'"
"CREATE USER 'employee'@'localhost' IDENTIFIED BY 'passkey'"
"CREATE USER bug20537246@localhost
IDENTIFIED WITH 'cleartext_plugin_server' AS ''"
"CREATE USER user_name_len_22_01234 IDENTIFIED WITH 'test_plugin_server' AS 'user_name_len_22_0dest'"
"CREATE USER user_name_len_22_0dest IDENTIFIED BY 'plug_dest_passwd'"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__ IDENTIFIED WITH 'test_plugin_server' AS 'Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_Ð´ÐµÑÑ‚__'"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_Ð´ÐµÑÑ‚__ IDENTIFIED BY 'plug_dest_passwd'"
"DROP USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__"
"DROP USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_Ð´ÐµÑÑ‚__"
"CREATE USER user_name_len_22_01234@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER user_name_len_32_012345678901234@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string'"
"CREATE USER user_name_len_32_012345678901234@localhost IDENTIFIED WITH 'cleartext_plugin_server' AS 'auth_string'"
"CREATE USER user_name_len_22_01234@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string' REQUIRE SSL"
"CREATE USER user_name_len_32_012345678901234@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string' REQUIRE SSL"
"CREATE USER user_name_len_32_012345678901234@localhost IDENTIFIED WITH 'cleartext_plugin_server' AS 'auth_string' REQUIRE SSL"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string'"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string'"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost IDENTIFIED WITH 'cleartext_plugin_server' AS 'auth_string'"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost IDENTIFIED WITH 'sha256_password' BY 'auth_string' REQUIRE SSL"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string' REQUIRE SSL"
"CREATE USER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹_ÑŽÐ·ÐµÑ€__@localhost IDENTIFIED WITH 'cleartext_plugin_server' AS 'auth_string' REQUIRE SSL"
"CREATE USER b22551523@localhost"
"CREATE USER pwd_history_plugin@localhost IDENTIFIED WITH 'test_plugin_server' PASSWORD HISTORY 1"
"CREATE USER mohit@localhost IDENTIFIED BY 'mohit_native' PASSWORD HISTORY 1"
"CREATE USER plug IDENTIFIED WITH test_plugin_server"
"CREATE USER plug IDENTIFIED WITH test_plugin_server BY '123'"
"REVOKE ALL PRIVILEGES ON test_user_db.* FROM plug"
"CREATE USER plug IDENTIFIED WITH 'test_plugin_server'"
"CREATE USER plug IDENTIFIED WITH test_plugin_server AS ''"
"CREATE USER plug IDENTIFIED WITH test_plugin_server AS 'plug_dest'"
"CREATE USER plug_dest IDENTIFIED WITH 'test_plugin_server' AS 'plug_dest'"
"CREATE USER plÃ¼g IDENTIFIED WITH 'test_plugin_server' AS 'plÃ¼g_dest'"
"DROP USER plÃ¼g"
"CREATE USER plÃ¼g_dest IDENTIFIED BY 'plug_dest_passwd'"
"DROP USER plÃ¼g_dest"
"CREATE USER 'plÃ¼g' IDENTIFIED WITH 'test_plugin_server' AS 'plÃ¼g_dest'"
"CREATE USER 'plÃ¼g_dest' IDENTIFIED BY 'plug_dest_passwd'"
"CREATE USER 'plug' IDENTIFIED WITH 'test_plugin_server' AS 'plÃ¼g_dest'"
"CREATE USER plÃ¼g IDENTIFIED WITH test_plugin_server AS 'plÃ¼g_dest'"
"CREATE USER plug IDENTIFIED WITH 'test_plugin_server' AS 'hh''s_plug_dest'"
"CREATE USER 'hh''s_plug_dest' IDENTIFIED BY 'plug_dest_passwd'"
"CREATE USER plug_user
IDENTIFIED WITH test_plugin_server AS 'plug_dest'"
"CREATE USER new_dest IDENTIFIED BY 'new_dest_passwd'"
"CREATE USER ''@'' IDENTIFIED WITH test_plugin_server AS 'proxied_user'"
"CREATE USER proxied_user IDENTIFIED BY 'proxied_user_passwd'"
"CREATE USER proxied_user_1 IDENTIFIED BY 'proxied_user_1_pwd'"
"CREATE USER proxied_user_2 IDENTIFIED BY 'proxied_user_2_pwd'"
"CREATE USER proxied_user_3 IDENTIFIED BY 'proxied_user_3_pwd'"
"CREATE USER proxied_user_4 IDENTIFIED BY 'proxied_user_4_pwd'"
"CREATE USER proxied_user_5 IDENTIFIED BY 'proxied_user_5_pwd'"
"CREATE USER qa_test_1_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_1_dest'"
"CREATE USER qa_test_1_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_2_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_2_dest'"
"CREATE USER qa_test_2_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER authenticated_as IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_3_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_3_dest'"
"CREATE USER qa_test_3_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_4_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_4_dest'"
"CREATE USER qa_test_4_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_5_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_5_dest'"
"CREATE USER qa_test_5_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER ''@'localhost' IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_6_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_6_dest'"
"CREATE USER qa_test_6_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_11_user IDENTIFIED WITH qa_auth_interface AS 'qa_test_11_dest'"
"CREATE USER qa_test_11_dest IDENTIFIED BY 'dest_passwd'"
"CREATE USER qa_test_11_user IDENTIFIED WITH qa_auth_server AS 'qa_test_11_dest'"
"CREATE USER qa_test_11_dest identified by 'dest_passwd'"
"CREATE USER 'kristofer' IDENTIFIED WITH 'sha256_password'"
"CREATE USER 'kristofer'@'localhost' IDENTIFIED WITH 'sha256_password' BY '123'"
"CREATE USER 'kristofer2'@'localhost' IDENTIFIED WITH 'sha256_password' BY '123'"
"CREATE USER 'kristofer'@'33.33.33.33' IDENTIFIED WITH 'sha256_password' BY '123'"
"CREATE USER 'kristofer' IDENTIFIED BY 'secret'"
"CREATE USER 'kristofer'@'localhost' IDENTIFIED BY 'secret2'"
"CREATE USER 'kristofer'@'localhost' IDENTIFIED BY '123'"
"CREATE USER 'kristofer'@'33.33.33.33' IDENTIFIED BY '123'"
"CREATE USER 'kristofer'"
"CREATE USER 'kristofer'@'localhost'"
"CREATE USER 'kristofer'@'33.33.33.33'"
"CREATE USER 'kristofer'@'localhost' IDENTIFIED BY 'awesomeness'"
"CREATE USER 'kristofer'@'localhost' IDENTIFIED WITH 'sha256_password'"
"CREATE USER 'kristofer2'@'localhost' IDENTIFIED WITH 'sha256_password'"
"CREATE USER 'u1'@'localhost' IDENTIFIED WITH 'sha256_password'"
"create trigger t2_bi before insert on t2 for each row set @x=0"
"set @precision=10000000000"
"select rand(),
cast(rand(10)*@precision as unsigned integer) from t1"
"set @like=""%NDAN%"""
"execute stmt using @like"
"set @like=""%ER"""
"set @offset=0, @limit=1"
"execute stmt using @offset, @limit"
"set @offset=3, @limit=2"
"execute stmt using @limit"
"set @limit=2"
"execute stmt using @offset, @limit, @offset, @limit, @limit"
"create procedure proc_1() reset binary logs and gtids"
"drop function func_1"
"create procedure proc_1() RESET REPLICA"
"create procedure proc_1() START REPLICA"
"create procedure proc_1() STOP REPLICA"
"create procedure proc_1() SHOW REPLICA STATUS"
"create procedure proc_1() show binary log status"
"create procedure proc_1(a char(2)) show create function a"
"drop function a"
"create procedure proc_1() create user pstest_xyz@localhost"
"set @dec=0"
"execute stmt2 using @to_format, @dec"
"set @dec=4"
"set @dec=6"
"set @dec=2"
"SET @empty = ''"
"INSERT INTO t1 VALUES ROW(1,'A')"
"DROP FUNCTION p1"
"CREATE USER test_user1@'localhost'"
"create procedure p_verify_reprepare_count(expected int)
begin
declare old_reprepare_count int default @reprepare_count;

select variable_value from
performance_schema.session_status where
variable_name='com_stmt_reprepare'
into @reprepare_count;

if old_reprepare_count + expected <> @reprepare_count then
select concat(""Expected: "", expected,
"", actual: "", @reprepare_count - old_reprepare_count)
as ""ERROR"";
else
select '' as ""SUCCESS"";
end if;
end"
"create trigger t1_bi before insert on t1 for each row
set @message= new.a"
"create trigger t1_bd before delete on t1 for each row
set @message= old.a"
"create trigger t1_bi before insert on t1 for each row
set @message= concat(""new trigger: "", new.a)"
"create trigger t1_ai after insert on t1 for each row
call p1(new.a)"
"create trigger t1_ai after insert on t1 for  each row
select f1(new.a+1) into @var"
"create trigger t1_ai after insert on t1 for each row
insert into v1 (a) values (new.a)"
"create trigger t1_ai after insert on t1 for each row
insert into t2 (a) values (new.a)"
"create trigger t2_ai after insert on t2 for each row
insert into t3 (a) values (new.a)"
"create trigger t2_ai after insert on t2 for each row
insert into t4 (a) values (new.a)"
"create procedure p1(out x int) select max(a) from t1 into x"
"create procedure p1(out x int) select max(a) from t2 into x"
"create trigger v2_bi before insert on v2 for each row set @message=""v2_bi"""
"create trigger v2_bi after insert on v2 for each row set @message=""v2_ai"""
"create trigger t1_bi before insert on t1 for each row set @message= ""t1_bi"""
"create trigger t1_bi before insert on t1 for each row set @message= ""t1_bi (2)"""
"drop function if exists f_12093"
"drop function if exists f_12093_unrelated"
"drop function f_12093"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
SET @a:= (SELECT COUNT(*) FROM t1)"
"create user second_user@localhost
identified by 'looser' "
"grant select on mysqltest.t9 to second_user@localhost"
"grant select on mysqltest.t1 to second_user@localhost"
"revoke all privileges on mysqltest.t1 from second_user@localhost"
"create user drop_user@localhost identified by 'looser'"
"grant all on test.t1 to drop_user@localhost"
"revoke all privileges on test.t1 from drop_user@localhost "
"set @a= timestamp ""2001-01-02 10:11:12.345"""
"set @a=date ""2001-01-02"""
"set @a= time ""10:11:12.345"""
"set @a= time ""01:02:00"""
"set @a= timestamp ""2001-01-02 01:02:00"""
"set @a= date ""2001-01-02"""
"SELECT a, b, c, ROW_NUMBER() OVER (PARTITION BY a ORDER BY a,b,c) AS rnk
FROM t1 QUALIFY rnk>1"
"SELECT a, b, c
FROM t1 QUALIFY ROW_NUMBER() OVER (PARTITION BY a ORDER BY a,b,c)>1"
"SELECT a, b, c
FROM t1
QUALIFY (MIN(a) OVER () + RANK() OVER () ) > 5"
"SELECT a, b, c,
MIN(b) OVER (PARTITION BY b ORDER BY a DESC,b ASC,c DESC) AS mn
FROM t1
QUALIFY ( RANK() OVER () + mn) >5"
"SELECT a, b, c,
MIN(b) OVER (PARTITION BY b ORDER BY a DESC,b ASC,c DESC) AS mn,
RANK() OVER (PARTITION BY b ORDER BY a DESC,b ASC,c DESC) AS rnk
FROM t1
QUALIFY ( rnk + mn) >5"
"SELECT a, b,
MIN(b) OVER (PARTITION BY b ORDER BY a DESC,b ASC,c DESC) AS mn,
RANK() OVER (PARTITION BY b ORDER BY a DESC,b ASC,c DESC) AS rnk
FROM t1
QUALIFY ROW_NUMBER() OVER (PARTITION BY a ORDER BY b)>1"
"SELECT
a, b, ( SELECT sum(rnk)
FROM ( SELECT ROW_NUMBER() OVER (PARTITION BY a ORDER BY a,b,c) AS rnk
FROM t1 qualify rnk > t0.a
) as z
)
FROM (values row(1,10), row(2,20)) as t0(a,b)"
"SELECT  b
FROM t1
QUALIFY ROW_NUMBER() OVER (PARTITION BY a ORDER BY a)>1"
"SELECT  b
FROM t1
QUALIFY ROW_NUMBER() OVER ()>1 and 2*b>2"
"SELECT  b
FROM t1
QUALIFY ROW_NUMBER() OVER (PARTITION BY a ORDER BY a)>1 and c>2"
"SELECT  b
FROM t1
QUALIFY ROW_NUMBER() OVER (PARTITION BY a ORDER BY a)>1 and a>2"
"SELECT a, b, c, ROW_NUMBER() OVER () AS rnk
FROM t1
QUALIFY 2*rnk>1"
"SELECT a, b, c, ROW_NUMBER() OVER () AS rnk
FROM t1
QUALIFY a+rnk>5"
"SELECT a, b, ROW_NUMBER() OVER (PARTITION BY a ORDER BY a,b) AS rnk
FROM t1
QUALIFY c>1"
"SELECT a, b, ROW_NUMBER() OVER (PARTITION BY a ORDER BY a,b) AS rnk
FROM t1
QUALIFY 2*a>1"
"SELECT a
FROM t1
QUALIFY ROW_NUMBER() OVER (PARTITION BY a) + b > 0"
"SELECT a, b, ROW_NUMBER() OVER (PARTITION BY a ORDER BY a,b,c) AS rnk
FROM t1
QUALIFY rnk>1 and c>2"
"SELECT MAX(a) FROM t1
GROUP BY b, 2*c WITH ROLLUP
HAVING AVG(c)>1
QUALIFY MIN(2*b) OVER () + RANK() OVER () > 3"
"SELECT 1 FROM t1
GROUP BY b, 2*c WITH ROLLUP
HAVING AVG(c)>1
QUALIFY MIN(2*b) OVER () + RANK() OVER () + MAX(a) > 4"
"SELECT MAX(b) FROM t1
GROUP BY b, 2*c WITH ROLLUP
HAVING AVG(c)>1
QUALIFY MIN(2*b) OVER () + RANK() OVER () + MAX(a) > 4"
"SELECT MAX(a)
FROM t1 GROUP BY b WITH ROLLUP
QUALIFY (MIN(c) OVER () + RANK() OVER () ) >= 2"
"SELECT MAX(a)
FROM t1 GROUP BY b,c WITH ROLLUP
QUALIFY (MIN(a) OVER () + RANK() OVER () ) >= 2"
"SELECT MAX(a)
FROM t1 GROUP BY b,c WITH ROLLUP
QUALIFY (MIN(a) OVER () + RANK() OVER () ) > 5"
"SELECT MAX(a) FROM t1
GROUP BY b,c WITH ROLLUP
QUALIFY (MIN(a) OVER ()) > 1"
"SELECT MAX(a)
FROM t1
GROUP BY b,c WITH ROLLUP
QUALIFY (MIN(a) OVER () + RANK() OVER () ) > 5"
"SELECT a FROM t1 GROUP BY b, 2*c WITH ROLLUP
HAVING AVG(c)>1
QUALIFY ROW_NUMBER() OVER () + MAX(a) > 4"
"SELECT a FROM t1
GROUP BY b, 2*c WITH ROLLUP
QUALIFY LEAD(c,2) OVER () > 4"
"SELECT b,c, MAX(a)
FROM t1 GROUP BY b,c WITH ROLLUP
QUALIFY LEAD(b) OVER(ORDER BY a,b,c) >1 AND b IS NULL"
"SELECT RANK() OVER () AS sales_rank
FROM sales QUALIFY SUM(sale_amount) > 300"
"CREATE VIEW v1 as
SELECT salesperson_id,   SUM(sale_amount) AS total_sales,
RANK() OVER (ORDER BY SUM(sale_amount) DESC) AS sales_rank
FROM sales GROUP BY salesperson_id
QUALIFY SUM(sale_amount) > 3000"
"CREATE VIEW v2 as
SELECT SUM(sale_amount) AS total_sales,
RANK() OVER (ORDER BY SUM(sale_amount) DESC) AS sales_rank
FROM sales GROUP BY salesperson_id
QUALIFY SUM(sale_amount) > 3000"
"SELECT  RANK() OVER () AS field3
FROM t1
WHERE ( SELECT  MAX( t2.col_decimal_10_8 ) AS derived_1
FROM  t2) IS NOT NULL
QUALIFY field3 <=> 'a'"
"SELECT CUME_DIST() OVER () AS field1
FROM t1
WHERE
EXISTS ( SELECT LEAST(t2.col_varchar132, t2.col_timestamp_key) AS SQ1_field1
FROM  t2
)
AND ( FLOOR(ATAN(t1.col_float_key) ) IS NULL )
QUALIFY field1 = 'V' COLLATE utf8mb4_icelandic_ci"
"SELECT id, b FROM t GROUP BY id WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT id, b, ROW_NUMBER() OVER w FROM t
GROUP BY id WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT id, b, ROW_NUMBER() OVER w FROM t
WINDOW w AS (ORDER BY id) QUALIFY x + SUM(x) OVER w <> 4"
"SELECT id, x, ROW_NUMBER() OVER w FROM t GROUP BY id, x
WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT id, x, ROW_NUMBER() OVER w FROM t GROUP BY id, x WITH ROLLUP
WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT id FROM t GROUP BY id, x WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT id, x, ROW_NUMBER() OVER w FROM (SELECT * FROM t) AS dt
GROUP BY id, x WITH ROLLUP WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT id, ROW_NUMBER() OVER w FROM (SELECT * FROM t) AS dt
GROUP BY id, x WITH ROLLUP WINDOW w AS (ORDER BY id) QUALIFY x <> 1"
"SELECT NTILE(1) OVER() FROM (SELECT * FROM t1) as dt QUALIFY f1 AND FALSE"
"INSTALL COMPONENT 'file://component_query_attributes'"
"query_attributes a b"
"query_attributes a b c d"
"query_attributes 'a' ""b c"""
"query_attributes '' 'a'"
"EOF
exec $MYSQL < $MYSQLTEST_VARDIR/tmp/wl12542.sql"
"query_attributes a c"
"query_attributes a"
"query_attributes 'a' 'b c'"
resetconnection
"EOF
exec $MYSQL < $MYSQLTEST_VARDIR/tmp/wl12542.sql 2>&1"
reset_connection
"UNINSTALL COMPONENT 'file://component_query_attributes'"
"SELECT MAX( c1 ) OVER ( ORDER BY c2 ROWS CURRENT ROW ) FROM t1
INTERSECT DISTINCT
SELECT ""can't"" OR 447938560 FROM t1"
"SELECT pk FROM c WHERE pk IN (SELECT 2 EXCEPT SELECT 4)"
"SELECT pk FROM c WHERE pk IN (SELECT 2 EXCEPT SELECT 4) ORDER BY pk"
"(SELECT 2 AS two UNION ALL SELECT 2)
EXCEPT ALL
SELECT 2"
"SELECT SUBSTRING(t.rep, 1, 4) AS sub, LENGTH(t.rep) AS len
FROM
( SELECT REPEAT(c1, c2) AS rep FROM view_t1
EXCEPT DISTINCT
SELECT DISTINCT RANK() OVER () FROM t1 ) AS t
ORDER BY len"
"SELECT * FROM (SELECT * FROM t INTERSECT SELECT * FROM t) AS derived ORDER BY i LIMIT 2"
"create user test@localhost"
"unlock tables "
"create user `mysqltest_u1`@`%`"
"GRANT CREATE, DROP, INSERT, CREATE TABLESPACE, ALTER ROUTINE, FILE, RELOAD ON *.* TO test@localhost"
"CREATE TRIGGER trg1 BEFORE INSERT ON t1
FOR EACH ROW BEGIN END"
"EOF

create user nonsuper@localhost"
"CREATE USER bug33669@localhost"
"CREATE TEMPORARY TABLE temp2 LIKE temp1"
"CREATE USER wl9787"
"RESET PERSIST replica_type_conversions"
"CREATE USER u1, r1"
"ALTER USER u11 DEFAULT ROLE ALL"
"GRANT r2 TO u1@localhost WITH ADMIN OPTION"
"GRANT SELECT ON db1.t1 TO r1"
"ALTER USER u1@localhost DEFAULT ROLE r1,r2"
"SHOW GRANTS FOR u1@localhost USING r1"
"SHOW GRANTS FOR u2@localhost USING r1"
"CREATE USER usr, role_usr"
"CREATE USER u5"
"ALTER USER u5 DEFAULT ROLE r2,r3"
"ALTER USER u2 DEFAULT ROLE r1, r2, r3"
"SELECT ID FROM INFORMATION_SCHEMA.PROCESSLIST WHERE INFO LIKE ""RENAME TABLE%"" INTO @thread_id"
"create user 'user_wl6797'@'localhost'"
"RESET PERSIST IF EXISTS max_connections"
"RESET PERSIST IF EXISTS replica_net_timeout"
"RESET PERSIST IF EXISTS sort_buffer_size"
"CREATE RESOURCE GROUP cafÃ© TYPE=USER VCPU=1-3 THREAD_PRIORITY=5"
"DROP RESOURCE GROUP CaFÃ©"
"EOF





connection default"
RESTART
"CREATE USER u1,u2,u3,u4"
"REVOKE ALL ON *.* FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE SELECT ON *.* FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE ALL PRIVILEGES, GRANT OPTION FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE PROXY ON u1 FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE r1 FROM unknown_user IGNORE UNKNOWN USER"
"GRANT SELECT, INSERT (i) ON wl14690.t TO u1, u2"
"GRANT CREATE ROUTINE ON wl14690.* TO u1"
"GRANT CREATE USER, EVENT, TRIGGER, CREATE TABLESPACE, CREATE ROLE, DROP ROLE ON *.* TO u2"
"GRANT EXECUTE ON FUNCTION wl14690.fun TO u1,u3"
"REVOKE INSERT (i) ON wl14690.t FROM u1, u2 IGNORE UNKNOWN USER"
"GRANT INSERT (i) ON wl14690.t TO u1, u2"
"REVOKE r1 FROM unknown_user, u2 IGNORE UNKNOWN USER"
"REVOKE SELECT, INSERT (i) ON wl14690.t FROM u1, u2, unknown_user IGNORE UNKNOWN USER"
"REVOKE TABLE_ENCRYPTION_ADMIN ON *.* FROM unknown_user, u2 IGNORE UNKNOWN USER"
"REVOKE IF EXISTS PROXY ON u3 FROM u1"
"REVOKE IF EXISTS PROXY ON u3 FROM r1"
"REVOKE IF EXISTS SELECT ON wl14690.* FROM u1"
"REVOKE IF EXISTS SELECT ON wl14690.* FROM r1"
"REVOKE IF EXISTS INSERT (i) ON wl14690.t FROM u4"
"REVOKE IF EXISTS INSERT (j) ON wl14690.t FROM u4"
"REVOKE IF EXISTS ENCRYPTION_KEY_ADMIN, APPLICATION_PASSWORD_ADMIN ON *.* FROM u4"
"REVOKE IF EXISTS role1 FROM u1"
"REVOKE IF EXISTS role1, r1 FROM u1"
"REVOKE IF EXISTS SELECT, INSERT, UPDATE ON *.* FROM u1"
"REVOKE ALL ON *.* FROM u2"
"REVOKE ALL ON *.* FROM u3"
"REVOKE IF EXISTS SELECT ON wl14690.* FROM u1, u2, u3"
"REVOKE IF EXISTS role1 FROM u1, u2"
"REVOKE IF EXISTS DELETE, SELECT ON wl14690.* FROM u1, u2, u3"
"REVOKE IF EXISTS DELETE, SELECT ON wl14690.* FROM r1"
"REVOKE IF EXISTS SYSTEM_VARIABLES_ADMIN,TABLE_ENCRYPTION_ADMIN,XA_RECOVER_ADMIN
ON *.* FROM u1,u2,u3,u4,r1"
"REVOKE IF EXISTS UPDATE, SELECT ON wl14690.* FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE IF EXISTS PROXY ON u1 FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE IF EXISTS INSERT (i) ON wl14690.t FROM u1, u2 IGNORE UNKNOWN USER"
"REVOKE IF EXISTS TABLE_ENCRYPTION_ADMIN,XA_RECOVER_ADMIN ON *.* FROM u1, u3
IGNORE UNKNOWN USER"
"REVOKE IF EXISTS DELETE, SELECT ON wl14690.* FROM u1, u2, u3
IGNORE UNKNOWN USER"
"REVOKE IF EXISTS SYSTEM_VARIABLES_ADMIN,CONNECTION_ADMIN,ENCRYPTION_KEY_ADMIN
ON *.* FROM u1, u2 IGNORE UNKNOWN USER"
"REVOKE IF EXISTS SELECT ON wl14690.t FROM u1, unknown_user IGNORE UNKNOWN USER"
"REVOKE IF EXISTS DYNAMIC_PRIV1, DYNAMIC_PRIV2 ON wl14690.* FROM u1"
"REVOKE IF EXISTS DYNAMIC_PRIV1, DYNAMIC_PRIV2 ON wl14690.* FROM unknown_user IGNORE UNKNOWN USER"
"REVOKE IF EXISTS r1 FROM u1"
"REVOKE IF EXISTS r1 FROM r2"
"REVOKE IF EXISTS r1 FROM u1,u2,u3,r2"
"LET old_log_output=          `select @@global.log_output`"
"LET old_general_log=         `select @@global.general_log`"
"LET old_general_log_file=    `select @@global.general_log_file`"
"CREATE USER test_user1 IDENTIFIED WITH caching_sha2_password BY 'azundris1'"
"GRANT SELECT(f2), INSERT(f3), INDEX, UPDATE(f1,f3, f2, f4), ALTER on
test.t1 TO test_user1"
"GRANT ALL ON PROCEDURE test.proc_rewrite_1 TO test_user1"
"GRANT EXECUTE ON FUNCTION test.func_rewrite_1 TO test_user1"
"CREATE USER test_user3@localhost IDENTIFIED WITH caching_sha2_password BY 'meow' REQUIRE SSL"
"DROP FUNCTION  func_rewrite_1"
"CREATE USER test_user2 IDENTIFIED WITH caching_sha2_password BY 'azundris2'"
"CHANGE REPLICATION SOURCE TO SOURCE_PASSWORD='azundris3'"
"CREATE USER 'test_user4'@'localhost' IDENTIFIED WITH caching_sha2_password"
"CREATE USER test_user8 IDENTIFIED BY ''"
"CREATE USER test_user9 IDENTIFIED WITH 'caching_sha2_password' BY ''"
"CREATE USER u1, u2"
"SET PASSWORD = '' REPLACE ''"
"ALTER USER u1 IDENTIFIED BY '123' REPLACE '', u2 IDENTIFIED BY '456'
PASSWORD REQUIRE CURRENT OPTIONAL"
"ALTER USER u2 IDENTIFIED BY 'xyz', u1 IDENTIFIED BY 'abc' REPLACE '123'"
"SET @sql='SELECT command_type, argument FROM mysql.general_log WHERE argument LIKE ""%Bug#16953758%""'"
"PREPARE stmt FROM @sql"
"SET @sql='DROP TABLE 18616826_does_not_exist'"
"CREATE USER 'plaintext_test' IDENTIFIED BY 'pwd'"
"ALTER USER plaintext_test IDENTIFIED BY '' REPLACE 'pwd'"
"SET PASSWORD='789' REPLACE '456'"
"CREATE USER test_user2 IDENTIFIED BY 'azundris2'"
"ALTER USER test_user2 IDENTIFIED BY 'azundris2' REPLACE 'azundris2'"
"SET PASSWORD='azundris2' REPLACE 'azundris2'"
"CHANGE REPLICATION SOURCE TO SOURCE_PASSWORD='azundris3',
SOURCE_BIND = 'eth4n',
SOURCE_TLS_CIPHERSUITES = ''
FOR CHANNEL 'chan_jackie'"
"CHANGE REPLICATION SOURCE TO SOURCE_PASSWORD='azundris3',
SOURCE_CONNECT_RETRY = 1, SOURCE_HEARTBEAT_PERIOD = 1.01,
SOURCE_LOG_FILE = 'master_log_name', SOURCE_LOG_POS = 0,
SOURCE_SSL = 0, SOURCE_SSL_CA = 'ca_file_name',
SOURCE_SSL_CAPATH = 'ca_directory_name',
SOURCE_SSL_CERT = 'cert_file_name', SOURCE_SSL_KEY = 'key_file_name',
SOURCE_SSL_CIPHER = 'cipher_list', SOURCE_SSL_VERIFY_SERVER_CERT = 1,
SOURCE_SSL_CRL = 'crl_file_name', SOURCE_SSL_CRLPATH = 'crl_directory_name',
IGNORE_SERVER_IDS = (99,100), SOURCE_TLS_VERSION = 'TLSv1.2',
SOURCE_TLS_CIPHERSUITES = NULL,
SOURCE_BIND = 'eth4n', SOURCE_RETRY_COUNT = 7,
SOURCE_DELAY = 4711, SOURCE_AUTO_POSITION = 0 FOR CHANNEL 'chan_jackie'"
"CREATE USER 'test_user4'@'localhost'"
"CREATE USER `app-middleware-db1`@`localhost` IDENTIFIED BY 'foo'"
"CREATE USER `app-middleware-db2`@`localhost` IDENTIFIED BY 'foo'"
"CREATE USER `app`@`localhost` IDENTIFIED BY 'foo'"
"GRANT `admin-db1t1` TO `admin-db1` WITH ADMIN OPTION"
"GRANT SELECT, UPDATE, CREATE, DROP, INSERT, DELETE ON db1.t1 TO `admin-db1t1`"
"GRANT SELECT, UPDATE, CREATE, DROP, INSERT, DELETE ON db2.t1 TO `admin-db2t1`"
"GRANT r1 TO `app-middleware-db1`@`localhost` WITH ADMIN OPTION"
"SHOW GRANTS FOR CURRENT_USER() USING `admin-db1`"
"GRANT `admin-db1t1` TO `app`@`localhost` WITH ADMIN OPTION"
"GRANT r1 TO u1@localhost WITH ADMIN OPTION"
"GRANT r1 TO u2@localhost WITH ADMIN OPTION"
"CREATE USER u3@localhost IDENTIFIED BY 'foo'"
"CREATE USER `u1`@`%` IDENTIFIED BY 'foo'"
"CREATE USER `u2`@`%` IDENTIFIED BY 'foo'"
"GRANT r3 TO r2 WITH ADMIN OPTION"
"GRANT r3 TO u1 WITH ADMIN OPTION"
"GRANT r3 TO u2 WITH ADMIN OPTION"
"CREATE USER b30896461_test1@localhost"
"CREATE USER b30896461_test2@localhost"
"GRANT b30896461_test1@localhost TO b30896461_test2@localhost"
"GRANT EXECUTE ON FUNCTION `B30896461`.`testFn` TO b30896461_test1@localhost"
"GRANT EXECUTE ON PROCEDURE db1.sp1 TO r1"
"GRANT EXECUTE ON PROCEDURE world.proc_empty TO r_worldrou"
"GRANT EXECUTE ON FUNCTION world.func_plusone TO r_worldrou"
"CREATE USER u_worldrou@localhost IDENTIFIED BY 'xxx' DEFAULT ROLE r_worldrou"
"SHOW GRANTS FOR u_worldrou@localhost USING r_worldrou"
"GRANT SELECT ON db1.v1 TO r1"
"CREATE USER u2@localhost IDENTIFIED BY 'oof'"
"CREATE USER user_with_role@localhost"
"CREATE USER user_without_role@localhost"
"GRANT ALL on test.t1 TO test_role"
"GRANT ALL on test.v1 TO test_role"
"GRANT ALL on test.v2 TO test_role"
"GRANT ALL on test.t2 TO user_without_role@localhost"
"GRANT ALL on test.v3 TO user_without_role@localhost"
"GRANT ALL on test.v4 TO user_without_role@localhost"
"CREATE USER user1, user2, user3@host3"
"GRANT role1, `role2`@`host2`, role3 TO user1, user2, `user3`@`host3`"
"CREATE USER joan"
"CREATE USER sally"
"GRANT `engineering`@`US` TO `engineering`@`INDIA`"
"CREATE USER `joe`@`localhost`"
"GRANT wp_administrators TO joe@localhost WITH ADMIN OPTION"
"REVOKE role1, `role2`@`host2`, role3 FROM user1, user2, `user3`@`host3`"
"ALTER USER `joe`@`localhost` DEFAULT ROLE wp_administrators"
"ALTER USER CURRENT_USER() DEFAULT ROLE NONE"
"SHOW GRANTS FOR `joe`@`localhost` USING wp_administrators"
"SHOW GRANTS FOR `joe`@`localhost` USING engineering"
"GRANT consultants TO engineering WITH ADMIN OPTION"
"GRANT UPDATE(c1,c3), INSERT(c1) ON test.t_external TO consultants"
"SHOW GRANTS FOR sally USING engineering, consultants"
"SHOW GRANTS FOR sally USING consultants"
"SHOW GRANTS FOR sally USING engineering"
"GRANT consultants TO sally WITH ADMIN OPTION"
"GRANT SELECT ON test.t_external TO `replication`"
"GRANT DELETE ON test.t_external TO delete_stuff_privilege"
"SHOW GRANTS FOR current_user() USING `replication`"
"SHOW GRANTS FOR `joe`@`localhost` USING `replication`"
"GRANT UPDATE,INSERT,DELETE ON mysql.user TO security_admin"
"GRANT UPDATE,INSERT,DELETE ON mysql.db TO security_admin"
"GRANT UPDATE,INSERT,DELETE ON mysql.proxies_priv TO security_admin WITH GRANT OPTION"
"GRANT UPDATE,INSERT,DELETE ON mysql.role_edges TO security_admin"
"CREATE USER `joe_schema_designer`@`localhost` IDENTIFIED BY 'schmoo'"
"ALTER USER `joe_schema_designer`@`localhost` DEFAULT ROLE `schema_designer`"
"SHOW GRANTS FOR 'joe_schema_designer'@'localhost' USING 'schema_designer'"
"GRANT SELECT ON db1.t1 TO backup_admin"
"GRANT UPDATE(c2) ON db1.t1 TO backup_admin"
"SHOW GRANTS FOR 'joe_schema_designer'@'localhost' USING 'db_admin'"
"GRANT EXECUTE ON PROCEDURE db1.sp1 TO `db_admin`"
"GRANT EXECUTE ON PROCEDURE db1.sp2 TO `db_admin`"
"SHOW GRANTS FOR CURRENT_USER() USING `db_admin`"
"SHOW GRANTS FOR CURRENT_USER() USING db_admin"
"SHOW GRANTS FOR u1@`%` USING r1"
"CREATE USER hoho@localhost IDENTIFIED BY 'foo'"
"ALTER USER u1@localhost DEFAULT ROLE ALL"
"ALTER USER u1@localhost DEFAULT ROLE NONE"
"GRANT CREATE ROLE, DROP ROLE ON *.* TO r1"
"CREATE USER r1"
"GRANT SELECT ON other.t1 TO r1"
"GRANT SELECT ON other.t1 TO u1@localhost"
"CREATE USER r1, r11"
"GRANT r1@Vilhelmina TO u1@localhost"
"CREATE USER 'u1'@'localhost'"
"SHOW GRANTS FOR u1@localhost USING u1234567890123456789012345678901"
"ALTER USER r2 DEFAULT ROLE r1"
"ALTER USER r2 ACCOUNT UNLOCK"
"CREATE USER baseuser IDENTIFIED WITH caching_sha2_password,
admin1 IDENTIFIED WITH caching_sha2_password,
admin2 IDENTIFIED WITH caching_sha2_password"
"GRANT SELECT ON mysql.db to r1"
"GRANT SELECT ON mysql.user to r2"
"ALTER USER baseuser default role r2"
"DISCONNECT con_base"
"DISCONNECT con_admin1"
"DISCONNECT con_admin2"
"CREATE USER u1 IDENTIFIED BY 'foo' DEFAULT ROLE a,a@localhost,`b`,`b`@local,`c c`,`aaa`, `a`@`a`"
"CREATE USER u2 DEFAULT ROLE r1 REQUIRE SSL ACCOUNT LOCK"
"ALTER USER u1 DEFAULT ROLE r1"
"ALTER USER u1@localhost DEFAULT ROLE 'r1'"
"CREATE USER u1@localhost IDENTIFIED BY 'foo' DEFAULT ROLE 'r2'"
"CREATE USER foo@localhost IDENTIFIED BY 'foo'"
"CREATE USER foo@localhost IDENTIFIED BY 'foo' DEFAULT ROLE r1"
"CREATE USER 'ok' IDENTIFIED BY 'ok'"
"CREATE USER foo@localhost"
"SHOW GRANTS FOR CURRENT_USER() USING r1"
"REVOKE SELECT ON db1.t1 FROM r1"
"GRANT SELECT(c1) ON db1.t1 TO r1"
"REVOKE SELECT(c1) ON db1.t1 FROM r1"
"GRANT SELECT ON db1.t2 TO r1 WITH GRANT OPTION"
"GRANT SELECT ON db1.t2 TO u1@localhost"
"REVOKE SELECT ON db1.t2 FROM u1@localhost"
"GRANT SELECT (c1) ON db1.t2 TO u1@localhost"
"REVOKE SELECT (c1) ON db1.t2 FROM u1@localhost"
"GRANT SELECT ON db1.t1 TO r2"
"REVOKE SELECT ON db1.t1 FROM r2"
"GRANT SELECT(c1) ON db1.t1 TO r2"
"REVOKE SELECT(c1) ON db1.t1 FROM r2"
"GRANT SELECT ON db1.t2 TO r1"
"SHOW GRANTS FOR u1@localhost USING r1,r2"
"GRANT SELECT ON `secdb1`.`t1` TO u2@localhost"
"CREATE USER 'u1'@'' IDENTIFIED BY '123'"
"CREATE USER 'r1'@'' IDENTIFIED BY '123'"
"CREATE USER 'r2'@'' IDENTIFIED BY '123'"
"GRANT 'r1'@'' TO 'u1'@''"
"GRANT 'r2'@'' TO 'u1'@''"
"REVOKE 'r1'@'' FROM 'u1'@''"
"REVOKE 'r2'@'' FROM 'u1'@''"
"CREATE USER uu@localhost, u1@localhost"
"GRANT CREATE ROLE, DROP ROLE ON *.* TO uu@localhost"
"CREATE USER my_user, foo@localhost, baz@localhost"
"REVOKE ALL ON *.* FROM my_role"
"REVOKE ALL ON *.* FROM foo@localhost"
"GRANT r2 TO r1 WITH ADMIN OPTION"
"GRANT r1 TO u1 WITH ADMIN OPTION"
"CREATE USER u2 DEFAULT ROLE r1"
"CREATE USER `TestUserFails`@`localhost` IDENTIFIED BY 'test'"
"CREATE USER `TestUserWorks`@`localhost` IDENTIFIED BY 'test'"
"GRANT UPDATE (row_is_verified) ON bug_test.test_table TO `r_verifier`@`localhost`"
"GRANT UPDATE (row_is_verified) ON bug_test.test_table TO `TestUserWorks`@`localhost`"
"GRANT `r_verifier`@`localhost` TO `TestUserFails`@`localhost`"
"CREATE USER test_user DEFAULT ROLE test_role"
"CREATE USER testuser"
"CREATE USER foo, bar"
"GRANT INSERT(id), UPDATE(id), SELECT(id) ON my_db.t1 to foo_role, bar"
"REVOKE ALL ON my_db.t1 FROM foo_role"
"REVOKE ALL ON my_db.t1 FROM bar"
"CREATE USER b35471453@localhost"
"GRANT CREATE ROLE, DROP ROLE ON *.* TO b35471453@localhost"
"REVOKE CREATE ROLE, DROP ROLE, SET_ANY_DEFINER, ALLOW_NONEXISTENT_DEFINER ON *.* FROM b35471453@localhost"
"EXPLAIN FORMAT=tree SELECT * FROM t1,t2 WHERE t1.a=t2.a AND t1.b=t2.b"
"EXPLAIN FORMAT=tree SELECT * FROM t1,t2 WHERE (t1.a,t1.b)=(t2.a,t2.b)"
"my $mysqlbinlog= $ENV{'MYSQL_BINLOG'}"
"my $port= $ENV{'MASTER_MYPORT'}"
"my $binlog_file= $ENV{'BINLOG_FILE'}"
"system(""$mysqlbinlog --stop-never --read-from-remote-server --user=root --host=127.0.0.1 --port=$port $binlog_file > /dev/null &"")"
"EOF



eval SELECT ATTR_NAME, ATTR_VALUE FROM performance_schema.session_connect_attrs
WHERE PROCESSLIST_ID = $thread_id AND
ATTR_NAME IN ('program_name', '_client_replication_channel_name', '_client_role')"
"CHANGE REPLICATION SOURCE TO SOURCE_HOST='127.0.0.1', SOURCE_LOG_FILE='binlog-ch1.000001', SOURCE_LOG_POS=4 FOR CHANNEL 'ch1'"
"CHANGE REPLICATION SOURCE TO SOURCE_HOST='127.0.0.1', SOURCE_LOG_FILE='binlog-ch2.000001', SOURCE_LOG_POS=4 FOR CHANNEL 'ch2'"
"CHANGE REPLICATION SOURCE TO SOURCE_HOST='127.0.0.1', SOURCE_LOG_FILE=""binlog-default.000001"", SOURCE_LOG_POS=4 FOR CHANNEL ''"
"CREATE USER mohit@localhost IDENTIFIED BY 'mohit' PASSWORD HISTORY 1"
"EOF
COMMIT"
"ALTER SCHEMA s1 READ ONLY DEFAULT"
"ALTER TABLE dst_t1 IMPORT TABLESPACE"
"ALTER TABLE dst_t2 IMPORT PARTITION p1sp0 TABLESPACE"
"ALTER TABLE dst_t2 IMPORT PARTITION p0 TABLESPACE"
"CREATE TABLE tÃ¦Ã¸Ã¥(i INT)"
"DROP TABLE tÃ¦Ã¸Ã¥"
"LET $MYSQL_TMP_DIR_UCASE= `SELECT upper('$MYSQL_TMP_DIR')`"
"LET $MYSQL_TMP_DIR_LCASE= `SELECT lower('$MYSQL_TMP_DIR')`"
"EXPLAIN FORMAT=tree SELECT COUNT(*) c FROM t_innodb HAVING c > 7"
"EXPLAIN FORMAT=tree SELECT COUNT(*) c FROM t_myisam HAVING c > 7"
"create procedure p1()
begin
declare counter integer default 0;
declare continue handler for sqlexception begin set counter = counter + 1;end;
repeat
if rand()>0.5 then start transaction; end if;
if rand()>0.5 then select count(*) from t1 for update; end if;
update t1 set a = 1 where a >= 0;
set counter = counter + 1;
until counter >= 50 end repeat;
end "
"EXPLAIN FORMAT=tree select SQL_CALC_FOUND_ROWS * from t1 limit 10 offset 100"
"INSTALL COMPONENT 'file://component_test_sensitive_system_variables'"
"CREATE USER wl13469_no_privilege"
"CREATE USER wl13469_with_privilege"
"UNINSTALL COMPONENT ""file://component_test_sensitive_system_variables"""
"UNINSTALL COMPONENT 'file://component_test_sensitive_system_variables'"
"SELECT f1 FROM t1 LIMIT 1 INTO @dummy"
"START TRANSACTION READ ONLY,  WITH CONSISTENT SNAPSHOT"
"SET TRANSACTION   READ ONLY, ISOLATION LEVEL SERIALIZABLE"
"SELECT 1 FROM DUAL INTO @x"
"SELECT 1 FROM DUAL INTO @dummy"
"CREATE TABLE t1 (i int, KEY USING HASH (i)) ENGINE=MEMORY"
"CREATE TABLE t1 (i int, KEY USING BTREE (i)) ENGINE=MEMORY"
"CREATE TABLE t1 (i int, KEY USING BTREE (i)) ENGINE=MyISAM"
"SHOW PARSE_TREE SELECT t3.col3, t1.col1 / t2. col2 FROM tab t1
JOIN tab t2 ON t1.col1=t2.col2 JOIN tab t3 ON t1.col1 <= t3.col3"
"SHOW PARSE_TREE SELECT a, b, func(c), SUM(c) OVER (PARTITION BY a,b ) FROM Y"
"SHOW PARSE_TREE SELECT a, b, c, SUM(c) OVER
(PARTITION BY a,b
OrDER              BY a,b RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)
FROM Y"
"SHOW PARSE_TREE SELECT id, FIRST_VALUE(id) OVER w FROM t_date
WINDOW w AS (ORDER BY id RANGE BETWEEN INTERVAL col1 DAY PRECEDING AND INTERVAL 1 DAY PRECEDING)"
"SHOW PARSE_TREE select (select 1) from t ORDER BY 1 DESC, 2"
"SHOW PARSE_TREE SELECT 1 < 2, col1 NOT between 1 and 2, 1 IN (1, 2), 1 IN (1), 1 NOT IN (1)"
"SHOW PARSE_TREE SELECT avg(distinct col1) from tab GROUP BY col2, col3"
"SHOW PARSE_TREE SELECT not 1 or 2 is true or 0 is not false alias_name"
"SHOW PARSE_TREE select 1 and 2 or 3 and 4, {u '2022/22/2' }, 1 < all (select 1)"
"SHOW PARSE_TREE SELECT 1 - INTERVAL 2 HOUR_MINUTE, curtime(4), utc_time(2)"
"SHOW PARSE_TREE SELECT * FROM t1 WHERE
MATCH(a,b) AGAINST (""collections"" IN BOOLEAN MODE ) OR
MATCH(a,b) AGAINST (""indexes"" IN NATURAL LANGUAGE MODE WITH QUERY EXPANSION)"
"SHOW PARSE_TREE SELECT cast('30' as time(2)), cast(30 as decimal(6, 3)),
cast(30 as decimal), cast(30 as float), cast('30' as char(40) charset utf8mb3),
cast(30 as decimal array)"
"SHOW PARSE_TREE SELECT CASE a WHEN b THEN c WHEN d THEN e ELSE f END,
CASE a WHEN b THEN c END,
CASE WHEN a THEN b ELSE c END"
"SHOW PARSE_TREE SELECT
CASE a
WHEN
CASE WHEN a1 THEN b2 END
THEN c
ELSE f END"
"SHOW PARSE_TREE SELECT 1 union (select 2 intersect ALL select 3 limit 2 offset 10) limit 1, 5"
"SHOW PARSE_TREE select SQL_SMALL_RESULT STRAIGHT_JOIN SQL_BUFFER_RESULT 1 and 2 and 3"
"SHOW PARSE_TREE WITH der(col1, col2) AS (SELECT 1, 2), der1 AS (SELECT 2) SELECT * FROM der"
"SHOW PARSE_TREE SELECT * FROM t STRAIGHT_JOIN t2 USING (col1, col2)"
"SHOW PARSE_TREE SELECT * FROM t RIGHT OUTER JOIN t3 on col1/col2"
"SHOW PARSE_TREE SELECT * FROM LATERAL (SELECT * FROM mydb.bar bar_alias) AS t(i, j)"
"SHOW PARSE_TREE SELECT * FROM t JOIN t2 JOIN t3 JOIN t4"
"SHOW PARSE_TREE SELECT * FROM t JOIN t2 JOIN (t3 JOIN t4)"
"SHOW PARSE_TREE SELECT * FROM t JOIN t2 NATURAL JOIN t3 LEFT JOIN t4 USING (col1, col2)"
"SHOW PARSE_TREE SELECT * FROM t JOIN t2 NATURAL JOIN (t3 LEFT JOIN t4 USING (col1, col2))"
"SHOW PARSE_TREE SELECT * FROM t JOIN t2 JOIN t3 USING (col1, col2) JOIN (SELECT * FROM tab) AS t4"
"SHOW PARSE_TREE SELECT db.func(), char(col1), char(col1 USING utf8mb4), concat(a,b), concat(a,b) COLLATE utf8mb4_turkish_ci"
"SHOW FUNCTION STATUS WHERE 0"
"drop function if exists test_signal_func"
"create procedure test_resignal_syntax()
begin
RESIGNAL;
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo;
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SQLSTATE '23000';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SQLSTATE VALUE '23000';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET CLASS_ORIGIN = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET CLASS_ORIGIN = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET SUBCLASS_ORIGIN = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET SUBCLASS_ORIGIN = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET CONSTRAINT_CATALOG = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET CONSTRAINT_CATALOG = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET CONSTRAINT_SCHEMA = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET CONSTRAINT_SCHEMA = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET CONSTRAINT_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET CONSTRAINT_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET CATALOG_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET CATALOG_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET SCHEMA_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET SCHEMA_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET TABLE_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET TABLE_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET COLUMN_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET COLUMN_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET CURSOR_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET CURSOR_NAME = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET MESSAGE_TEXT = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET MESSAGE_TEXT = 'foo';
end "
"create procedure test_resignal_syntax()
begin
RESIGNAL SET MYSQL_ERRNO = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET MYSQL_ERRNO = 'foo';
end "
"create procedure test_resignal_syntax()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';
RESIGNAL foo SET
CLASS_ORIGIN = 'foo',
SUBCLASS_ORIGIN = 'foo',
CONSTRAINT_CATALOG = 'foo',
CONSTRAINT_SCHEMA = 'foo',
CONSTRAINT_NAME = 'foo',
CATALOG_NAME = 'foo',
SCHEMA_NAME = 'foo',
TABLE_NAME = 'foo',
COLUMN_NAME = 'foo',
CURSOR_NAME = 'foo',
MESSAGE_TEXT = 'foo';
end "
"drop function test_signal_func "
"create trigger t1_ai after insert on t1 for each row
begin
DECLARE msg VARCHAR(128);
DECLARE warn CONDITION FOR SQLSTATE ""01XXX"";

set msg= concat(""This trigger SIGNAL a warning, a="", NEW.a);
SIGNAL warn SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 1012;
end "
"create trigger t1_ai after insert on t1 for each row
begin
DECLARE msg VARCHAR(128);
DECLARE not_found CONDITION FOR SQLSTATE ""02XXX"";

set msg= concat(""This trigger SIGNAL a not found, a="", NEW.a);
SIGNAL not_found SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 1012;
end "
"create trigger t1_ai after insert on t1 for each row
begin
DECLARE msg VARCHAR(128);
DECLARE error CONDITION FOR SQLSTATE ""03XXX"";

set msg= concat(""This trigger SIGNAL an error, a="", NEW.a);
SIGNAL error SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 1012;
end "
"create trigger t1_ai after insert on t1 for each row
begin
DECLARE warn CONDITION FOR SQLSTATE ""01XXX"";

SIGNAL warn SET
MESSAGE_TEXT = NEW.msg,
MYSQL_ERRNO = NEW.errno;
end "
"drop function if exists f1 "
"drop function f1 "
"create procedure test_resignal()
begin
DECLARE warn CONDITION FOR SQLSTATE ""01234"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""handler called"";
RESIGNAL;
end;

SIGNAL warn SET
MESSAGE_TEXT = ""Raising a warning"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE not_found CONDITION FOR SQLSTATE ""02222"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL;
select ""after RESIGNAL"";
end;

SIGNAL not_found SET
MESSAGE_TEXT = ""Raising a not found"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE error CONDITION FOR SQLSTATE ""55555"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL;
select ""after RESIGNAL"";
end;

SIGNAL error SET
MESSAGE_TEXT = ""Raising an error"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlexception
begin
select ""before RESIGNAL"";
RESIGNAL;
select ""after RESIGNAL"";
end;

drop table no_such_table;
end "
"create procedure test_resignal()
begin
DECLARE warn CONDITION FOR SQLSTATE ""01234"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""handler called"";
RESIGNAL SET
MESSAGE_TEXT = ""RESIGNAL of a warning"",
MYSQL_ERRNO = 55555 ;
end;

SIGNAL warn SET
MESSAGE_TEXT = ""Raising a warning"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE not_found CONDITION FOR SQLSTATE ""02111"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SET
MESSAGE_TEXT = ""RESIGNAL of a not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL not_found SET
MESSAGE_TEXT = ""Raising a not found"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE error CONDITION FOR SQLSTATE ""33333"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SET
MESSAGE_TEXT = ""RESIGNAL of an error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL error SET
MESSAGE_TEXT = ""Raising an error"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlexception
begin
select ""before RESIGNAL"";
RESIGNAL SET
MESSAGE_TEXT = ""RESIGNAL of an error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

drop table no_such_table;
end "
"create procedure test_resignal()
begin
DECLARE warn CONDITION FOR SQLSTATE ""01111"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""handler called"";
RESIGNAL SQLSTATE ""01222"" SET
MESSAGE_TEXT = ""RESIGNAL to warning"",
MYSQL_ERRNO = 55555 ;
end;

SIGNAL warn SET
MESSAGE_TEXT = ""Raising a warning"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE warn CONDITION FOR SQLSTATE ""01111"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""02222"" SET
MESSAGE_TEXT = ""RESIGNAL to not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL warn SET
MESSAGE_TEXT = ""Raising a warning"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE warn CONDITION FOR SQLSTATE ""01111"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""33333"" SET
MESSAGE_TEXT = ""RESIGNAL to error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL warn SET
MESSAGE_TEXT = ""Raising a warning"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE not_found CONDITION FOR SQLSTATE ""02ABC"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""handler called"";
RESIGNAL SQLSTATE ""01222"" SET
MESSAGE_TEXT = ""RESIGNAL to warning"",
MYSQL_ERRNO = 55555 ;
end;

SIGNAL not_found SET
MESSAGE_TEXT = ""Raising a not found"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE not_found CONDITION FOR SQLSTATE ""02ABC"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""02222"" SET
MESSAGE_TEXT = ""RESIGNAL to not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL not_found SET
MESSAGE_TEXT = ""Raising a not found"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE not_found CONDITION FOR SQLSTATE ""02ABC"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""33333"" SET
MESSAGE_TEXT = ""RESIGNAL to error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL not_found SET
MESSAGE_TEXT = ""Raising a not found"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE error CONDITION FOR SQLSTATE ""AAAAA"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""handler called"";
RESIGNAL SQLSTATE ""01222"" SET
MESSAGE_TEXT = ""RESIGNAL to warning"",
MYSQL_ERRNO = 55555 ;
end;

SIGNAL error SET
MESSAGE_TEXT = ""Raising an error"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE error CONDITION FOR SQLSTATE ""AAAAA"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""02222"" SET
MESSAGE_TEXT = ""RESIGNAL to not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL error SET
MESSAGE_TEXT = ""Raising an error"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE error CONDITION FOR SQLSTATE ""AAAAA"";
DECLARE CONTINUE HANDLER for 1012
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""33333"" SET
MESSAGE_TEXT = ""RESIGNAL to error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

SIGNAL error SET
MESSAGE_TEXT = ""Raising an error"",
MYSQL_ERRNO = 1012;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlwarning
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""02444"" SET
MESSAGE_TEXT = ""RESIGNAL to a not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

insert into t_warn set a= 9999999999999999;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlwarning
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""44444"" SET
MESSAGE_TEXT = ""RESIGNAL to an error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

insert into t_warn set a= 9999999999999999;
end "
"create procedure test_resignal()
begin
DECLARE x integer;
DECLARE c cursor for select * from t_cursor;
DECLARE CONTINUE HANDLER for not found
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""02444"" SET
MESSAGE_TEXT = ""RESIGNAL to a not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

open c;
fetch c into x;
close c;
end "
"create procedure test_resignal()
begin
DECLARE x integer;
DECLARE c cursor for select * from t_cursor;
DECLARE CONTINUE HANDLER for not found
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""44444"" SET
MESSAGE_TEXT = ""RESIGNAL to an error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

open c;
fetch c into x;
close c;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlexception
begin
select ""handler called"";
RESIGNAL SQLSTATE ""01111"" SET
MESSAGE_TEXT = ""RESIGNAL to a warning"",
MYSQL_ERRNO = 55555 ;
end;

drop table no_such_table;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlexception
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""02444"" SET
MESSAGE_TEXT = ""RESIGNAL to a not found"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

drop table no_such_table;
end "
"create procedure test_resignal()
begin
DECLARE CONTINUE HANDLER for sqlexception
begin
select ""before RESIGNAL"";
RESIGNAL SQLSTATE ""44444"" SET
MESSAGE_TEXT = ""RESIGNAL to an error"",
MYSQL_ERRNO = 55555 ;
select ""after RESIGNAL"";
end;

drop table no_such_table;
end "
"CREATE PROCEDURE peter_p1 ()
BEGIN
DECLARE x CONDITION FOR 1231;
DECLARE EXIT HANDLER FOR x
BEGIN
SELECT '2';
RESIGNAL SET MYSQL_ERRNO = 9999;
END;

BEGIN
DECLARE EXIT HANDLER FOR x
BEGIN
SELECT '1';
RESIGNAL SET SCHEMA_NAME = 'test';
END;
SET @@sql_mode=NULL;
END;
END
"
"CREATE PROCEDURE peter_p2 ()
BEGIN
DECLARE x CONDITION for 9999;
DECLARE EXIT HANDLER FOR x
BEGIN
SELECT '3';
RESIGNAL SET MESSAGE_TEXT = 'Hi, I am a useless error message';
END;
CALL peter_p1();
END
"
"CREATE PROCEDURE peter_p1 ()
BEGIN
DECLARE x CONDITION FOR SQLSTATE '42000';
DECLARE EXIT HANDLER FOR x
BEGIN
SHOW WARNINGS;
RESIGNAL x SET MYSQL_ERRNO = 9999;
END;

BEGIN
DECLARE EXIT HANDLER FOR x
BEGIN
SHOW WARNINGS;
RESIGNAL x SET
SCHEMA_NAME = 'test',
MYSQL_ERRNO= 1232;
END;
/* Raises ER_WRONG_VALUE_FOR_VAR : 1231, SQLSTATE 42000 */
SET @@sql_mode=NULL;
END;
END
"
"CREATE PROCEDURE peter_p2 ()
BEGIN
DECLARE x CONDITION for SQLSTATE '42000';
DECLARE EXIT HANDLER FOR x
BEGIN
SHOW WARNINGS;
RESIGNAL x SET
MESSAGE_TEXT = 'Hi, I am a useless error message',
MYSQL_ERRNO = 9999;
END;
CALL peter_p1();
END
"
"create procedure peter_p3()
begin
declare continue handler for sqlexception
resignal sqlstate '99002' set mysql_errno = 2;

signal sqlstate '99001' set mysql_errno = 1, message_text = ""Original"";
end "
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
BEGIN
RESIGNAL;
RESIGNAL;
END;

SELECT 10 + 'a';
END "
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
BEGIN
RESIGNAL SET MESSAGE_TEXT= '1st resignal';
RESIGNAL SET MESSAGE_TEXT= '2nd resignal';
END;

SELECT 10 + 'a';
END "
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
BEGIN
RESIGNAL SQLSTATE '01000' SET MESSAGE_TEXT= '1st resignal';
RESIGNAL SQLSTATE '01000' SET MESSAGE_TEXT= '2nd resignal';
END;

SELECT 10 + 'a';
END "
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
BEGIN
RESIGNAL SQLSTATE '01000' SET MESSAGE_TEXT= '1st resignal';
RESIGNAL SQLSTATE 'HY000' SET MESSAGE_TEXT= '2nd resignal';
END;

SELECT 10 + 'a';
END "
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING RESIGNAL SET MESSAGE_TEXT = asdf;
SELECT 10 + 'a';
END "
"CREATE PROCEDURE p2()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING RESIGNAL SET MESSAGE_TEXT = asdf;
SELECT 10 + 'a';
END;
END "
"CREATE PROCEDURE p3()
BEGIN
DECLARE EXIT HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING RESIGNAL SET MESSAGE_TEXT = asdf;
SELECT 10 + 'a';
END;
END "
"CREATE PROCEDURE p4()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = asdf;
SELECT 10 + 'a';
END "
"CREATE PROCEDURE p5()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = asdf;
SELECT 10 + 'a';
END;
END "
"CREATE PROCEDURE p6()
BEGIN
DECLARE EXIT HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = asdf;
SELECT 10 + 'a';
END;
END "
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION RESIGNAL SET MESSAGE_TEXT = asdf;
DROP TABLE none;
END "
"CREATE PROCEDURE p2()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION RESIGNAL SET MESSAGE_TEXT = asdf;
DROP TABLE none;
END;
END "
"CREATE PROCEDURE p3()
BEGIN
DECLARE EXIT HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION RESIGNAL SET MESSAGE_TEXT = asdf;
DROP TABLE none;
END;
END "
"CREATE PROCEDURE p4()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = asdf;
DROP TABLE none;
END "
"CREATE PROCEDURE p5()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = asdf;
DROP TABLE none;
END;
END "
"CREATE PROCEDURE p6()
BEGIN
DECLARE EXIT HANDLER FOR SQLEXCEPTION SELECT 'handled' as Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT = asdf;
DROP TABLE none;
END;
END "
"CREATE PROCEDURE p1()
BEGIN
DECLARE EXIT HANDLER FOR SQLEXCEPTION RESIGNAL;
SELECT f1();
END"
"CREATE PROCEDURE p1()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION RESIGNAL;
SIGNAL SQLSTATE 'HY000';
END"
"CREATE PROCEDURE p2()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING RESIGNAL;
SIGNAL SQLSTATE '01000';
END"
"CREATE PROCEDURE p3()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SET MESSAGE_TEXT= 'custom error msg';
SIGNAL SQLSTATE 'HY000';
END"
"CREATE PROCEDURE p4()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SET MESSAGE_TEXT= 'custom warning msg';
SIGNAL SQLSTATE '01000';
END"
"CREATE PROCEDURE p5()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT= 'custom error msg';
SIGNAL SQLSTATE 'HY000';
END"
"CREATE PROCEDURE p6()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT= 'custom warning msg';
SIGNAL SQLSTATE '01000';
END"
"CREATE PROCEDURE p7()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' AS Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION RESIGNAL;
SIGNAL SQLSTATE 'HY000';
END;
END"
"CREATE PROCEDURE p8()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING SELECT 'handled' AS Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING RESIGNAL;
SIGNAL SQLSTATE '01000';
END;
END"
"CREATE PROCEDURE p9()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' AS Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SET MESSAGE_TEXT= 'custom error msg';
SIGNAL SQLSTATE 'HY000';
END;
END"
"CREATE PROCEDURE p10()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING SELECT 'handled' AS Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SET MESSAGE_TEXT= 'custom warning msg';
SIGNAL SQLSTATE '01000';
END;
END"
"CREATE PROCEDURE p11()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' AS Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT= 'custom error msg';
SIGNAL SQLSTATE 'HY000';
END;
END"
"CREATE PROCEDURE p12()
BEGIN
DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SELECT 'handled' AS Msg;
BEGIN
DECLARE CONTINUE HANDLER FOR SQLWARNING
RESIGNAL SQLSTATE '45000' SET MESSAGE_TEXT= 'custom warning msg';
SIGNAL SQLSTATE '01000';
END;
END"
"drop function if exists signal_func"
"create procedure signal_proc()
begin
DECLARE foo CONDITION FOR SQLSTATE '12345';

SIGNAL foo;
SIGNAL foo SET MESSAGE_TEXT = ""This is an error message"";
RESIGNAL foo;
RESIGNAL foo SET MESSAGE_TEXT = ""This is an error message"";
end "
"show function code signal_func"
"drop function signal_func"
"create procedure check_pk_person(in person_type char, in id integer)
begin
declare x integer;
declare msg varchar(128);

/*
Test integrity constraints for an 'arc' relationship.
Based on 'person_type', 'id' points to either a
physical person, or a moral person.
*/
case person_type
when 'P' then
begin
select count(person_id) from ab_physical_person
where ab_physical_person.person_id = id
into x;

if (x != 1)
then
set msg= concat('No such physical person, PK:', id);
SIGNAL SQLSTATE '45000' SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 10000;
end if;
end;

when 'M' then
begin
select count(company_id) from ab_moral_person
where ab_moral_person.company_id = id
into x;

if (x != 1)
then
set msg= concat('No such moral person, PK:', id);
SIGNAL SQLSTATE '45000' SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 10000;
end if;
end;

else
begin
set msg= concat('No such person type:', person_type);
SIGNAL SQLSTATE '45000' SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 50000;
end;
end case;
end
"
"create procedure check_pk_inventory(in id integer)
begin
declare x integer;
declare msg varchar(128);

select count(item_id) from in_inventory
where in_inventory.item_id = id
into x;

if (x != 1)
then
set msg= concat('Failed integrity constraint, table in_inventory, PK:',
id);
SIGNAL SQLSTATE '45000' SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 10000;
end if;
end
"
"create procedure check_pk_order(in id integer)
begin
declare x integer;
declare msg varchar(128);

select count(po_id) from po_order
where po_order.po_id = id
into x;

if (x != 1)
then
set msg= concat('Failed integrity constraint, table po_order, PK:', id);
SIGNAL SQLSTATE '45000' SET
MESSAGE_TEXT = msg,
MYSQL_ERRNO = 10000;
end if;
end
"
"create trigger po_order_bi before insert on po_order
for each row
begin
call check_pk_person(NEW.cust_type, NEW.cust_id);
end
"
"create trigger po_order_bu before update on po_order
for each row
begin
call check_pk_person(NEW.cust_type, NEW.cust_id);
end
"
"create trigger po_order_line_bi before insert on po_order_line
for each row
begin
call check_pk_order(NEW.po_id);
call check_pk_inventory(NEW.item_id);
end
"
"create trigger po_order_line_bu before update on po_order_line
for each row
begin
call check_pk_order(NEW.po_id);
call check_pk_inventory(NEW.item_id);
end
"
"/* John Doe wants 1 table and 4 chairs */
call po_create_order(""P"", 1, @my_po)"
"/* Marry Smith wants a coffee table */
call po_create_order(""P"", 2, @my_po)"
"/* The local school wants 10 class tables and 20 chairs */
call po_create_order(""M"", 4, @my_po)"
"create procedure proc_middle_b(p1 integer)
begin
DECLARE l integer;
DECLARE EXIT HANDLER for SQLEXCEPTION, NOT FOUND
begin
begin
DECLARE CONTINUE HANDLER for SQLEXCEPTION, NOT FOUND
begin
/* Ignore errors from the cleanup code */
end;

select ""Doing cleanup !"";
select RELEASE_LOCK(""user_mutex"") into l;
drop temporary table t1;
end;

RESIGNAL;
end;

select ""In prod_middle()"";

create temporary table t1(a integer, b integer);
select GET_LOCK(""user_mutex"", 10) into l;

insert into t1 set a = p1, b = p1;

call proc_bottom_b(p1);

select RELEASE_LOCK(""user_mutex"") into l;
drop temporary table t1;
end
"
"create procedure proc_1()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_1';

call proc_2();
end
"
"create procedure proc_2()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_2';

call proc_3();
end
"
"create procedure proc_3()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_3';

call proc_4();
end
"
"create procedure proc_4()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_4';

call proc_5();
end
"
"create procedure proc_5()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_5';

call proc_6();
end
"
"create procedure proc_6()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_6';

call proc_7();
end
"
"create procedure proc_7()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_7';

call proc_8();
end
"
"create procedure proc_8()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_8';

call proc_9();
end
"
"create procedure proc_9()
begin
declare exit handler for sqlexception
resignal sqlstate '45000' set message_text='Oops in proc_9';

## Do something that fails, to see how errors are reported
drop table oops_it_is_not_here;
end
"
"my $filename = $ENV{""MYSQLD_PIDFILE""} or die(""pidfile not set"")"
"my $pid"
"my $wait_cnt=60"
"open(FILE, ""$filename"") or die ""cannot open file $filename"""
"rename $ENV{""MYSQLD_LOG""}, $ENV{""MYSQLD_LOG""}."".1"""
"kill 'USR1', $pid or die ""could not kill $pid: $!"""
$wait_cnt--
"rename $ENV{""MYSQLD_LOG_SLOW""}, $ENV{""MYSQLD_LOG_SLOW""}."".1"""
"EOF

let MYSQLD_PIDFILE= `SELECT @@pid_file;`"
"EOF


SET @@global.slow_query_log=0"
"rename $ENV{""MYSQLD_LOG_GENERAL""}, $ENV{""MYSQLD_LOG_GENERAL""}."".1"""
"EOF

SET @@global.general_log=0"
"DROP FUNCTION IF EXISTS f3"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET @a = 1"
"CREATE DEFINER=a@b TRIGGER ti_ai AFTER INSERT ON t1
FOR EACH ROW
SET @b = 1"
"CREATE DEFINER=a@'' TRIGGER ti_bu BEFORE UPDATE ON t1
FOR EACH ROW
SET @c = 1"
"SHOW CREATE FUNCTION f3"
"CREATE USER mysqltest_1@'127.0.0.1/255.255.255.255'"
"REVOKE ALL ON test.* FROM mysqltest_1@'127.0.0.1/255.255.255.255'"
"CREATE USER b20438524@'%' IDENTIFIED BY 'pwd'"
"SELECT SUM(table1.pk )AS field1 , COUNT(table2.col_varchar_key ) AS field2
FROM (t1 AS table1 JOIN (t2 AS table2))
WHERE (table2.col_varchar_key <> SOME (SELECT SUBQUERY2_t1. col_varchar_key AS SUBQUERY2_field1
FROM t1 AS SUBQUERY2_t1
WHERE (SUBQUERY2_t1.pk < 4
AND SUBQUERY2_t1. pk IN (SELECT 2 EXCEPT SELECT 9))))"
"my $file= $ENV{'SLOW_LOG'} or die(""slow log not set"")"
"$result++ if ($line =~ /SET timestamp=10"
/)
"EOF

SET @@global.slow_query_log_file= @old_slow_query_log_file"
"CREATE USER 'duplicate_user'@'%' IDENTIFIED BY 'mypassword'"
"my $obfs = 0"
"my $nono = 0"
"my $protdiv= $ENV{'IS_PS'}+1"
"$obfs++ if(($line =~ /CREATE USER /)&& ($line =~ / IDENTIFIED BY <secret>/))"
"$nono++ if(($line =~ /CREATE USER /)&&!($line =~ / IDENTIFIED BY <secret>/))"
"print ""slow file non-obfuscated statements>"".($nono/$protdiv).""\n"""
"EOF

TRUNCATE mysql.slow_log"
"open FILE, ""$ENV{'BIG_LOG'}"" or die"
"foreach $line (@lines) {
if ($line =~ m/^# Query_time/) {
$line =~ m/(Rows_sent.*) Thread_id.* (Errno.*) Start.*/"
"print ""$1 $2\n"""
"my $file= $ENV{'SLOW_LOG1'} or die(""slow log not set"")"
"$result++ if ($line =~ /Start: 1970-01-01T00:00:10.000000Z /)"
"open FILE, ""$ENV{'SLOW_LOG2'}"" or die"
"foreach $line (@lines) {
if ($line =~ m/^# Query_time/) {
$line =~ s/Thread_id: \d* Errno:/Thread_id: 0 Errno:/"
"$line =~ m/(Rows_sent.*) Start.*/"
"print ""$1\n"""
"open FILE, ""$ENV{'SLOW_LOG3'}"" or die ""Could not open tmp slow log file: $!"""
"EOF

SET @@global.slow_query_log_file=@save_sqlf"
"CREATE TRIGGER tr1 BEFORE INSERT ON t1 FOR EACH ROW SET @aux = 1"
"DROP FUNCTION db1.f1"
"DROP FUNCTION sf"
"SHOW FUNCTION STATUS LIKE  'testf_bug11763507'"
"SHOW FUNCTION STATUS WHERE NAME='testf_bug11763507'"
"SHOW FUNCTION STATUS LIKE  'TESTF_bug11763507'"
"SHOW FUNCTION STATUS WHERE NAME='TESTF_bug11763507'"
"SHOW CREATE FUNCTION testf_bug11763507"
"SHOW CREATE FUNCTION TESTF_bug11763507"
"DROP FUNCTION testf_bug11763507"
"CREATE TRIGGER tr1 BEFORE INSERT ON t1 FOR EACH ROW SET @a=fn2()"
"CREATE TRIGGER tr1 BEFORE INSERT ON t1 FOR EACH ROW SET @a=fn1()"
"DROP FUNCTION crc"
"CREATE TRIGGER tr1 AFTER INSERT ON t1 FOR EACH ROW
BEGIN
CALL proc(NEW.a,NEW.b);
END "
"DROP PROCEDURE CaFÃ©"
"SHOW CREATE PROCEDURE Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"DROP PROCEDURE Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"SHOW CREATE FUNCTION CaFÃ©"
"DROP FUNCTION CaFÃ©"
"SHOW CREATE FUNCTION Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"DROP FUNCTION Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"DROP FUNCTION myfunc"
"show function code almost_empty"
"drop function almost_empty"
"create procedure code_sample(x int, out err int, out nulls int)
begin
declare count int default 0;

set nulls = 0;
begin
declare c cursor for select name from t1;
declare exit handler for not found close c;

open c;
loop
begin
declare n varchar(20);
declare continue handler for sqlexception set err=1;

fetch c into n;
if isnull(n) then
set nulls = nulls + 1;
else
set count = count + 1;
update t2 set idx = count where name=n;
end if;
end;
end loop;
end;
select t.name, t.idx from t2 t order by idx asc;
end"
"create procedure sudoku_solve(p_naive boolean, p_all boolean)
deterministic
modifies sql data
begin
drop temporary table if exists sudoku_work, sudoku_schedule;

create temporary table sudoku_work
(
`row` smallint not null,
col smallint not null,
dig smallint not null,
cnt smallint,
key using btree (cnt),
key using btree (`row`),
key using btree (col),
unique key using hash (`row`,col)
);

create temporary table sudoku_schedule
(
idx int not null auto_increment primary key,
`row` smallint not null,
col smallint not null
);

call sudoku_init();

if p_naive then
update sudoku_work set cnt = 0 where dig = 0;
else
call sudoku_count();
end if;
insert into sudoku_schedule (`row`,col)
select `row`,col from sudoku_work where cnt is not null order by cnt desc;

begin
declare v_scounter bigint default 0;
declare v_i smallint default 1;
declare v_dig smallint;
declare v_schedmax smallint;

select count(*) into v_schedmax from sudoku_schedule;

more:
loop
begin
declare v_tcounter bigint default 0;

sched:
while v_i <= v_schedmax do
begin
declare v_row, v_col smallint;

select `row`,col into v_row,v_col from sudoku_schedule where v_i = idx;

select dig into v_dig from sudoku_work
where v_row = `row` and v_col = col;

case v_dig
when 0 then
set v_dig = 1;
update sudoku_work set dig = 1
where v_row = `row` and v_col = col;
when 9 then
if v_i > 0 then
update sudoku_work set dig = 0
where v_row = `row` and v_col = col;
set v_i = v_i - 1;
iterate sched;
else
select v_scounter as 'Solutions';
leave more;
end if;
else
set v_dig = v_dig + 1;
update sudoku_work set dig = v_dig
where v_row = `row` and v_col = col;
end case;

set v_tcounter = v_tcounter + 1;
if not sudoku_digit_ok(v_row, v_col, v_dig) then
iterate sched;
end if;
set v_i = v_i + 1;
end;
end while sched;

select dig from sudoku_work;
select v_tcounter as 'Tests';
set v_scounter = v_scounter + 1;

if p_all and v_i > 0 then
set v_i = v_i - 1;
else
leave more;
end if;
end;
end loop more;
end;

drop temporary table sudoku_work, sudoku_schedule;
end"
"create procedure proc_33618_h(num int)
begin
declare count1 int default '0';
declare vb varchar(30);
declare last_row int;

while(num>=1) do
set num=num-1;
begin
declare cur1 cursor for select `a` from t_33618;
declare continue handler for not found set last_row = 1;
set last_row:=0;
open cur1;
rep1:
repeat
begin
declare exit handler for 1062 begin end;
fetch cur1 into vb;
if (last_row = 1) then
## should generate a hpop instruction here
leave rep1;
end if;
end;
until last_row=1
end repeat;
close cur1;
end;
end while;
end"
"create procedure proc_33618_c(num int)
begin
declare count1 int default '0';
declare vb varchar(30);
declare last_row int;

while(num>=1) do
set num=num-1;
begin
declare cur1 cursor for select `a` from t_33618;
declare continue handler for not found set last_row = 1;
set last_row:=0;
open cur1;
rep1:
repeat
begin
declare cur2 cursor for select `b` from t_33618;
fetch cur1 into vb;
if (last_row = 1) then
## should generate a cpop instruction here
leave rep1;
end if;
end;
until last_row=1
end repeat;
close cur1;
end;
end while;
end"
"SHOW FUNCTION CODE testf_bug11763507"
"SHOW FUNCTION CODE TESTF_bug11763507"
"CREATE PROCEDURE p1()
BEGIN

# DEFAULT-expression

DECLARE x1 INT DEFAULT (SELECT 1 + 2);
DECLARE x2 INT DEFAULT (SELECT * FROM (SELECT 1 + 2) t1);
DECLARE x3 INT DEFAULT (SELECT * FROM t1);
DECLARE x4 INT DEFAULT (SELECT * FROM t2);
DECLARE x5 INT DEFAULT (SELECT * FROM t3);
DECLARE x6 INT DEFAULT (SELECT f());

# CURSOR-query.

DECLARE c1 CURSOR FOR SELECT (1 + 2) FROM dual;
DECLARE c2 CURSOR FOR SELECT * FROM (SELECT 1 + 2) t1;
DECLARE c3 CURSOR FOR SELECT * FROM t1;
DECLARE c4 CURSOR FOR SELECT * FROM t2;
DECLARE c5 CURSOR FOR SELECT * FROM t3;
DECLARE c6 CURSOR FOR SELECT f();

# IF-expression.

IF (SELECT 1 + 2) THEN
SET @dummy = 1;
END IF;

IF (SELECT * FROM (SELECT 1 + 2) t1) THEN
SET @dummy = 1;
END IF;

IF (SELECT * FROM t1) THEN
SET @dummy = 1;
END IF;

IF (SELECT * FROM t2) THEN
SET @dummy = 1;
END IF;

IF (SELECT * FROM t3) THEN
SET @dummy = 1;
END IF;

IF (SELECT f()) THEN
SET @dummy = 1;
END IF;

# SET-expression.

SET x1 = (SELECT 1 + 2);
SET x1 = (SELECT * FROM (SELECT 1 + 2) t1);
SET x1 = (SELECT * FROM t1);
SET x1 = (SELECT * FROM t2);
SET x1 = (SELECT * FROM t3);
SET x1 = (SELECT f());

# CASE-expressions.

CASE
WHEN (SELECT 1 + 2) = 1                     THEN SET @dummy = 1;
WHEN (SELECT * FROM (SELECT 1 + 2) t1) = 2  THEN SET @dummy = 1;
WHEN (SELECT * FROM t1) = 3                 THEN SET @dummy = 1;
WHEN (SELECT * FROM t2) = 3                 THEN SET @dummy = 1;
WHEN (SELECT * FROM t3) = 3                 THEN SET @dummy = 1;
WHEN (SELECT f()) = 3                       THEN SET @dummy = 1;
END CASE;

CASE (SELECT 1 + 2)
WHEN 1 THEN SET @dummy = 1;
ELSE SET @dummy = 1;
END CASE;

CASE (SELECT * FROM (SELECT 1 + 2) t1)
WHEN 1 THEN SET @dummy = 1;
ELSE SET @dummy = 1;
END CASE;

CASE (SELECT * FROM t1)
WHEN 1 THEN SET @dummy = 1;
ELSE SET @dummy = 1;
END CASE;

CASE (SELECT * FROM t2)
WHEN 1 THEN SET @dummy = 1;
ELSE SET @dummy = 1;
END CASE;

CASE (SELECT * FROM t3)
WHEN 1 THEN SET @dummy = 1;
ELSE SET @dummy = 1;
END CASE;

CASE (SELECT f())
WHEN 1 THEN SET @dummy = 1;
ELSE SET @dummy = 1;
END CASE;

# WHILE-expression.

WHILE (SELECT 1 - 1) DO
SET @dummy = 1;
END WHILE;

WHILE (SELECT * FROM (SELECT 1 - 1) t1) DO
SET @dummy = 1;
END WHILE;

WHILE (SELECT * FROM t1) - 10 DO
SET @dummy = 1;
END WHILE;

WHILE (SELECT * FROM t2) - 10 DO
SET @dummy = 1;
END WHILE;

WHILE (SELECT * FROM t3) - 10 DO
SET @dummy = 1;
END WHILE;

WHILE (SELECT f()) - 1 DO
SET @dummy = 1;
END WHILE;

# REPEAT-expression.

REPEAT
SET @dummy = 1;
UNTIL (SELECT 1 - 1) END REPEAT;

REPEAT
SET @dummy = 1;
UNTIL (SELECT * FROM (SELECT 1 - 1) t1) END REPEAT;

REPEAT
SET @dummy = 1;
UNTIL (SELECT * FROM t1) - 10 END REPEAT;

REPEAT
SET @dummy = 1;
UNTIL (SELECT * FROM t2) - 10 END REPEAT;

REPEAT
SET @dummy = 1;
UNTIL (SELECT * FROM t3) - 10 END REPEAT;

REPEAT
SET @dummy = 1;
UNTIL (SELECT f()) - 1 END REPEAT;
END"
"SHOW FUNCTION CODE f1"
"SHOW FUNCTION CODE f2"
"SHOW FUNCTION CODE f3"
"SHOW FUNCTION CODE f4"
"SHOW FUNCTION CODE f5"
"SHOW FUNCTION CODE f6"
"FLUSH TABLE mysql.procs_priv"
"create procedure p1()
begin
declare v_stmt_text varchar(255);
declare v_id integer;
declare done int default 0;
declare c cursor for select id, stmt_text from t1;
declare continue handler for 1295 -- ER_UNSUPPORTED_PS
set @status='not supported';
declare continue handler for 1064 -- ER_SYNTAX_ERROR
set @status='syntax error';
declare continue handler for sqlstate '02000' set done = 1;

prepare update_stmt from ""update t1 set status=? where id=?"";
open c;
repeat
if not done then
fetch c into v_id, v_stmt_text;
set @id=v_id, @stmt_text=v_stmt_text;
set @status=""supported"";
prepare stmt from @stmt_text;
execute update_stmt using @status, @id;
end if;
until done end repeat;
deallocate prepare update_stmt;
end"
"create procedure bad_into(out param int)
select x from t3 into param"
"drop function bug3287"
"drop function if exists bug8408_f"
"drop function bug8408_f"
"drop function bug8408"
"drop function if exists bug11394"
"drop function if exists bug11394_1"
"drop function if exists bug11394_2"
"drop function bug11394"
"drop function bug11394_1"
"drop function bug11394_2"
"drop function if exists bug11834_1"
"drop function if exists bug11834_2"
"drop function bug11834_1"
"drop function bug11834_2"
"drop function if exists bug12712"
"drop function bug12712"
"CREATE TRIGGER tr1 BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
CREATE TEMPORARY TABLE t2 (a int);
DROP TEMPORARY TABLE t2;
END "
"drop function bug_13627_f"
"drop function if exists bug12329"
"drop function bug12329"
"drop function bug13012_2"
"drop function if exists bug11555_1"
"drop function if exists bug11555_2"
"drop function bug11555_1"
"drop function bug11555_2"
"create trigger t1_ai after insert on t1 for each row insert into t2 values (new.i)"
"create trigger t1_ai after insert on t1 for each row set @a:=bug11555_1()"
"drop function if exists bug14270"
"DROP FUNCTION IF EXISTS bug18914_f1"
"DROP FUNCTION IF EXISTS bug18914_f2"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
CALL bug18914_p1()"
"DROP FUNCTION bug18914_f1"
"DROP FUNCTION bug18914_f2"
"drop function if exists func_20713_a"
"drop function if exists func_20713_b"
"drop function if exists func_25345"
"drop function if exists func_25345_b"
"drop function func_25345"
"drop function func_25345_b"
"drop function bug20701"
"DECLARE cur1 CURSOR FOR SHOW TABLES"
"OPEN cur1"
"FETCH cur1 INTO c"
"CLOSE cur1"
"END|


CREATE DATABASE mysqltest"
"create procedure p1(a int)
begin
declare continue handler for 1436 -- ER_STACK_OVERRUN_NEED_MORE
select 'exception';
call p1(a+1);
end"
"DROP FUNCTION func_1"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
DECLARE EXIT HANDLER FOR SQLWARNING
SET NEW.a = 10;

SET NEW.a = 99999999999;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
INSERT INTO t2(a, b, c) VALUES(99999, 99999, 99999)"
"CREATE TRIGGER t1_ai AFTER INSERT ON t1 FOR EACH ROW
INSERT INTO t2(d, e, f) VALUES(99999, 99999, 99999)"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
INSERT INTO t2 VALUES(
CAST('111111X' AS SIGNED),
CAST('222222X' AS SIGNED),
NULL);
END"
"SHOW CREATE FUNCTION foo"
"SHOW FUNCTION STATUS WHERE Name = 'foo'"
"SHOW FUNCTION STATUS where Language like ""%JAVA%"""
"SHOW CREATE FUNCTION JAVASCRIPT"
"SHOW FUNCTION STATUS WHERE Name = 'JAVASCRIPT'"
"DROP FUNCTION JAVASCRIPT"
"CREATE FUNCTION foo(x INTEGER) RETURNS INTEGER DETERMINISTIC LANGUAGE RUBY
AS $$
x-1
$$
"
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$ let b = a; $$ "
"CREATE PROCEDURE JAVASCRIPT(a INTEGER) DETERMINISTIC
LANGUAGE JAVASCRIPT
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE PYTHON
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE RUBY
AS $$ b = a $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE javascript
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE jAvaScRIpt
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE JAVA1
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE $NOLANG
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE 123j
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE __
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER)
LANGUAGE JAVASCRIPT DETERMINISTIC LANGUAGE SQL
BEGIN DECLARE b INTEGER DEFAULT a; END "
"CREATE PROCEDURE bar(a INTEGER)
LANGUAGE SQL DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER)
LANGUAGE
JAVASCRIPT

AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER)
LANGUAGE
JAVASCRIPT
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER)
LANGUAGE	  	 JAVASCRIPT  DETERMINISTIC
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE JAVASCRIPT
CONTAINS SQL
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC READS SQL DATA
LANGUAGE JAVASCRIPT
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) DETERMINISTIC LANGUAGE JAVASCRIPT
MODIFIES SQL DATA
AS $$ let b = a; $$ "
"CREATE PROCEDURE bar(a INTEGER) NOT DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$ let b = a; $$ "
"DROP FUNCTION foo "
"CREATE FUNCTION foo(x INTEGER) RETURNS INTEGER
DETERMINISTIC LANGUAGE JAVASCRIPT
AS 'return x-1;' "
"CREATE FUNCTION foo(x INTEGER) RETURNS INTEGER
DETERMINISTIC LANGUAGE JAVASCRIPT
AS ""return x-1;"" "
"CREATE FUNCTION foo(x INTEGER) RETURNS INTEGER
DETERMINISTIC LANGUAGE JAVASCRIPT
AS '
return x-1;
' "
"CREATE FUNCTION foo(x INTEGER) RETURNS INTEGER
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
""
return x-1;
"" "
"CREATE FUNCTION foo(a INTEGER) RETURNS VARCHAR(20)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
'
return ""$$"" + a + ""$$"";
'
"
"CREATE FUNCTION foo(x INTEGER) RETURNS VARCHAR(20)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $code$ rtrn ""$$"" + x + ""$foo$""; $code$ "
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$
let b = a;
$$ "
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS 'let b = a;' "
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS ""let b = a;"" "
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS '
let b = a;
' "
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
""
let b = a;
"" "
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
'
let b = ""$$"" + a + ""$$"";
'
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$code$
let b = ""$$"" + a + ""$$"";
$code$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$coDE$
let b = ""$$"" + a + ""$$"";
$coDE$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$CODE$
let b = ""$$"" + a + ""$$"";
$CODE$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$tag$
let b = ""$$"" + a + ""$$"";
$tag$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$TAG$
let b = ""$$"" + a + ""$$"";
$TAG$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$NULL$
let b = ""$$"" + a + ""$$"";
$NULL$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$abdc_1234$
let b = ""$$"" + a + ""$$"";
$abdc_1234$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$_$
let b = ""$$"" + a + ""$$"";
$_$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$0$
let b = ""$$"" + a + ""$$"";
$0$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$100$
let b = ""$$"" + a + ""$$"";
$100$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$12345678901234$
let b = ""$$"" + a + ""$$"";
$12345678901234$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$1234567890qwertyuiopasdfghjklzxcvbnm_QWERTYUIOPASDFGHJKLZXCVBNM$
let b = ""$$"" + a + ""$$"";
$1234567890qwertyuiopasdfghjklzxcvbnm_QWERTYUIOPASDFGHJKLZXCVBNM$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$Â¡$
let b = ""$$"" + a + ""$$"";
$Â¡$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$1234567890qwertyuiopasdfghjklzxcvbnm_QWERTYUIOPASDFGHJKLZXCVBNMÂ¡â„¢Â£Â¢âˆžÂ§Â¶â€¢ÂªÂºâ€“â‰ Å“âˆ‘Â´Â®â€ Â¥Â¨Ë†Ã¸Ï€â€œâ€˜Â«Ã¥ÃŸâˆ‚Æ’Â©Ë™âˆ†ËšÂ¬â€¦Ã¦Î©â‰ˆÃ§âˆšâˆ«Âµâ‰¤â‰¥Ã·â„â‚¬â€¹â€ºï¬ï¬‚â€¡Â°Â·â€šâ€”Â±Ã…ÃÃŽÃËÃ“Ã”Ã’ÃšÃ†Â¸Ë›Ã‡â—ŠÄ±Ã‚Â¯Ë˜Â¿$
let b = ""$$"" + a + ""$$"";
$1234567890qwertyuiopasdfghjklzxcvbnm_QWERTYUIOPASDFGHJKLZXCVBNMÂ¡â„¢Â£Â¢âˆžÂ§Â¶â€¢ÂªÂºâ€“â‰ Å“âˆ‘Â´Â®â€ Â¥Â¨Ë†Ã¸Ï€â€œâ€˜Â«Ã¥ÃŸâˆ‚Æ’Â©Ë™âˆ†ËšÂ¬â€¦Ã¦Î©â‰ˆÃ§âˆšâˆ«Âµâ‰¤â‰¥Ã·â„â‚¬â€¹â€ºï¬ï¬‚â€¡Â°Â·â€šâ€”Â±Ã…ÃÃŽÃËÃ“Ã”Ã’ÃšÃ†Â¸Ë›Ã‡â—ŠÄ±Ã‚Â¯Ë˜Â¿$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS	      $$
const $x = 3;
const $y$ = 4;
let b = $x + $y$ + a;
$$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS
$code$
const x$$ = 3;
const $y$$z = 4;
let b = x$$ + $y$$z + a;

$code$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$
let b = ""âˆ‚"" + a + ""$âˆ‚$"";
$$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $code$
let b = ""âˆ‚"" + a + ""$âˆ‚$$"";
$code$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $code$
let b = ""âˆ‚"" + a + ""$âˆ‚$$âˆ‚"";
$code$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$âˆ‚
let b = ""âˆ‚"" + a + ""$âˆ‚$"";
$$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $âˆ‚$
let b = ""âˆ‚"" + a + ""âˆ‚$"";
$âˆ‚$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $coâˆ‚e$
let b = ""âˆ‚"" + a + ""$âˆ‚$$"";
$coâˆ‚e$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $ðŸ˜€$
let b = ""ðŸ˜€$ðŸ˜”"" + a + ""ðŸ˜€$ðŸ˜”$"";
$ðŸ˜€$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $ðŸ˜€ðŸ˜”$
let b = ""ðŸ˜€$ðŸ˜”"" + a + ""ðŸ˜€$ðŸ˜”$"";
$ðŸ˜€ðŸ˜”$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $xðŸ˜€$
let b = ""$xðŸ˜€ðŸ˜”"" + a + ""$xðŸ˜€ðŸ˜”$"";
$xðŸ˜€$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $ðŸ˜€x$
let b = ""$ðŸ˜€xðŸ˜”$"" + a + ""$ðŸ˜€ðŸ˜”x$"";
$ðŸ˜€x$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $xðŸ˜€y$
let b = ""$xðŸ˜€ðŸ˜”y$"" + a + ""$xðŸ˜€yðŸ˜”$"";
$xðŸ˜€y$
"
"CREATE PROCEDURE bar(a INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $xðŸ˜€yðŸ˜”$
let b = ""ðŸ˜€ðŸ˜”$"" + a + ""ðŸ˜€$ðŸ˜”$"";
$xðŸ˜€yðŸ˜”$
"
"CREATE PROCEDURE bar(x INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $code$ let b := ""$$"" + x + ""$foo$""; $code$ "
"CREATE PROCEDURE bar(x INTEGER)
DETERMINISTIC LANGUAGE JAVASCRIPT
AS $$
const $x = x,
const $y = 1
let b = $x + $y;
$$
"
"SELECT 1 AS $hi"
"alter function f1 comment 'new comment'"
"create trigger t1_ai after insert on t1 for each row
insert into t2 (a, b) values (new.a, f1())"
"create trigger t1_ai after insert on t1 for each row
insert into t2 (a, b) values (new.a, (select max(a) from v1))"
"drop function if exists bug15683"
"drop function bug15683"
"drop function if exists bug19634"
"create trigger t1_bi before delete on t1 for each row insert into t3 values (old.data)"
"drop function bug19634"
"create trigger bug_27907_t1_ai after insert on bug_27907_t1
for each row
begin
insert into bug_27907_logs (a) values (1);
end"
"drop function if exists f_bug22427"
"drop function f_bug22427"
"CREATE TRIGGER t1_ai AFTER INSERT ON t1 FOR EACH ROW
BEGIN
UPDATE t2 SET c2= c2 + 1;
END"
"CREATE TRIGGER t1_au AFTER UPDATE ON t1
FOR EACH ROW INSERT INTO t2 VALUES (new.fld1, new.fld2)"
"create trigger trg before insert on t1 for each row
insert into test.t1 values (1)"
"create trigger trg before insert on t2 for each row
insert into test.t2 values (1)"
"create user user1@localhost"
"create user ''@'%'"
"create user user1"
"show function status like 'db'"
"grant execute on procedure db1_secret.stamp to user1@'%'"
"grant execute on function db1_secret.db to user1@'%'"
"grant execute on procedure db1_secret.stamp to ''@'%'"
"grant execute on function db1_secret.db to ''@'%'"
"alter function db sql security invoker"
"create user user2@localhost"
"grant select,insert,update,delete,create routine on db2.* to user2@localhost"
"grant create routine on db2.* to user1@localhost"
"grant usage on procedure db2.q to user2@localhost with grant option"
"grant execute on procedure db2.q to user1@localhost"
"create user usera@localhost"
"create user userb@localhost"
"create user userc@localhost"
"grant execute on procedure sptest.p1 to usera@localhost"
"grant execute on procedure sptest.p1 to userc@localhost with grant option"
"grant execute on procedure sptest.p1 to userb@localhost"
"grant all privileges on procedure sptest.p1 to userc@localhost"
"revoke all privileges on procedure sptest.p1 from userb@localhost"
"drop function if exists bug_9503"
"grant execute on function bug_9503 to user1@localhost"
"drop function bug_9503"
"drop function if exists bug12812"
"drop function bug12812"
"create user user1_bug14834@localhost identified by ''"
"create user user2_bug14834@localhost identified by ''"
"create user user3_bug14834@localhost identified by ''"
"create user user_bug14533@localhost identified by ''"
"grant execute on procedure db_bug14533.bug14533_1 to user_bug14533@localhost"
"grant execute on procedure db_bug14533.bug14533_2 to user_bug14533@localhost"
"SHOW CREATE FUNCTION wl2897_f1"
"SHOW CREATE FUNCTION wl2897_f3"
"CREATE USER user19857@localhost IDENTIFIED BY 'meow'"
"GRANT SELECT, INSERT, UPDATE, DELETE, CREATE ROUTINE, ALTER ROUTINE ON test.* TO
user19857@localhost"
"DROP FUNCTION IF EXISTS f_suid"
"DROP FUNCTION IF EXISTS f_evil"
"DROP FUNCTION f_evil"
"DROP FUNCTION f_suid"
"CREATE USER 'tester'"
"CREATE USER 'Tester'"
"GRANT EXECUTE ON FUNCTION `f_Test` TO 'tester'"
"GRANT EXECUTE ON FUNCTION `f_Test_denied` TO 'Tester'"
"CONNECT (con_tester,localhost,tester,,B48872)"
"CONNECT (con_tester_denied,localhost,Tester,,B48872)"
"CONNECTION con_tester"
"CONNECTION con_tester_denied"
"DISCONNECT con_tester"
"DISCONNECT con_tester_denied"
"DROP FUNCTION `f_Test`"
"DROP FUNCTION `f_Test_denied`"
"create user bug57061_user@localhost"
"create user bug12602983_user@localhost"
"CREATE USER user@localhost"
"GRANT EXECUTE ON PROCEDURE mysqltest_db.p1 TO user@localhost"
"REVOKE EXECUTE ON PROCEDURE mysqltest_db.p1 FROM user@localhost"
"CREATE USER usr_no_priv@localhost, usr_show_routine@localhost, usr_global_select@localhost, usr_definer@localhost, usr_role@localhost, usr_create_routine@localhost, usr_alter_routine@localhost, usr_execute@localhost"
"GRANT CREATE ROUTINE ON *.* TO usr_create_routine@localhost"
"GRANT ALTER ROUTINE ON *.* TO usr_alter_routine@localhost"
"SHOW FUNCTION STATUS WHERE db=""testdb"""
"SHOW CREATE FUNCTION testdb.func_root"
"SHOW CREATE FUNCTION testdb.func_definer"
"drop function if exists bug11554"
"drop function bug11554"
"drop function if exists bug17615"
"drop function bug17615"
"SHOW CREATE FUNCTION f;
DROP FUNCTION f;


CREATE PROCEDURE p1(IN  f1 VARCHAR(64) CHARACTER SET ucs2 COLLATE ucs2_czech_ci,
OUT f2 VARCHAR(64) CHARACTER SET ucs2 COLLATE ucs2_polish_ci)
BEGIN
SET f2= f1;
SET f2= concat(collation(f1), ' ', collation(f2));
END"
"DROP FUNCTION IF EXISTS bug48766"
"SHOW CREATE FUNCTION bug48766"
"DROP FUNCTION bug48766"
"DROP FUNCTION IF EXISTS sp_vars_check_ret1"
"DROP FUNCTION IF EXISTS sp_vars_check_ret2"
"DROP FUNCTION IF EXISTS sp_vars_check_ret3"
"DROP FUNCTION IF EXISTS sp_vars_check_ret4"
"DROP FUNCTION IF EXISTS sp_vars_div_zero"
"DROP FUNCTION sp_vars_check_ret1"
"DROP FUNCTION sp_vars_check_ret2"
"DROP FUNCTION sp_vars_check_ret3"
"DROP FUNCTION sp_vars_check_ret4"
"DROP FUNCTION sp_vars_div_zero"
"INSERT INTO t1(b) VALUES(b'0'), (b'1')"
"insert into table_12976_b values ('A', b'1', b'1'), ('B', b'0', b'0')"
"drop function sub3"
"create procedure b(x int)
repeat
insert into test.t1 values (repeat(""b"",3), x);
set x = x-1;
until x = 0 end repeat"
"create procedure b2(x int)
repeat
select 1 into outfile 'b2';
insert into test.t1 values (repeat(""b2"",3), x);
set x = x-1;
until x = 0 end repeat"
"drop function if exists e"
"drop function if exists inc"
"drop function if exists mul"
"drop function if exists append"
"drop function if exists fac"
"drop function if exists fun"
"drop function e"
"drop function inc"
"drop function mul"
"drop function append"
"drop function fun"
"create procedure cur1()
begin
declare a char(16);
declare b int;
declare c double;
declare done int default 0;
declare c cursor for select * from test.t2;
declare continue handler for sqlstate '02000' set done = 1;

open c;
repeat
fetch c into a, b, c;
if not done then
insert into test.t1 values (a, b+c);
end if;
until done end repeat;
close c;
end"
"create procedure cur2()
begin
declare done int default 0;
declare c1 cursor for select id,data from test.t1 order by id,data;
declare c2 cursor for select i from test.t2 order by i;
declare continue handler for sqlstate '02000' set done = 1;

open c1;
open c2;
repeat
begin
declare a char(16);
declare b,c int;

fetch from c1 into a, b;
fetch next from c2 into c;
if not done then
if b < c then
insert into test.t3 values (a, b);
else
insert into test.t3 values (a, c);
end if;
end if;
end;
until done end repeat;
close c1;
close c2;
end"
"drop function if exists chistics"
"show create function chistics"
"drop function chistics"
"create procedure modes(out c1 int, out c2 int)
begin
declare done int default 0;
declare x int;
declare c cursor for select data from t1;
declare continue handler for sqlstate '02000' set done = 1;

select 1 || 2 into c1;
set c2 = 0;
open c;
repeat
fetch c into x;
if not done then
set c2 = c2 + 1;
end if;
until done end repeat;
close c;
end"
"drop function if exists f0"
"drop function if exists f12_1"
"drop function if exists f12_2"
"drop function f0"
"drop function f12_1"
"drop function f12_2"
"show function status like '%fac'"
"drop function fac"
"drop function if exists foo"
"drop function `foo`"
"drop function if exists t1max"
"drop function t1max"
"drop function getcount"
"create procedure h_ee()
deterministic
begin
declare continue handler for 1062 -- ER_DUP_ENTRY
select 'Outer (bad)' as 'h_ee';

begin
declare continue handler for 1062 -- ER_DUP_ENTRY
select 'Inner (good)' as 'h_ee';

insert into t3 values (1);
end;
end"
"create procedure h_es()
deterministic
begin
declare continue handler for 1062 -- ER_DUP_ENTRY
select 'Outer (bad)' as 'h_es';

begin
-- integrity constraint violation
declare continue handler for sqlstate '23000'
select 'Inner (good)' as 'h_es';

insert into t3 values (1);
end;
end"
"create procedure h_ew()
deterministic
begin
declare continue handler for 1264 -- ER_WARN_DATA_OUT_OF_RANGE
select 'Outer (bad)' as 'h_ew';

begin
declare continue handler for sqlwarning
select 'Inner (good)' as 'h_ew';

insert into t3 values (123456789012);
end;
delete from t3;
insert into t3 values (1);
end"
"create procedure h_ex()
deterministic
begin
declare continue handler for 1062 -- ER_DUP_ENTRY
select 'Outer (bad)' as 'h_ex';

begin
declare continue handler for sqlexception
select 'Inner (good)' as 'h_ex';

insert into t3 values (1);
end;
end"
"create procedure h_se()
deterministic
begin
-- integrity constraint violation
declare continue handler for sqlstate '23000'
select 'Outer (bad)' as 'h_se';

begin
declare continue handler for 1062 -- ER_DUP_ENTRY
select 'Inner (good)' as 'h_se';

insert into t3 values (1);
end;
end"
"create procedure h_ss()
deterministic
begin
-- integrity constraint violation
declare continue handler for sqlstate '23000'
select 'Outer (bad)' as 'h_ss';

begin
-- integrity constraint violation
declare continue handler for sqlstate '23000'
select 'Inner (good)' as 'h_ss';

insert into t3 values (1);
end;
end"
"create procedure h_sw()
deterministic
begin
-- data exception - numeric value out of range
declare continue handler for sqlstate '22003'
select 'Outer (bad)' as 'h_sw';

begin
declare continue handler for sqlwarning
select 'Inner (good)' as 'h_sw';

insert into t3 values (123456789012);
end;
delete from t3;
insert into t3 values (1);
end"
"create procedure h_sx()
deterministic
begin
-- integrity constraint violation
declare continue handler for sqlstate '23000'
select 'Outer (bad)' as 'h_sx';

begin
declare continue handler for sqlexception
select 'Inner (good)' as 'h_sx';

insert into t3 values (1);
end;
end"
"create procedure h_ne()
deterministic
begin
declare continue handler for not found
select 'Outer (bad)' as 'h_ne';

begin
declare x int;
declare continue handler for 1329 -- ER_SP_FETCH_NO_DATA
select 'Inner (good)' as 'h_ne';

select a into x from t3 where a = 42;
end;
end"
"create procedure h_we()
deterministic
begin
declare continue handler for sqlwarning
select 'Outer (bad)' as 'h_we';

begin
declare continue handler for 1264 -- ER_WARN_DATA_OUT_OF_RANGE
select 'Inner (good)' as 'h_we';

insert into t3 values (123456789012);
end;
delete from t3;
insert into t3 values (1);
end"
"create procedure h_ws()
deterministic
begin
declare continue handler for sqlwarning
select 'Outer (bad)' as 'h_ws';

begin
-- data exception - numeric value out of range
declare continue handler for sqlstate '22003'
select 'Inner (good)' as 'h_ws';

insert into t3 values (123456789012);
end;
delete from t3;
insert into t3 values (1);
end"
"create procedure h_xe()
deterministic
begin
declare continue handler for sqlexception
select 'Outer (bad)' as 'h_xe';

begin
declare continue handler for 1062 -- ER_DUP_ENTRY
select 'Inner (good)' as 'h_xe';

insert into t3 values (1);
end;
end"
"create procedure h_xs()
deterministic
begin
declare continue handler for sqlexception
select 'Outer (bad)' as 'h_xs';

begin
-- integrity constraint violation
declare continue handler for sqlstate '23000'
select 'Inner (good)' as 'h_xs';

insert into t3 values (1);
end;
end"
"call bug1656(@1, @2)"
"select @1, @2"
"create procedure bug2267_2()
begin
show function status where db='test';
end"
"drop function if exists bug2267_4"
"create procedure bug2267_4()
begin
show create function bug2267_4;
end"
"drop function bug2267_4"
"drop function if exists bug2674"
"drop function bug2674"
"drop function if exists bug2772"
"drop function bug2772"
"drop function if exists bug2564_3"
"drop function if exists bug2564_4"
"show create function bug2564_3"
"show create function bug2564_4"
"drop function bug2564_3"
"drop function bug2564_4"
"drop function if exists bug3132"
"drop function bug3132"
"drop function bug2773"
"drop function bug3788"
"show binary log status"
"drop function if exists bug4487"
"drop function bug4487"
"drop function bug6022"
"drop function if exists bug5240"
"drop function bug5240"
"drop function if exists bug9102"
"drop function bug9102"
"drop function if exists bug7648"
"drop function bug7648"
"drop function if exists bug9775"
"drop function bug9775"
"drop function if exists bug8861"
"drop function bug8861"
"drop function if exists bug9559"
"drop function bug9559"
"create procedure bug10136()
begin
declare done int default 3;

repeat
select * from t3;
set done = done - 1;
until done <= 0 end repeat;

end"
"create procedure bug6063()
begin
lÃ¢bel: begin end;
label: begin end;
label1: begin end;
end"
"create procedure bug7088_2()
lÃ¤bel1: begin end"
"drop function if exists bug10055"
"drop function bug10055"
"create procedure bug12297(lim int)
begin
set @x = 0;
repeat
insert into t1(id,data)
values('aa', @x);
set @x = @x + 1;
until @x >= lim
end repeat;
end"
"drop function if exists f_bug11247"
"drop function f_bug11247"
"create procedure bug12168(arg1 char(1))
begin
declare b, c integer;
if arg1 = 'a' then
begin
declare c1 cursor for select a from t3 where a % 2;
declare continue handler for not found set b = 1;
set b = 0;
open c1;
c1_repeat: repeat
fetch c1 into c;
if (b = 1) then
leave c1_repeat;
end if;

insert into t4 values (c);
until b = 1
end repeat;
end;
end if;
if arg1 = 'b' then
begin
declare c2 cursor for select a from t3 where not a % 2;
declare continue handler for not found set b = 1;
set b = 0;
open c2;
c2_repeat: repeat
fetch c2 into c;
if (b = 1) then
leave c2_repeat;
end if;

insert into t4 values (c);
until b = 1
end repeat;
end;
end if;
end"
"create procedure bug11333(i int)
begin
declare tmp varchar(128);
set @x = 0;
repeat
select c1 into tmp from t3
where c1 = 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';
set @x = @x + 1;
until @x >= i
end repeat;
end"
"drop function if exists bug9048"
"drop function bug9048"
"drop function if exists bug131333"
"drop function bug131333"
"drop function if exists bug12379"
"drop function bug12379"
"drop function if exists bug7049_1"
"drop function if exists bug7049_2"
"drop function bug7049_1"
"drop function bug7049_2"
"drop function if exists bug13941"
"drop function bug13941"
"drop function if exists bug14723"
"show create function bug14723"
"/*!50003 create procedure bug14723()
main_loop: begin
select 42;
end */"
"drop function bug14723"
"create procedure bug14845()
begin
declare a char(255);
declare done int default 0;
declare c cursor for select count(*) from t1 where 1 = 0;
declare continue handler for sqlstate '02000' set done = 1;
open c;
repeat
fetch c into a;
if not done then
select a;
end if;
until done end repeat;
close c;
end"
"drop function if exists bug10100f"
"drop function bug10100f"
"create procedure bug5967(a varchar(255))
begin
declare i varchar(255);
declare c cursor for select a from t3;
select a;
select a from t3 into i;
select i as 'Parameter takes precedence over table column';                     open c;
fetch c into i;
close c;
select i as 'Parameter takes precedence over table column in cursors';
begin
declare a varchar(255) default 'a - local variable';
declare c1 cursor for select a from t3;
select a as 'A local variable takes precedence over parameter';
open c1;
fetch c1 into i;
close c1;
select i as 'A local variable takes precedence over parameter in cursors';
begin
declare a varchar(255) default 'a - local variable in a nested compound statement';
declare c2 cursor for select a from t3;
select a as 'A local variable in a nested compound statement takes precedence over a local variable in the outer statement';
select a from t3 into i;
select i as  'A local variable in a nested compound statement takes precedence over table column';
open c2;
fetch c2 into i;
close c2;
select i as  'A local variable in a nested compound statement takes precedence over table column in cursors';
end;
end;
end"
"create procedure bug14498_3()
begin
declare continue handler for sqlexception select 'error' as 'Handler';

repeat
select 'maybe' as 'v';
until v end repeat;
select 'done' as 'End';
end"
"drop function if exists bug15728"
"drop function bug15728"
"drop function if exists bug12472"
"drop function bug12472"
"DROP FUNCTION IF EXISTS bug18589_f1"
"DROP FUNCTION bug18589_f1"
"DROP FUNCTION IF EXISTS bug18037_f1"
"DROP FUNCTION bug18037_f1"
"create procedure mysqltest1.p1()
begin
alter database character set koi8r;
end"
"SHOW CREATE FUNCTION bug16211_f1"
"SHOW CREATE FUNCTION bug16211_f2"
"SHOW CREATE FUNCTION mysqltest2.bug16211_f3"
"SHOW CREATE FUNCTION mysqltest2.bug16211_f4"
"DROP FUNCTION bug19862"
"DROP FUNCTION IF EXISTS bug16899_f1"
"DROP FUNCTION IF EXISTS bug21493"
"DROP FUNCTION bug21493"
"drop function if exists func_20028_a"
"drop function if exists func_20028_b"
"drop function if exists func_20028_c"
"drop function func_20028_a"
"drop function func_20028_b"
"drop function func_20028_c"
"drop function if exists pi"
"drop function pi"
"drop function if exists test.database"
"drop function if exists test.current_user"
"drop function if exists test.sha2"
"select test.database(), test.database ()"
"select test.current_user(), test.current_user ()"
"drop function test.database"
"drop function test.current_user"
"drop function sha2"
"DROP FUNCTION IF EXISTS bug23760_rc_test"
"DROP FUNCTION bug23760_rc_test"
"drop function if exists func_8407_a"
"drop function if exists func_8407_b"
"drop function func_8407_a"
"drop function func_8407_b"
"DROP FUNCTION IF EXISTS bug25373"
"DROP FUNCTION bug25373"
"drop function if exists bug20777"
"drop function bug20777"
"DROP FUNCTION IF EXISTS bug5274_f1"
"DROP FUNCTION IF EXISTS bug5274_f2"
"DROP FUNCTION bug5274_f1"
"DROP FUNCTION bug5274_f2"
"drop function   bug27354"
"DROP FUNCTION metered"
"CREATE PROCEDURE p1(IN loops BIGINT(19) UNSIGNED)
BEGIN
WHILE loops > 0 DO
SELECT c1 FROM v1"
"END|

CREATE PROCEDURE p2(IN loops BIGINT(19) UNSIGNED)
BEGIN
WHILE loops > 0 DO
SELECT c1 FROM v1"
"END|

CREATE FUNCTION f1(loops INT UNSIGNED)
RETURNS INT
BEGIN
DECLARE tmp INT"
"WHILE loops > 0 DO
SELECT c1 INTO tmp FROM v1"
"END|

DELIMITER "
"|

eval CALL p1($p1_cnt)"
"CREATE PROCEDURE p1()
BEGIN
DECLARE áâä INT;
SELECT áâä;
END"
"DROP FUNCTION IF EXISTS f4"
"create procedure proc_33618(num int)
begin
declare count1 int default '0';
declare vb varchar(30);
declare last_row int;

while(num>=1) do
set num=num-1;
begin
declare cur1 cursor for select `a` from t_33618;
declare continue handler for not found set last_row = 1;
set last_row:=0;
open cur1;
rep1:
repeat
begin
declare exit handler for 1062 begin end;
fetch cur1 into vb;
if (last_row = 1) then
leave rep1;
end if;
end;
until last_row=1
end repeat;
close cur1;
end;
end while;
end"
"drop function if exists func30787"
"drop function func30787"
"CREATE TEMPORARY TABLE t3 LIKE t1"
"CREATE TRIGGER t1_ai AFTER INSERT ON t1
FOR EACH ROW
INSERT INTO t2(a) VALUES (new.a)"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
INSERT INTO t3(a) VALUES (new.a)"
"DROP FUNCTION if exists f1"
"CREATE USER myuser@'localhost'"
"ALTER FUNCTION f1 READS SQL DATA"
"SHOW FUNCTION STATUS LIKE 'f_test'"
"DROP FUNCTION test.f_test"
"create procedure 15298_1 () sql security definer show grants for current_user"
"create procedure 15298_2 () sql security definer show grants"
"call 15298_1()"
"call 15298_2()"
"drop procedure 15298_1"
"drop procedure 15298_2"
"GRANT SELECT ON test1.t1 TO user_name_len_22_01234@localhost"
"GRANT EXECUTE ON PROCEDURE test1.p1_len22 TO user_name_len_22_01234@localhost"
"GRANT EXECUTE ON PROCEDURE test1.p1_len22 TO user_name_len_16@localhost"
"REVOKE SELECT ON test1.t1 FROM user_name_len_22_01234@localhost"
"GRANT SELECT ON test1.t1 TO user_name_len_32_012345678901234@localhost"
"GRANT EXECUTE ON FUNCTION test1.f1_len32 TO user_name_len_32_012345678901234@localhost"
"GRANT EXECUTE ON FUNCTION test1.f1_len32 TO user_name_len_22_01234@localhost"
"CREATE PROCEDURE cursor_over_union(OUT sum_a INTEGER, OUT sum_b INTEGER)
BEGIN
DECLARE a INTEGER;
DECLARE b INTEGER;
DECLARE done INTEGER DEFAULT 0;
DECLARE c1 CURSOR FOR
SELECT t1.a, t1.b FROM t1
UNION DISTINCT
SELECT t2.c, t2.d FROM t2;
DECLARE c2 CURSOR FOR
SELECT t1.a, t1.b FROM t1
UNION ALL
SELECT t2.c, t2.d FROM t2;
DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' SET done = 1;

SET sum_a = 0;
SET sum_b = 0;

OPEN c1;
REPEAT
FETCH c1 INTO a, b;
if NOT done THEN
SET sum_a = sum_a + a;
SET sum_b = sum_b + b;
END IF;
UNTIL done END REPEAT;
CLOSE c1;

SET done = 0;

OPEN c2;
REPEAT
FETCH c2 INTO a, b;
if NOT done THEN
SET sum_a = sum_a + a;
SET sum_b = sum_b + b;
END IF;
UNTIL done END REPEAT;
CLOSE c2;

end "
"DROP FUNCTION ReturnFalse"
"CREATE PROCEDURE p1()
BEGIN
DROP TEMPORARY TABLE IF EXISTS tmp;
CREATE TEMPORARY TABLE tmp(name VARCHAR(64), value VARCHAR(64));

IF EXISTS(SELECT 1
FROM tmp d
LEFT JOIN information_schema.columns c
ON c.table_schema = 'test' AND
upper(c.column_name) = upper(d.name)
WHERE c.table_schema IS NULL
)
THEN
SELECT 'then';
ELSE
SELECT 'else';
END IF;

CASE EXISTS(SELECT 1
FROM tmp d
LEFT JOIN information_schema.columns c
ON c.table_schema = 'test' AND
upper(c.column_name) = upper(d.name)
WHERE c.table_schema IS NULL
)
WHEN TRUE THEN SELECT 'true';
WHEN FALSE THEN SELECT 'false';
END CASE;

CASE
WHEN EXISTS(SELECT 1
FROM tmp d
LEFT JOIN information_schema.columns c
ON c.table_schema = 'test' AND
upper(c.column_name) = upper(d.name)
WHERE c.table_schema IS NULL
)
THEN SELECT 'true';
ELSE SELECT 'false';
END CASE;

WHILE EXISTS(SELECT 1
FROM tmp d
LEFT JOIN information_schema.columns c
ON c.table_schema = 'test' AND
upper(c.column_name) = upper(d.name)
WHERE c.table_schema IS NULL
)
DO
SELECT 'while';
END WHILE;

REPEAT
SELECT 'repeat';
UNTIL NOT
EXISTS(SELECT 1
FROM tmp d
LEFT JOIN information_schema.columns c
ON c.table_schema = 'test' AND
upper(c.column_name) = upper(d.name)
WHERE c.table_schema IS NULL
)
END REPEAT;
DROP TEMPORARY TABLE tmp;
END;
"
"INSERT INTO t1(c2) SELECT ROW_NUMBER () OVER () * 10 + 30 FROM t1, t1 AS t2, t1 AS t3"
"SHOW FUNCTION CODE testdb.func_root"
"SHOW FUNCTION CODE testdb.func_definer"
"drop function if exists a"
"drop function if exists st_x"
"drop function if exists st_y"
"drop function st_x"
"drop function st_y"
"CREATE PROCEDURE proc_19194_codegen(
IN proc_name VARCHAR(50),
IN count INTEGER,
IN simple INTEGER,
OUT body MEDIUMTEXT)
BEGIN
DECLARE code MEDIUMTEXT;
DECLARE i INT DEFAULT 1;

SET code = concat(""CREATE PROCEDURE "", proc_name, ""(i INT)\n"");
SET code = concat(code, ""BEGIN\n"");
SET code = concat(code, ""  DECLARE str CHAR(10);\n"");

IF (simple)
THEN
SET code = concat(code, ""  CASE i\n"");
ELSE
SET code = concat(code, ""  CASE\n"");
END IF;

WHILE (i <= count)
DO
IF (simple)
THEN
SET code = concat(code, ""    WHEN "", i, "" THEN SET str=\""", i, ""\";\n"");
ELSE
SET code = concat(code, ""    WHEN i="", i, "" THEN SET str=\""", i, ""\";\n"");
END IF;

SET i = i + 1;
END WHILE;

SET code = concat(code, ""    ELSE SET str=\"unknown\";\n"");
SET code = concat(code, ""  END CASE;\n"");
SET code = concat(code, ""  SELECT str;\n"");

SET code = concat(code, ""END\n"");

SET body = code;
END"
"drop function if exists bug10015_1"
"drop function if exists bug10015_2"
"drop function if exists bug10015_3"
"drop function if exists bug10015_4"
"drop function if exists bug10015_5"
"drop function if exists bug10015_6"
"drop function if exists bug10015_7"
"drop function bug10015_1"
"drop function bug10015_2"
"drop function bug10015_3"
"drop function bug10015_4"
"drop function bug10015_5"
"drop function bug10015_6"
"drop function bug10015_7"
"drop function if exists bug13825_0"
"drop function if exists bug13825_1"
"drop function if exists bug13825_2"
"drop function if exists bug13825_3"
"drop function if exists bug13825_4"
"drop function if exists bug13825_5"
"create trigger t2_bi before insert on t2 for each row
rollback to savepoint x"
"create trigger t2_bu before update on t2 for each row
release savepoint x"
"create trigger t2_bd before delete on t2 for each row
begin
insert into t1 values (2);
savepoint x;
insert into t1 values (3);
rollback to savepoint x;
insert into t1 values (4);
end"
"drop function bug13825_0"
"drop function bug13825_1"
"drop function bug13825_2"
"drop function bug13825_3"
"drop function bug13825_4"
"drop function bug13825_5"
"create procedure bug14210_fill_table()
begin
declare table_size, max_table_size int default 0;
select @@session.max_heap_table_size into max_table_size;
delete from t3;
insert into t3 (a) values (repeat('a', 255));
repeat
insert into t3 select a from t3;
select count(*)*255 from t3 into table_size;
until table_size > max_table_size*2 end repeat;
end"
"create procedure bug14210()
begin
declare a char(255);
declare done int default 0;
declare c cursor for select * from t3;
declare continue handler for sqlstate '02000' set done = 1;
open c;
repeat
fetch c into a;
if not done then
insert into t4 values (upper(a));
end if;
until done end repeat;
close c;
end"
"CREATE USER user_bug7787@localhost"
"drop function bug13575"
"drop function if exists bug23333"
"create function bug23333()
RETURNS int(11)
DETERMINISTIC
begin
insert into t1 values (null)"
"select count(*) from t1 into @a"
"end|

reset binary logs and gtids"
"CREATE TRIGGER t3_ai AFTER INSERT ON t3 FOR EACH ROW
INSERT INTO t1 SELECT * FROM t2"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
SET @a = OLD.a;
SET @b = NEW.a;
SELECT OLD.a INTO @c;
SELECT NEW.a INTO @d;

SET NEW.a = NEW.a * 2;
END"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
SET @x = OLD.a;
SET @y = NEW.a;
END"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
SET @x = OLD.a;
SET @y = NEW.b;
END"
"CREATE PROCEDURE p1(x INT)
BEGIN
REPEAT
SELECT x;
UPDATE t1 SET a = x;
SET x = x - 1;
UNTIL(NOT (SELECT * FROM t1))END REPEAT;
END"
"CREATE TRIGGER t2_bu BEFORE UPDATE ON t2 FOR EACH ROW
BEGIN
SET NEW.a = (SELECT * FROM t1) * 2;
END"
"CREATE TRIGGER trg1 BEFORE INSERT ON t1 FOR EACH ROW
SET new.a = new.a + 100"
"CREATE TRIGGER t2_bu BEFORE UPDATE ON t2 FOR EACH ROW
BEGIN
INSERT INTO v1 VALUES (NEW.a);
SET @x = (SELECT CHARSET(a) FROM v1 LIMIT 1);
END"
"show create function `foo`"
"create user mysqltest_32753@localhost"
"CREATE USER 'user_PCTFL'@'localhost' identified by 'PWD'"
"CREATE USER 'user_no_PCTFL'@'localhost' identified by 'PWD'"
"DROP FUNCTION IF EXISTS test_function"
"CREATE USER 'user\"s_12601974'@'localhost'"
"CREATE USER 'user\bs_12601974'@'localhost'"
"CREATE USER 'user\ns_12601974'@'localhost'"
"CREATE USER 'user\rs_12601974'@'localhost'"
"CREATE USER 'user\ts_12601974'@'localhost'"
"CREATE USER 'user\\s_12601974'@'localhost'"
"CREATE USER 'user\%s_12601974'@'localhost'"
"CREATE USER 'user\_s_12601974'@'localhost'"
"LET $ID= `SELECT connection_id()`"
"CREATE USER 'ssl_charset_code_user'@'%' REQUIRE SSL"
"ALTER INSTANCE RELOAD TLS"
"CREATE USER test_connection_admin@localhost"
"drop function func37908"
"CREATE TRIGGER trigg1 AFTER INSERT ON t1
FOR EACH ROW BEGIN
INSERT INTO t2 VALUES (1);
END;
"
"DROP FUNCTION testQuestion"
"CREATE TRIGGER t1_BI BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.id := -1"
"EXPLAIN FORMAT=tree SELECT * FROM t1 ORDER BY a"
"EXPLAIN FORMAT=tree SELECT * FROM t1 JOIN t1 AS t2 ON t1.a=t2.a ORDER BY t1.a"
"EXPLAIN FORMAT=JSON
SELECT c1 FROM t1
WHERE NOT EXISTS (SELECT /*+ NO_MERGE() */ c2
FROM (SELECT c1 FROM t1) AS dt
WHERE FALSE)"
"explain format=tree select a from t where (not exists (select b from t))"
"explain format=tree select a from t where 1 not in (select 1 from t)"
"EXPLAIN FORMAT=tree SELECT * FROM t1 WHERE pk IN ( SELECT pk FROM t1 LEFT JOIN v2 USING (pk) WHERE f1 >= 'o' )"
"EXPLAIN FORMAT=tree SELECT * FROM t1 LEFT JOIN t1 AS t3 ON t1.pk = t3.pk AND t1.f2 IN ( SELECT f2 FROM t2 )
WHERE EXISTS ( SELECT * FROM t1 AS t4, t2 AS t5 ) AND t1.f1 = 80 AND t1.pk > t1.f1"
"EXPLAIN FORMAT=TREE SELECT d0.f1, d0.pk, t1.pk, t1.f1 FROM ( SELECT DISTINCT * FROM t1 ) AS d0 LEFT JOIN t1 ON d0.pk IN ( SELECT 1 FROM t1 ) ORDER BY d0.f1"
"SELECT 1 FROM t1 AS table2 LEFT JOIN (SELECT 'c') AS table3(f1)
ON table3.f1 = table2.f1 WHERE table2.f1
IN (SELECT 1 FROM (SELECT 1314830897) AS t1(pk)
WHERE t1.pk <= ANY(SELECT 5)) AND FALSE"
"SELECT * FROM
t AS upper JOIN LATERAL
(SELECT DISTINCT ROW_NUMBER() OVER () AS rn FROM t
WHERE (t.a > upper.a)) der "
"EXPLAIN FORMAT=tree
SELECT * FROM
t1
JOIN t2 ON t1.pk = t2.pk
JOIN t3 ON t2.pk = t3.pk
WHERE (t1.col_int + t2.pk) IN ( SELECT col_int FROM t4 )"
"EXPLAIN FORMAT=tree
SELECT /*+ JOIN_ORDER(t3,t2,t1) */ * FROM t1
WHERE t1.col1 = ANY (
SELECT t1.col1 + t2.col2
FROM t2 JOIN t3 ON t2.col2 = t3.col2 AND t2.col1 =  t3.col1
WHERE t2.col2 BETWEEN 2 AND 9
)"
"SELECT 1=
(
SELECT 1 FROM
(
SELECT 1 FROM t
LEFT JOIN
(
SELECT 1 FROM t
WHERE NOT EXISTS
(
SELECT 1 FROM t WINDOW w1 AS (PARTITION BY a)
)
) AS x
ON 1 > 2
) AS z
)"
"EXPLAIN FORMAT=tree SELECT 1 FROM t1 WHERE d IN (SELECT a FROM t1)"
"SELECT t1.a
FROM
t1,
LATERAL ( SELECT t1.a FROM t1 AS inner_t1 LIMIT 1 ) AS d1
WHERE 1 IN ( SELECT a FROM t1 )
ORDER BY a"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t1 WHERE a IN
(SELECT COUNT(*) FROM t2 LEFT JOIN t3
ON t3.a IN (SELECT t2_a.a FROM t2 AS t2_a, t2 AS t2_b)
WHERE t2.a = 0)"
"SELECT CAST(NULL < ANY (VALUES ROW(1), ROW(2)) AS SIGNED)"
"EXPLAIN FORMAT=TREE SELECT 1 FROM t1 x0 WHERE x0.c IN
(SELECT MAX(x2.c) FROM t1 x1 JOIN t1 x2 ON x1.b=x2.a)"
"EXPLAIN FORMAT=TREE SELECT * FROM t WHERE (SELECT x FROM t)"
"SELECT AVG(a) OVER () AS `avg`,
a + (SELECT SUM(a) + (SELECT COUNT(a) FROM t1)
FROM (SELECT * from t1) t11) AS cnt FROM t2"
"SELECT (derived_1.`COUNT(*) + outer_t.a` +
IFNULL(derived_0.`MAX(b)`,0)) + 1 + 5 AS mx
FROM (SELECT STRAIGHT_JOIN MAX(outer_t.b) AS `MAX(b)`,
outer_t.a AS d_1
FROM t1 outer_t
GROUP BY outer_t.a) derived_0
LEFT JOIN LATERAL (SELECT (COUNT(0) + derived_0.d_1)
AS `COUNT(*) + outer_t.a`
FROM t1) derived_1
ON(true)
WHERE true"
"SELECT AVG(s2.avg_us) OVER () + 3 AS avgsum,
s2.avg_us avg_us,
s2.avg_us avg_us2,
SUM(s2.avg_us) OVER () + 3 AS avgsum2,
IFNULL(SUM(s1.cnt)/NULLIF((SELECT COUNT(*) FROM
events_digest), 0), 0) percentile
FROM sys.`x$ps_digest_avg_latency_distribution` AS s1
JOIN sys.`x$ps_digest_avg_latency_distribution` AS s2
ON s1.avg_us <= s2.avg_us
GROUP BY s2.avg_us
HAVING IFNULL(SUM(s1.cnt)/ NULLIF((SELECT COUNT(*) FROM events_digest), 0), 0) > 0.95
ORDER BY percentile LIMIT 1"
"SELECT derived_1_0.countrycount AS countrycount,
derived_1_0.smcnt AS smcnt,
derived_1_0.d_1 AS country,
derived_1_1.`SUM(funds_requested)` AS total_funds,
row_number() OVER (ORDER BY derived_1_1.`SUM(funds_requested)` )  AS rn
FROM (SELECT COUNT(t1.country) AS countrycount,
SUM(t1.funds_requested) AS smcnt,
AVG(t1.funds_requested) AS tmp_aggr_1,
STD(t1.funds_requested) AS tmp_aggr_2,
t1.country AS d_1
FROM t1
HAVING (AVG(t1.funds_requested) > 0)) derived_1_0
LEFT JOIN
(SELECT SUM(t1.funds_requested) AS `SUM(funds_requested)`
FROM t1) derived_1_1
ON(TRUE)"
"EXPLAIN FORMAT=tree
SELECT
AVG(cc.col_varchar_key),
(
SELECT SUM(cc.col_int_key)
FROM cc,a
)
FROM cc STRAIGHT_JOIN bb ON bb.col_varchar = cc.col_varchar_key
WHERE cc.col_varchar <> 'w'"
"ANALYZE TABLES c, cc"
"ANALYZE TABLES b, c, cc"
"SELECT t2.i FROM t2
WHERE ( false ) AND
( t2.i  IN ( SELECT t1.i FROM t1
WHERE t1.i <= SOME ( SELECT 8 UNION  SELECT 3 ) ) )"
"SELECT SUM(pk) FROM t1 WHERE ( pk >= ANY ( SELECT MAX(1) FROM DUAL) )"
"SELECT (SELECT MIN(f1) AS min FROM t1 ) AS field1 FROM t1 GROUP BY
field1 WITH ROLLUP"
"SELECT COUNT(*), (SELECT 1 FROM t)
FROM t AS t1,
(SELECT 1 FROM t) AS t2,
t AS t3
ORDER BY ROW_NUMBER() OVER (ORDER BY -t3.x)"
"EXPLAIN
SELECT (SELECT SUM(t_b.a) OVER ()
FROM t_b
WHERE t_b.a = t_a.a) aa,
b
FROM t_a
GROUP BY aa, b"
"SELECT /*+ SET_VAR(optimizer_switch='subquery_to_derived=OFF') */
(SELECT MAX(dt.f1) AS max FROM t1 AS dt
WHERE dt.f2 = dt1.f2 AND dt.f3 > 'h' ) AS field1
FROM (t1 AS dt1, t1 AS dt2) GROUP BY field1"
"SELECT
(SELECT MAX(dt.f1) AS max FROM t1 AS dt
WHERE dt.f2 = dt1.f2 AND dt.f3 > 'h' ) AS field1
FROM (t1 AS dt1, t1 AS dt2) GROUP BY field1"
"SELECT 1 FROM t1 WHERE NOT EXISTS (VALUES ROW(1),ROW(2))"
"SELECT c0 FROM t1 WHERE NOT EXISTS (VALUES ROW(1),ROW(2))"
"SELECT 1 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2))"
"SELECT c0 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2))"
"SELECT 1 FROM (SELECT 5) t1(c0) WHERE EXISTS (VALUES ROW(1),ROW(2))"
"SELECT c0 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2) LIMIT 1 OFFSET 0)"
"SELECT c0 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2) LIMIT 1 OFFSET 1)"
"SELECT c0 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2) LIMIT 1 OFFSET 2)"
"SELECT c0 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2) LIMIT 0)"
"SELECT c0 FROM t1 WHERE EXISTS (VALUES ROW(1),ROW(2) LIMIT 1)"
"create procedure p1()
begin
declare done int default 3;
repeat
select
(SELECT rs.t2_id
FROM t2 rs
WHERE rs.t1_id=
(SELECT lt.t1_id
FROM t1 lt
WHERE lt.t3_id=a.t3_id)
ORDER BY b DESC LIMIT 1) as x
from t3 AS a;
set done= done-1;
until done <= 0 end repeat;
end"
"SELECT AVG(DISTINCT id) FROM t1 GROUP BY id % 13"
"SELECT * FROM t1 WHERE int_key IN ( SELECT AVG(DISTINCT pk) FROM t2 WHERE time_nokey = datetime_key )"
"FLUSH TABLE schema1.t1"
"DROP FUNCTION sequence"
"INSTALL COMPONENT ""file://component_test_system_variable_source"""
"UNINSTALL COMPONENT ""file://component_test_system_variable_source"""
"VALUES ROW(1,9), ROW(2,4) ORDER BY column_1"
"(VALUES ROW(1,2), ROW(3,4), ROW(-1,2) ORDER BY column_0) ORDER BY column_0"
"VALUES ROW(1, 1), ROW(10, 2), ROW(2, 3), ROW(3, 4), ROW(5, 5)
ORDER BY 1 LIMIT 2 OFFSET 1"
"VALUES ROW(0, 1), ROW(4, 6), ROW(7, 5), ROW(5, 7), ROW(9, 8),
ROW(7, 2), ROW(7, 6), ROW(4, 5), ROW(3, 2), ROW(9, 7)
ORDER BY 1, 2"
"CREATE TRIGGER trg_p1_t1 AFTER INSERT ON t1 FOR EACH ROW CALL p1()"
"CREATE USER noprivs@localhost"
"REVOKE ALL ON *.* FROM noprivs@localhost"
"CREATE TABLESPACE ts1 ENGINE_ATTRIBUTE=''"
"CREATE TABLESPACE ts2 ENGINE_ATTRIBUTE='{""c"": ""v""}'"
"ALTER TABLESPACE ts1 ENGINE_ATTRIBUTE='{""foo"": ""bar""}'"
"create temporary table tg (i int not null) engine=merge union=()"
"SELECT * FROM t1 WHERE a BETWEEN DATE'2001-01-01' AND DATE'2002-01-01'"
"SELECT DATE'2001-01-01' FROM t1 GROUP BY DATE'2001-01-01'"
"SELECT * FROM t1 LEFT JOIN t2 ON c1 = c11
WHERE c2 BETWEEN DATE'2014-01-01' AND DATE'2014-01-05'"
"SELECT * FROM t1 LEFT JOIN t2 ON c1 = c11
WHERE c3 BETWEEN TIME'01:01:01' AND TIME'01:01:05'"
"SELECT * FROM t1 LEFT JOIN t2 ON c1 = c11
WHERE c4 BETWEEN TIMESTAMP'2014-01-01 01:01:01'
AND TIMESTAMP'2014-01-05 01:01:01'"
"SELECT JSON_VALUE('{""data"": ""2019-01-01 11:11::11""}', '$.data' RETURNING DATETIME) AS v"
"SELECT JSON_VALUE('{""data"": ""2019-01/01""}', '$.data' RETURNING DATE) AS v"
"SELECT JSON_VALUE('{""data"": ""10:11:12.098700    ""}', '$.data' RETURNING TIME) AS v"
"SELECT count_alloc
FROM performance_schema.memory_summary_global_by_event_name
WHERE event_name = 'memory/temptable/physical_disk'
INTO @id1"
"SELECT count_alloc
FROM performance_schema.memory_summary_global_by_event_name
WHERE event_name = 'memory/temptable/physical_disk'
INTO @id2"
"INSTALL COMPONENT ""file://component_test_mysql_thd_store_service"""
"UNINSTALL COMPONENT ""file://component_test_mysql_thd_store_service"""
"INSERT INTO t1 VALUES ( TIMESTAMP'2015-01-01 10:10:10.1+05:30' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2015-01-01 10:10:10.01+05:30' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2015-01-01 10:10:10.001+05:30' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2015-01-01 10:10:10.0001+05:30' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2015-01-01 10:10:10.00001+05:30' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2015-01-01 10:10:10.000001+05:30' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2038-01-19 03:14:07+00:00' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'2038-01-19 03:14:07.000001+00:00' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'1970-01-01 01:00:00.000000+00:00' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'1970-01-01 00:00:01.000000+00:00' )"
"INSERT INTO t1 VALUES ( TIMESTAMP'1970-01-01 00:00:00.999999+00:00' )"
"INSERT INTO t2 VALUES ( TIMESTAMP'2038-01-19 03:14:07+00:00' )"
"INSERT INTO t2 VALUES ( TIMESTAMP'2038-01-19 03:14:07.000001+00:00' )"
"INSERT INTO t2 VALUES ( TIMESTAMP'2038-01-19 03:14:07.999999+00:00' )"
"INSERT INTO t2 VALUES ( TIMESTAMP'1970-01-01 01:00:00.000000+00:00' )"
"INSERT INTO t2 VALUES ( TIMESTAMP'1970-01-01 00:00:01.000000+00:00' )"
"create trigger t1_bi before insert on t1 for each row
set new.udt:= convert_tz(new.ldt, 'Europe/Moscow', 'UTC')"
"CREATE TABLE diffs (i INT, CONSTRAINT i CHECK (1200 = i) ENFORCED)"
"grant all privileges on test.t1 to mysqltest_1@localhost"
"grant all privileges on test.t2 to mysqltest_1@localhost"
"CREATE USER test_user"
"CALL mtr.add_suppression(""Column count of mysql.* is wrong. ""
""Expected .*, found .*. ""
""The table is probably corrupted"")"
"CREATE USER u1@h, u2@h, u3@h"
"CREATE USER u1@h IDENTIFIED WITH 'caching_sha2_password'"
"CREATE USER user2@localhost, user3@localhost"
"CREATE user user7@localhost"
"CREATE USER u2@l"
"CREATE USER u1@h, u3@h"
"CREATE USER u2@h"
"CREATE USER user1@"
"GRANT UPDATE (a) ON t1 TO user1@"
"DROP USER user1@"
"CREATE USER 'mysql.session'@localhost IDENTIFIED WITH caching_sha2_password AS '$A$005$THISISACOMBINATIONOFINVALIDSALTANDPASSWORDTHATMUSTNEVERBRBEUSED' ACCOUNT LOCK"
"GRANT SELECT ON mysql.user TO 'mysql.session'@localhost"
"GRANT ALL ON test.t1 TO 'u1' "
"CREATE USER mysqltest_dfn@localhost"
"CREATE USER mysqltest_inv@localhost"
"CREATE TRIGGER wl2818_trg1 BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 VALUES(CURRENT_USER())"
"CREATE TRIGGER wl2818_trg2 AFTER INSERT ON t1
FOR EACH ROW
INSERT INTO t2 VALUES(CURRENT_USER())"
"TYPE=TRIGGERNAME
trigger_table=t1
EOF

TYPE=TRIGGERNAME
trigger_table=t1
EOF

TYPE=TRIGGERNAME
trigger_table=t1
EOF

TYPE=TRIGGERNAME
trigger_table=t1
EOF

TYPE=TRIGGERNAME
trigger_table=t1
EOF

TYPE=TRIGGERS
triggers='CREATE DEFINER=`root`@`localhost` TRIGGER tr11 BEFORE INSERT ON t1 FOR EACH ROW DELETE FROM t3' 'CREATE DEFINER=`root`@`localhost` TRIGGER tr12 AFTER INSERT ON t1 FOR EACH ROW DELETE FROM t3' 'CREATE DEFINER=`root`@`localhost` TRIGGER tr13 BEFORE DELETE ON t1 FOR EACH ROW DELETE FROM t1 a USING t1 a' 'CREATE DEFINER=`root`@`localhost` TRIGGER tr14 AFTER DELETE ON t1 FOR EACH ROW DELETE FROM non_existing_table' 'CREATE DEFINER=`root`@`localhost` TRIGGER tr15 BEFORE UPDATE ON t1 FOR EACH ROW DELETE FROM non_existing_table a USING non_existing_table a'
sql_modes=0 0 0 0 0
definers='root@localhost' 'root@localhost' 'root@localhost' 'root@localhost' 'root@localhost'
EOF

TYPE=TRIGGERS
triggers='Not allowed syntax here, and trigger name cant be extracted either.'
sql_modes=0
definers='root@localhost'
EOF

FLUSH TABLE t1"
"CREATE DEFINER=`root`@`localhost` TRIGGER tr11 BEFORE INSERT ON t1 FOR EACH ROW SET @a=1"
"CREATE DEFINER=`root`@`localhost` TRIGGER tr12 AFTER INSERT ON t1 FOR EACH ROW SET @a=1"
"CREATE DEFINER=`root`@`localhost` TRIGGER tr13 BEFORE DELETE ON t1 FOR EACH ROW SET @a=1"
"CREATE DEFINER=`root`@`localhost` TRIGGER tr14 AFTER DELETE ON t1 FOR EACH ROW SET @a=1"
"CREATE DEFINER=`root`@`localhost` TRIGGER tr15 BEFORE UPDATE ON t1 FOR EACH ROW SET @a=1"
"CREATE TRIGGER t1_insert_trigger
BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET NEW.tr1 = connection_id();
SET NEW.tr2 = transaction_id();
END;
"
"DROP FUNCTION transaction_id"
"create trigger t1_bi before insert on t1 for each row
begin
set new.a := upper(new.a);
set new.b := new.b + 3;
end"
"CREATE TRIGGER t1_bd BEFORE DELETE ON t1 FOR EACH ROW SET @a = 1"
"CREATE TRIGGER t1_ad AFTER DELETE ON t1 FOR EACH ROW SET @b = 1"
"create trigger t1_after_insert after
insert on t1 for each row insert into t2 set val=NEW.val"
"CREATE TRIGGER bef_insert BEFORE INSERT ON t2 FOR EACH ROW
BEGIN
DECLARE CONTINUE HANDLER FOR 1062 BEGIN END;
INSERT INTO t3 (id) VALUES (NEW.id);
INSERT INTO t3 (id) VALUES (NEW.id);
END"
"create trigger trg_bug26141_ai after insert on t1
for each row
begin
insert into t2 (c) values (1);
select release_lock(""lock_bug26141_sync"") into @a;
select get_lock(""lock_bug26141_wait"", 1000) into @a;
end"
"create trigger trg_bug26141_au after update on t1
for each row
begin
insert into t3 (c) values (1);
end"
"create trigger trg before insert on t1 for each row set @a:=1"
"create trigger trg before insert on t1 for each row set @a:=new.i"
"create trigger trg before insert on t1 for each row
begin
if isnull(new.j) then
set new.j:= new.i * 10;
end if;
end"
"create trigger trg after insert on t1 for each row
set @a:= if(@a,concat(@a, "":"", new.i), new.i)"
"create trigger trg before update on t1 for each row
begin
declare loc_err varchar(255);
if abs(new.balance - old.balance) > 1000 then
set new.balance:= old.balance;
set loc_err := concat(""Too big change for aid = "", new.aid);
set @update_failed:= if(@update_failed, concat(@a, "":"", loc_err), loc_err);
end if;
end"
"create trigger trg after update on t1 for each row
set @total_change:=@total_change + new.i - old.i"
"create trigger trg before delete on t1 for each row
set @del_sum:= @del_sum + old.i"
"create trigger trg after delete on t1 for each row set @del:= 1"
"create trigger t1_bi before insert on t1 for each row
set @log:= concat(@log, ""(BEFORE_INSERT: new=(id="", new.id, "", data="", new.data,""))"")"
"create trigger t1_ai after insert on t1 for each row
set @log:= concat(@log, ""(AFTER_INSERT: new=(id="", new.id, "", data="", new.data,""))"")"
"create trigger t1_bu before update on t1 for each row
set @log:= concat(@log, ""(BEFORE_UPDATE: old=(id="", old.id, "", data="", old.data,
"") new=(id="", new.id, "", data="", new.data,""))"")"
"create trigger t1_au after update on t1 for each row
set @log:= concat(@log, ""(AFTER_UPDATE: old=(id="", old.id, "", data="", old.data,
"") new=(id="", new.id, "", data="", new.data,""))"")"
"create trigger t1_bd before delete on t1 for each row
set @log:= concat(@log, ""(BEFORE_DELETE: old=(id="", old.id, "", data="", old.data,""))"")"
"create trigger t1_ad after delete on t1 for each row
set @log:= concat(@log, ""(AFTER_DELETE: old=(id="", old.id, "", data="", old.data,""))"")"
"create trigger t1_ai after insert on t1 for each row
insert into t2 values (concat(""INSERT INTO t1 id="", new.id, "" data='"", new.data, ""'""))"
"create trigger t1_bi before insert on t1 for each row
begin
if exists (select id from t3 where id=new.fk) then
insert into t2 values (concat(""INSERT INTO t1 id="", new.id, "" data='"", new.data, ""' fk="", new.fk));
else
insert into t2 values (concat(""INSERT INTO t1 FAILED id="", new.id, "" data='"", new.data, ""' fk="", new.fk));
set new.id= NULL;
end if;
end"
"create trigger t1_bi before insert on t1 for each row
begin
if new.id > f1() then
set new.id:= f1();
end if;
end"
"create trigger t3_ad after delete on t3 for each row
delete from t2 where fk_t3=old.id"
"create trigger t2_ad after delete on t2 for each row
delete from t1 where fk_t2=old.id"
"create trigger t1_bi before insert on t1 for each row
set new.copy= (select data from t2 where id = new.id)"
"create trigger t1_bu before update on t1 for each row
set new.copy= (select data from t2 where id = new.id)"
"create trigger trg2 before insert on t3 for each row set @a:=1"
"create trigger tx1 before insert on t1 for each row set new.x1col = 'x'"
"create trigger trg1 before delete on t1 for each row set @del_before:= @del_before + old.i"
"create trigger trg2 after delete on t1 for each row set @del_after:= @del_after + old.i"
"create trigger trg1 before insert on t1 for each row set new.a= 10"
"create trigger trg1 before insert on t1 for each row set @a:= 1"
"create trigger trg1 before update on t1 for each row set @a:= @a + new.j - old.j"
"create trigger trg2 after update on t1 for each row set @b:= ""Fired"""
"create trigger trg3 before delete on t1 for each row set @c:= @c + old.j"
"create trigger trg4 before delete on t2 for each row set @d:= @d + old.i"
"create trigger trg5 after delete on t1 for each row set @e:= ""After delete t1 fired"""
"create trigger trg6 after delete on t2 for each row set @f:= ""After delete t2 fired"""
"create trigger trg1 before insert on t1 for each row
begin
if new.i = 1 then
set new.j := 1;
end if;
end"
"create trigger trg2 after insert on t1 for each row set @a:= 1"
"create trigger trg1 before insert on t1 for each row set new.k = new.i"
"create trigger trg2 after insert on t1 for each row set @b:= ""Fired"""
"create trigger bi before insert on t1 for each row set @a:= new.bt"
"create trigger bu before update on t1 for each row set @a:= new.bt"
"create trigger bd before delete on t1 for each row set @a:= old.bt"
"create trigger t1_bu before update on t1 for each row set new.col1= bug5893()"
"drop function bug5893"
"create trigger t1_bi before insert on t1 for each row set new.""t1 column"" = 5"
"create trigger t1_af after insert on t1 for each row set @a=10"
"create trigger t1_bi before insert on t1 for each row set new.a = '2004-01-00'"
"create trigger t1_ai after insert on t1 for each row call p1()"
"create procedure p1() reset binary logs and gtids"
"create procedure p1() RESET REPLICA"
"create trigger t1_whoupdated before update on t1 for each row
begin
declare user varchar(32);
declare i int;
select user() into user;
set NEW.username = user;
select count(*) from ((select 1) union (select 2)) as d1 into i;
end"
"create trigger tr1 before insert on t1 for each row
begin
call bug11587(new.c2);
set new.c2= '2004-04-02';
end"
"create trigger t1_ai after insert on t1
for each row insert into t2 values (new.f1+1)"
"create trigger t2_ai after insert on t2
for each row insert into t1 values (new.f2+1)"
"create trigger t1_bu before update on t1
for each row insert into t1 values (2)"
"create trigger t1_bu before update on t1
for each row delete from t1 where f1=new.f1"
"create trigger t1_bi before insert on t1
for each row set new.f1=(select sum(f1) from t1)"
"create trigger t1_trg before insert on t1 for each row set NEW.id:= 1"
"create trigger t1_trg before insert on t1 for each row
insert into t3 values (new.id)"
"create trigger t1_trg before insert on t1 for each row
insert into t3 values (new.id + 100)"
"create trigger t1_trg before update on t1 for each row
insert into t3 values (new.id)"
"create trigger t1_trg before update on t1 for each row
insert into t3 values (new.id + 100)"
"create trigger t1_bi before insert on t1 for each row insert into t2 values (new.id)"
"create trigger t1_bi after insert on t1 for each row insert into t2 values (new.id)"
"create trigger t1_bi after insert on t1 for each row insert into t3 values (new.id)"
"create trigger trg before insert on t1 for each row
begin
declare done int default 0;
set done= not done;
end"
"create trigger t1_bi before insert on t1 for each row set @a:=new.id"
"create trigger t1_ai after insert on test.t1 for each row set @b:=new.id"
"create trigger t1_ai after insert on t1 for each row
set @a:= (select max(a) from t1)"
"create trigger t2_ai after insert on t2 for each row
set @a:= (select max(a) from t2)"
"load data infile '../../std_data/words.dat' into table t1 (a) set b:= f1()"
"create trigger t1_ai after insert on t1 for each row
begin
declare sn numeric(15,2);
select sum(n) into sn from t1 where i=new.i;
replace into t2 values(new.i, sn);
end"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
SET NEW.trigger_conn_id = CONNECTION_ID()"
"CREATE TRIGGER t1_ai AFTER INSERT ON t1 FOR EACH ROW
SET @x = 5/0"
"CREATE TRIGGER t1_au AFTER UPDATE ON t1 FOR EACH ROW
SET @x = 5/0"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
CALL p1(NEW.i1);
CALL p2(NEW.i1);
END"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
CALL p1(OLD.i1)"
"CREATE TRIGGER t1_au AFTER UPDATE ON t1 FOR EACH ROW
CALL p1(NEW.i1)"
"create trigger t4_bi before insert on t4 for each row set @t4_bi_called:=1"
"create trigger t4_bu before update on t4 for each row set @t4_bu_called:=1"
"create trigger t1_bi before insert on t1 for each row set @a:=1/0"
"create trigger t1_bi before insert on t1 for each row
begin
insert into t2 values (new.id, new.v);
update t2 set v=v+1 where id= new.id;
replace t3 values (new.id, 0);
update t2, t3 set t2.v=new.v, t3.v=new.v where t2.id=t3.id;
create temporary table t5 select * from t1;
delete from t5;
insert into t5 select * from t1;
insert into t4 values (0);
set @check= (select count(*) from t5);
update t4 set c= @check;
drop temporary table t5;

set @a:=1/0;
end"
"set @check=0, @t4_bi_called=0, @t4_bu_called=0"
"select @check, @t4_bi_called, @t4_bu_called"
"create trigger t1_bu before update on t1 for each row
set new.j = new.j + 10"
"CREATE TRIGGER trg_t1 BEFORE DELETE on t1 FOR EACH ROW
INSERT INTO t2 VALUES (OLD.a)"
"create trigger t1_bi before insert on t1 for each row set @a:= f1() + 10"
"create trigger t1_bi before insert on t1
for each row set NEW.b := ""In trigger t1_bi"""
"CREATE TRIGGER trgA AFTER INSERT ON bug21825_A
FOR EACH ROW
BEGIN
INSERT INTO bug21825_B (id) values (1);
END"
"CREATE TRIGGER t1bu BEFORE UPDATE ON bug22580_t1
FOR EACH ROW
BEGIN
CALL bug22580_proc_1();
END"
"CREATE TRIGGER trg27006_a_insert AFTER INSERT ON t1 FOR EACH ROW
BEGIN
insert into t2 values (NULL,new.val);
END "
"CREATE TRIGGER trg27006_a_update AFTER UPDATE ON t1 FOR EACH ROW
BEGIN
insert into t2 values (NULL,new.val);
END "
"create trigger t1_bi before insert on t1 for each row set new.i = 7"
"create trigger t1_ai after insert on t1 for each row set @a := 7"
"create trigger t1_bi before insert on t1 for each row insert into t3 values (new.i)"
"create table t1 (id int, count int)"
"create trigger trg_bug28502_au before update on t2
for each row
begin
if (new.id is not null) then
update t1 set count= count + 1 where id = old.id;
end if;
end"
"insert into t1 (id, count) values (1, 0)"
"create trigger trg_bug28502_bi before insert on t1
for each row
insert into t1_op_log (operation)
values (concat(""Before INSERT, new="", new.operation))"
"create trigger trg_bug28502_ai after insert on t1
for each row
insert into t1_op_log (operation)
values (concat(""After INSERT, new="", new.operation))"
"create trigger trg_bug28502_bu before update on t1
for each row
insert into t1_op_log (operation)
values (concat(""Before UPDATE, new="", new.operation,
"", old="", old.operation))"
"create trigger trg_bug28502_au after update on t1
for each row
insert into t1_op_log (operation)
values (concat(""After UPDATE, new="", new.operation,
"", old="", old.operation))"
"create trigger trg_bug28502_bd before delete on t1
for each row
insert into t1_op_log (operation)
values (concat(""Before DELETE, old="", old.operation))"
"create trigger trg_bug28502_ad after delete on t1
for each row
insert into t1_op_log (operation)
values (concat(""After DELETE, old="", old.operation))"
"create trigger t1_bi before insert on t1 for each row insert into t2 values (0)"
"create trigger t1_bd before delete on t1 for each row delete from t2"
"create trigger trg_25411a_ai after insert on table_25411_a
for each row
insert into table_25411_b select new.*"
"create trigger t1_bi before insert on t1 for each row begin end"
"create trigger b1_bi before insert on t1 for each row set new.i = new.i + 10"
"create trigger trg1 after update on t1 for each row set @a= @a+1"
"create trigger trg2 after update on t2 for each row set @b= @b+1"
"CREATE TRIGGER tr1
BEFORE INSERT ON t2
FOR EACH ROW
BEGIN
UPDATE a_nonextisting_table SET a = 1;
END"
"CREATE TRIGGER trg1 AFTER INSERT ON t2
FOR EACH ROW BEGIN
SELECT 1 FROM t1 c WHERE
(@bug51650 IS NULL OR @bug51650 != c.b) AND c.b = NEW.a LIMIT 1 INTO @foo;
END"
"CREATE TRIGGER trg1 BEFORE INSERT ON t2 FOR EACH ROW INSERT/*!INTO*/t1 VALUES (1)"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 VALUES (0)"
"CREATE TRIGGER t1_bd BEFORE DELETE ON t1 FOR EACH ROW DELETE FROM t2"
"CREATE TRIGGER trg1 BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
DECLARE a CHAR;
SELECT 'ab' INTO a;
SELECT 'ab' INTO a;
SELECT 'a' INTO a;
END"
"CREATE TRIGGER trg1 BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
DECLARE trg1 CHAR;
SELECT 'ab' INTO trg1;
END"
"CREATE TRIGGER trg2 AFTER INSERT ON t1 FOR EACH ROW
BEGIN
DECLARE trg2 CHAR;
SELECT 'ab' INTO trg2;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
DECLARE v TEXT;
SET v = 'aaa';
SET NEW.c = v;
END"
"CREATE TRIGGER t2_ai AFTER INSERT ON t2 FOR EACH ROW
UPDATE t3 ms, t1 d SET ms.value='No'
WHERE ms.domain_id =
(SELECT max(id) FROM t1 WHERE domain='example.com')
AND ms.mailaccount_id IS NULL
AND ms.program='spamfilter'
AND ms.keey='scan_incoming';
"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
CREATE TEMPORARY TABLE t2 AS SELECT NEW.a, NEW.b;
INSERT INTO t2(a) VALUES (10);
INSERT INTO t2 VALUES (100, 500);
INSERT INTO t2(a) VALUES (1000);
END
"
"CREATE USER 'u1'@'localhost' IDENTIFIED BY 'pass'"
"CREATE TRIGGER trigger1 BEFORE INSERT ON t1 FOR EACH ROW
SET NEW.id= (SELECT * FROM t2)"
"CREATE TRIGGER post_update_t1 AFTER UPDATE ON t1
FOR EACH ROW BEGIN
INSERT INTO t2 VALUES(""POST UPDATE TRIGGER FOR UPDATE IGNORE ON t1 FIRED"");
END"
"CREATE USER user_name_robert_golebiowski@oh_my_gosh_this_is_a_long_hostname_look_at_it_it_has_60_char"
"CREATE DEFINER=user_name_robert_golebiowski@oh_my_gosh_this_is_a_long_hostname_look_at_it_it_has_60_char TRIGGER test.silly_trigger BEFORE INSERT ON test.silly_one FOR EACH ROW SET @x=1"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1a BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1b AFTER INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1c BEFORE UPDATE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1d AFTER UPDATE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1e BEFORE DELETE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1f AFTER DELETE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1a2 BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1b2 AFTER INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1c2 BEFORE UPDATE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1d2 AFTER UPDATE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1f2 AFTER DELETE ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER trg1a0 BEFORE INSERT ON t1 FOR EACH ROW PRECEDES trg1a BEGIN END"
"CREATE TRIGGER trg1a3 BEFORE INSERT ON t1 FOR EACH ROW FOLLOWS trg1a2 BEGIN END"
"CREATE TRIGGER trg1b0 AFTER INSERT ON t1 FOR EACH ROW PRECEDES trg1b BEGIN END"
"CREATE TRIGGER trg1b3 AFTER INSERT ON t1 FOR EACH ROW FOLLOWS trg1b2 BEGIN END"
"CREATE TRIGGER trg1c0 BEFORE UPDATE ON t1 FOR EACH ROW PRECEDES trg1c BEGIN END"
"CREATE TRIGGER trg1c3 BEFORE UPDATE ON t1 FOR EACH ROW FOLLOWS trg1c2 BEGIN END"
"CREATE TRIGGER trg1 BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"GRANT INSERT, DROP ON mysqltest_db1.t1 TO mysqltest_dfn@localhost"
"GRANT INSERT, DROP ON mysqltest_db1.t2 TO mysqltest_dfn@localhost"
"GRANT TRIGGER ON mysqltest_db1.t1 TO mysqltest_dfn@localhost"
"CREATE TRIGGER trg1 AFTER INSERT ON t1
FOR EACH ROW
INSERT INTO t2 VALUES(CURRENT_USER())"
"REVOKE TRIGGER ON mysqltest_db1.t1 FROM mysqltest_dfn@localhost"
"GRANT ALL PRIVILEGES ON mysqltest_db1.t1 TO mysqltest_dfn@localhost"
"GRANT ALL PRIVILEGES ON mysqltest_db1.t2 TO mysqltest_dfn@localhost"
"GRANT ALL PRIVILEGES ON mysqltest_db1.t1
TO 'mysqltest_inv'@localhost"
"GRANT SELECT ON mysqltest_db1.t2
TO 'mysqltest_inv'@localhost"
"REVOKE INSERT ON mysqltest_db1.t2 FROM mysqltest_dfn@localhost"
"CREATE DEFINER='mysqltest_inv'@'localhost'
TRIGGER trg1 BEFORE INSERT ON t1
FOR EACH ROW
SET @new_sum = 0"
"CREATE DEFINER='mysqltest_nonexs'@'localhost'
TRIGGER trg2 AFTER INSERT ON t1
FOR EACH ROW
SET @new_sum = 0"
"CREATE TRIGGER t1_trg_after_delete AFTER DELETE ON t1
FOR EACH ROW
SET @mysqltest_var = 'Hello, world!'"
"GRANT UPDATE ON mysqltest_db1.t2 TO mysqltest_u1@localhost"
"GRANT UPDATE(col) ON mysqltest_db1.t3 TO mysqltest_u1@localhost"
"GRANT UPDATE(col) ON mysqltest_db1.t4 TO mysqltest_u1@localhost"
"CREATE TRIGGER t1_trg_err_1 BEFORE INSERT ON t1
FOR EACH ROW
SET @mysqltest_var = NEW.col"
"CREATE TRIGGER t1_trg_err_2 BEFORE DELETE ON t1
FOR EACH ROW
SET @mysqltest_var = OLD.col"
"CREATE TRIGGER t2_trg_before_insert BEFORE INSERT ON t2
FOR EACH ROW
SET NEW.col = 't2_trg_before_insert'"
"CREATE TRIGGER t3_trg_err_1 BEFORE INSERT ON t3
FOR EACH ROW
SET @mysqltest_var = NEW.col"
"CREATE TRIGGER t3_trg_err_2 BEFORE DELETE ON t3
FOR EACH ROW
SET @mysqltest_var = OLD.col"
"CREATE TRIGGER t4_trg_before_insert BEFORE INSERT ON t4
FOR EACH ROW
SET NEW.col = 't4_trg_before_insert'"
"REVOKE UPDATE ON mysqltest_db1.t1 FROM mysqltest_u1@localhost"
"REVOKE UPDATE ON mysqltest_db1.t2 FROM mysqltest_u1@localhost"
"GRANT SELECT ON mysqltest_db1.t2 TO mysqltest_u1@localhost"
"REVOKE UPDATE(col) ON mysqltest_db1.t3 FROM mysqltest_u1@localhost"
"REVOKE UPDATE(col) ON mysqltest_db1.t4 FROM mysqltest_u1@localhost"
"GRANT SELECT(col) on mysqltest_db1.t3 TO mysqltest_u1@localhost"
"GRANT SELECT(col) on mysqltest_db1.t4 TO mysqltest_u1@localhost"
"CREATE TRIGGER t1_trg_after_insert AFTER INSERT ON t1
FOR EACH ROW
SET @mysqltest_var = NEW.col"
"CREATE TRIGGER t1_trg_after_update AFTER UPDATE ON t1
FOR EACH ROW
SET @mysqltest_var = OLD.col"
"CREATE TRIGGER t2_trg_err_1 BEFORE UPDATE ON t2
FOR EACH ROW
SET NEW.col = 't2_trg_err_1'"
"CREATE TRIGGER t2_trg_err_2 BEFORE UPDATE ON t2
FOR EACH ROW
SET NEW.col = CONCAT(OLD.col, '(updated)')"
"CREATE TRIGGER t3_trg_after_insert AFTER INSERT ON t3
FOR EACH ROW
SET @mysqltest_var = NEW.col"
"CREATE TRIGGER t3_trg_after_update AFTER UPDATE ON t3
FOR EACH ROW
SET @mysqltest_var = OLD.col"
"CREATE TRIGGER t4_trg_err_1 BEFORE UPDATE ON t4
FOR EACH ROW
SET NEW.col = 't4_trg_err_1'"
"CREATE TRIGGER t4_trg_err_2 BEFORE UPDATE ON t4
FOR EACH ROW
SET NEW.col = CONCAT(OLD.col, '(updated)')"
"REVOKE SELECT ON mysqltest_db1.t1 FROM mysqltest_u1@localhost"
"REVOKE SELECT ON mysqltest_db1.t2 FROM mysqltest_u1@localhost"
"REVOKE SELECT(col) ON mysqltest_db1.t3 FROM mysqltest_u1@localhost"
"REVOKE SELECT(col) ON mysqltest_db1.t4 FROM mysqltest_u1@localhost"
"GRANT SELECT(col) ON mysqltest_db1.t3 TO mysqltest_u1@localhost"
"GRANT SELECT(col) ON mysqltest_db1.t4 TO mysqltest_u1@localhost"
"GRANT EXECUTE, CREATE ROUTINE, TRIGGER ON *.* TO mysqltest_dfn@localhost"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
CALL p1(NEW.i1)"
"CREATE TRIGGER t2_bi BEFORE INSERT ON t2 FOR EACH ROW
CALL p2(NEW.i1)"
"CREATE TRIGGER db1.trg AFTER INSERT ON db1.t1 FOR EACH ROW
INSERT INTO db1.t1 VALUES('Some very sensitive data goes here')"
"CREATE USER 'no_rights'@'localhost'"
"REVOKE ALL ON *.* FROM 'no_rights'@'localhost'"
"CREATE TRIGGER mysqltest_db1.upd_t1
BEFORE UPDATE ON t1 FOR EACH ROW SET new.a2 = 200"
"CREATE DEFINER=user_name_len_32_012345678901234@localhost
TRIGGER test1.t1_ai AFTER INSERT ON test1.t1 FOR EACH ROW SET @a = (SELECT COUNT(*) FROM test1.t1)"
"GRANT INSERT ON test1.t1 TO user_name_len_22_01234@localhost"
"CREATE TRIGGER trigger_for_normal_insert BEFORE INSERT ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER trigger_for_insert_select BEFORE INSERT ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER trigger_for_normal_replace BEFORE INSERT ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER trigger_for_replace_select BEFORE INSERT ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER trigger_before_update BEFORE UPDATE ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER trigger_before_update_with_join BEFORE UPDATE ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER trigger_for_load_infile BEFORE INSERT ON t1 FOR EACH ROW
SET @x:= NEW.a"
"CREATE TRIGGER update_after_update
AFTER UPDATE ON t2 FOR EACH ROW
BEGIN
UPDATE t1 SET t1.fld2 = t1.fld2 + 1
WHERE t1.fld1 = NEW.fld1;
END"
"CREATE TRIGGER update_before_update
BEFORE UPDATE ON t2 FOR EACH ROW
BEGIN
UPDATE t1 SET t1.fld2 = t1.fld2 + 1
WHERE t1.fld1 = NEW.fld1;
END"
"CREATE TRIGGER t1_before_insert BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO
t3 VALUES (1, NEW.i, NULL, CONCAT(""BI: "", NEW.j))"
"CREATE TRIGGER cafe BEFORE INSERT ON t1 FOR EACH ROW SET @sum= @sum + NEW.f1"
"SHOW CREATE TRIGGER cAfÃ©"
"DROP TRIGGER CaFÃ©"
"SHOW CREATE TRIGGER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"DROP TRIGGER Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð¾Ñ‡ÐµÐ½ÑŒ_Ð´Ð»Ð¸Ð½Ð½Ð°Ñ_ÑÑ‚Ñ€Ð¾ÐºÐ°_Ã©"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW SET NEW.a = 1"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW SET NEW.a = NULL"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW SET NEW.a = 999"
"CREATE TRIGGER t3_bu BEFORE UPDATE ON t3 FOR EACH ROW SET NEW.a = 999"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW SET NEW.a = NULL"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET NEW.b = NEW.a;
SET NEW.a = 1;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET NEW.a = 99;
SET NEW.b = NEW.a;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET NEW.a = NULL;
SET NEW.b = NEW.a;
SET NEW.a = 99;
END"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
SET NEW.a = NULL;
SET NEW.b = NEW.a;
SET NEW.a = 199;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET NEW.a_new_is_null = NEW.a IS NULL;
SET NEW.a = 99;
END"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
BEGIN
SET NEW.a_new_is_null = NEW.a IS NULL;
SET NEW.a_old_is_null = OLD.a IS NULL;

SET NEW.b_new_is_null = NEW.b IS NULL;
SET NEW.b_old_is_null = OLD.b IS NULL;

SET NEW.a = 99;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
SET NEW.b = NULL"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET NEW.b = NEW.a;
IF NEW.b IS NULL THEN
SET NEW.b = 1;
END IF;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
IF (MOD(NEW.a, 2) = 0) THEN
SET NEW.b = NEW.a - 1;
END IF;
END"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
SET NEW.a = 1"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
SET NEW.a = 2"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
IF NEW.b IS NULL THEN
SET NEW.b = '123';
END IF;
END "
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
UPDATE t1 SET a1 = 1 WHERE a1 IS NULL"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
UPDATE t1 SET a1 = 1"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
SET NEW.a1 = IFNULL(NEW.a1, 10);
SET NEW.a2 = IFNULL(NEW.a2, 20);
END;
"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
BEGIN
SET NEW.a1 = COALESCE(NEW.a1, 5);
SET NEW.a2 = COALESCE(NEW.a2, 7);
END;
"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = 2"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = 1"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = '2012-03-03', NEW.a2 = '2001-01-01 09:01:00'"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = 'MySQL' , NEW.a2 = 'Includes testing of MySQL'"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = '0x41', NEW.a2 = '0x42'"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1
FOR EACH ROW
SET NEW.a1 = 2"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = NULL"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = NULL , NEW.a2 = NULL , NEW.a3 = NULL"
"CREATE TRIGGER t1_bi BEFORE INSERT ON t1
FOR EACH ROW
SET NEW.a1 = NULL , NEW.a2 = NULL"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1
FOR EACH ROW
SET NEW.a1 = NULL"
"CREATE TRIGGER t1_trg_after_del AFTER DELETE ON t1 FOR EACH ROW SET @a := 1"
"CREATE TRIGGER t1_trg_before_ins BEFORE INSERT ON t1 FOR EACH ROW SET NEW.a=2"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1
FOR EACH ROW
SET NEW.a1 = 10"
"CREATE TRIGGER t2_bu BEFORE UPDATE ON t2
FOR EACH ROW
SET NEW.a1 = 20"
"CREATE TRIGGER trg_bi BEFORE INSERT ON th1
FOR EACH ROW
BEGIN
INSERT IGNORE INTO th2 SELECT 1 FROM th1
WHERE MATCH(a) AGAINST ( 'test'   IN BOOLEAN MODE);
END "
"CREATE TRIGGER trigger_1 BEFORE INSERT ON t1 FOR EACH ROW BEGIN END"
"CREATE TRIGGER tr1_bi BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a)"
"CREATE TRIGGER tr2_bi BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a + 100)"
"CREATE TRIGGER tr1_bi AFTER INSERT ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a)"
"CREATE TRIGGER tr2_bi AFTER INSERT ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a + 100)"
"CREATE TRIGGER tr1_bu BEFORE UPDATE ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a)"
"CREATE TRIGGER tr2_bu BEFORE UPDATE ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a + 300)"
"CREATE TRIGGER tr1_bi BEFORE INSERT ON t1 FOR EACH ROW SET @a:=1"
"CREATE TRIGGER tr2_bi BEFORE INSERT ON t1 FOR EACH ROW SET @a:=2"
"CREATE TRIGGER tr1_bi BEFORE INSERT ON t1 FOR EACH ROW SET @a:=2"
"CREATE TRIGGER tr1_bi BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a + 100)"
"CREATE TRIGGER tr3_bi BEFORE INSERT ON t1 FOR EACH ROW INSERT INTO t2 (a) VALUES (NEW.a + 300)"
"CREATE TRIGGER tr2_bi BEFORE INSERT ON t1 FOR EACH ROW FOLLOWS tr1_bi INSERT INTO t2 (a) VALUES (NEW.a + 200)"
"CREATE TRIGGER tr2_bi BEFORE INSERT ON t1 FOR EACH ROW PRECEDES tr3_bi INSERT INTO t2 (a) VALUES (NEW.a + 200)"
"CREATE TRIGGER tr0_bi BEFORE INSERT ON t1 FOR EACH ROW PRECEDES tr1_bi INSERT INTO t2 (a) VALUES (NEW.a)"
"CREATE TRIGGER tr3_bi BEFORE INSERT ON t1 FOR EACH ROW SET @a:=3"
"CREATE TRIGGER tr1_bu BEFORE UPDATE ON t1 FOR EACH ROW SET @a:=3"
"CREATE TRIGGER tr3_bi BEFORE INSERT ON t1 FOR EACH ROW FOLLOWS tr2_bi SET @a:=3"
"CREATE TRIGGER tr2_bu BEFORE UPDATE ON t1 FOR EACH ROW FOLLOWS tr1_bu SET @a:=3"
"CREATE TRIGGER tr0_bi BEFORE INSERT ON t1 FOR EACH ROW PRECEDES tr1_bi SET @a:=0"
"CREATE TRIGGER tr1_1_bi BEFORE INSERT ON t1 FOR EACH ROW FOLLOWS tr1_bi SET @a:=0"
"create trigger ai after insert on t1 for each row set @a:= new.at"
"create trigger au after update on t1 for each row set @a:= new.at"
"create trigger ad after delete on t1 for each row set @a:= old.at"
"CREATE TRIGGER t1_test AFTER INSERT ON t1 FOR EACH ROW
INSERT INTO t2 VALUES (new.id)"
"CONNECT (rl_holder,    localhost, root,,)"
"CONNECT (rl_acquirer,  localhost, root,,)"
"CONNECT (wl_acquirer,  localhost, root,,)"
"CONNECT (rl_contender, localhost, root,,)"
"CONNECTION rl_holder"
"CONNECTION rl_acquirer"
"CONNECTION wl_acquirer"
"CONNECTION rl_contender"
"DISCONNECT rl_acquirer"
"DISCONNECT wl_acquirer"
"DISCONNECT rl_contender"
"DISCONNECT rl_holder"
"CREATE TRIGGER t1_bu BEFORE UPDATE ON t1 FOR EACH ROW
INSERT INTO t2 VALUES (3)"
"CREATE TABLE t1(a INT, b TEXT, KEY (a)) SECONDARY_ENGINE=MOCK"
"INSERT INTO parents VALUES (X'93222796caba43ca979f5c96eb6898b7')"
"SELECT foos.text
FROM foos
JOIN parents ON parents.id = foos.parent_id
JOIN bars ON bars.parent_id = parents.id
WHERE bars.parent_id = X'93222796caba43ca979f5c96eb6898b7'"
"insert into t1 values
(b'1111111111111111111111111111111111111111111111111111111111111111'),
(b'1000000000000000000000000000000000000000000000000000000000000000'),
(b'0000000000000000000000000000000000000000000000000000000000000001'),
(b'1010101010101010101010101010101010101010101010101010101010101010'),
(b'0101010101010101010101010101010101010101010101010101010101010101')"
"insert ignore into t1 values (b'0'), (b'1'), (b'000'), (b'100'), (b'001')"
"insert ignore into t1 values (b'00'), (b'01'), (b'10'), (b'100')"
"INSERT INTO t1 VALUES
(b'1111111111111111111111111111111111111111111111111111111111111111')"
"SELECT HEX(a) FROM t1 WHERE a =
b'1111111111111111111111111111111111111111111111111111111111111111'"
"insert into t1 values (b'0'), (b'1'), (b'000'), (b'100'), (b'001')"
"insert into t1 values (b'00'), (b'01'), (b'10'), (b'100')"
"INSERT INTO t1 VALUES (b'', b'')"
"insert into t1bit7 values (b'1100000')"
"insert into t1bit7 values (b'1100001')"
"insert into t1bit7 values (b'1100010')"
"insert into t2bit7 values (b'1100001')"
"insert into t2bit7 values (b'1100010')"
"insert into t2bit7 values (b'1100110')"
"insert into t1bit7 values (b'110000011111111')"
"insert into t1bit7 values (b'110000111111111')"
"insert into t1bit7 values (b'110001011111111')"
"insert into t2bit7 values (b'110000111111111')"
"insert into t2bit7 values (b'110001011111111')"
"insert into t2bit7 values (b'110011011111111')"
"INSERT INTO t1 VALUES (b'')"
"SELECT * FROM t2 EXCEPT SELECT * FROM t3"
"SELECT * FROM t3 EXCEPT SELECT * FROM t2"
"INSERT INTO t1 VALUES (TIMESTAMP'2001-01-01 23:59:59.4')"
"INSERT INTO t1 VALUES (TIME'23:59:59.4')"
"INSERT INTO t1 VALUES
(TIMESTAMP'9999-12-30 23:59:59.4'),
(TIMESTAMP'9999-12-31 23:59:59.4')"
"INSERT INTO t1 VALUES (TIMESTAMP'2001-01-01 23:59:59.9')"
"INSERT INTO t1 VALUES (TIME'23:59:59.9')"
"SELECT CAST(CASE WHEN 0 THEN DATE'2001-01-01' END AS DATE)"
"SELECT * FROM t1 WHERE a NOT IN (DATE'2001-01-01',DATE'2002-02-02')"
"SELECT * FROM t WHERE a = DATE'2023-01-01'"
"SELECT * FROM t WHERE a = b and b = DATE'2023-01-01'"
"INSERT INTO t1 VALUES
(1, TIME'08:00:00', TIME'12:00:00', TIMESTAMP'2020-01-01 00:00:00'),
(2, TIME'12:00:00', TIME'12:00:00', TIMESTAMP'2020-01-01 00:00:00'),
(3, TIME'16:00:00', TIME'12:00:00', TIMESTAMP'2020-01-01 00:00:00')"
"SELECT * FROM t WHERE a = TIMESTAMP'2023-01-01 01:02:03'"
"SELECT * FROM t WHERE a = b and b = TIMESTAMP'2023-01-01 01:02:03'"
"SELECT 1 < ALL(VALUES ROW(2),ROW(CAST(3 AS DECIMAL))) FROM DUAL"
"SELECT 1 < ALL(VALUES ROW(2),ROW(3.0)) FROM DUAL"
"show function status"
"SELECT LEAD(e) OVER () FROM t GROUP BY ROLLUP(e) EXCEPT SELECT 1"
"SELECT LEAST(e, NULL) FROM t GROUP BY ROLLUP(e) EXCEPT SELECT 1"
"SELECT GREATEST(e, NULL) FROM t GROUP BY ROLLUP(e) EXCEPT SELECT 1"
"SELECT IF(e='a', e, NULL) FROM t GROUP BY ROLLUP(e) EXCEPT SELECT 1"
"SELECT COALESCE(e, NULL) FROM t GROUP BY ROLLUP(e) EXCEPT SELECT 1"
"SELECT 10,10.0,10.,.1e+2,100.0e-1"
"SELECT 1e1,1.e1,1.0e1,1e+1,1.e+1,1.0e+1,1e-1,1.e-1,1.0e-1"
"create table t1 (c nchar varchar(10))"
"create table t1 (c national character varying(10))"
"create table t1 (c nchar varying(10))"
"SET @decimal= 1.1"
"CREATE TABLE t1 SELECT @decimal AS c1"
"SELECT AVG(DISTINCT a) FROM t1"
"SELECT a FROM t1 GROUP BY 1 IN(1) INTO @b"
"INSERT INTO t1 VALUES (TIME'01:59:59.499999')"
"INSERT INTO t1 VALUES (TIME'01:59:59.500000')"
"INSERT INTO t1 VALUES (TIME'01:02:03.123')"
"SELECT * FROM t1 WHERE a BETWEEN TIME'01:02:03.456' AND TIME'01:02:03.45678'"
"CREATE TABLE t2 AS SELECT
t0 + 1, t3 + 1, t6 + 1,
t0 - 1, t3 - 1, t6 - 1,
t0 * 1, t3 * 1, t6 * 1,
t0 / 1, t3 / 1, t6 / 1,
TIME'10:10:10' + 1,
TIME'10:10:10.123' + 1,
TIME'10:10:10.123456' + 1,
TIME'10:10:10' - 1,
TIME'10:10:10.123' - 1,
TIME'10:10:10.123456' - 1,
TIME'10:10:10' * 1,
TIME'10:10:10.123' * 1,
TIME'10:10:10.123456' * 1,
TIME'10:10:10' / 1,
TIME'10:10:10.123' / 1,
TIME'10:10:10.123456' / 1
FROM t1"
"CREATE TABLE t1 (s1 TIME(6))
PARTITION BY RANGE COLUMNS (s1)
(PARTITION p1 VALUES LESS THAN (TIME'01:01:01.000001'))"
"CREATE TABLE t1 AS SELECT
TIME(101),
TIME(101.1),
TIME(101.12),
TIME(101.123),
TIME(101.1234),
TIME(101.12345),
TIME(101.123456),
TIME('00:01:01'),
TIME('00:01:01.1'),
TIME('00:01:01.12'),
TIME('00:01:01.123'),
TIME('00:01:01.1234'),
TIME('00:01:01.12345'),
TIME('00:01:01.123456'),
TIME(CONCAT('00:01:01', '')),
TIME(CONCAT('00:01:01', '.1')),
TIME(CONCAT('00:01:01', '.12')),
TIME(CONCAT('00:01:01', '.123')),
TIME(CONCAT('00:01:01', '.1234')),
TIME(CONCAT('00:01:01', '.12345')),
TIME(CONCAT('00:01:01', '.123456')),
TIME(TIME'00:01:01'),
TIME(TIME'00:01:01.1'),
TIME(TIME'00:01:01.12'),
TIME(TIME'00:01:01.123'),
TIME(TIME'00:01:01.1234'),
TIME(TIME'00:01:01.12345'),
TIME(TIME'00:01:01.123456'),
TIME(TIMESTAMP('2001-01-01 00:00:00')),
TIME(TIMESTAMP('2001-01-01 00:00:00.1')),
TIME(TIMESTAMP('2001-01-01 00:00:00.12')),
TIME(TIMESTAMP('2001-01-01 00:00:00.123')),
TIME(TIMESTAMP('2001-01-01 00:00:00.1234')),
TIME(TIMESTAMP('2001-01-01 00:00:00.12345')),
TIME(TIMESTAMP('2001-01-01 00:00:00.123456'))"
"CREATE PROCEDURE p1 ()
BEGIN
DECLARE a TIME(6)"
"END//
SHOW CREATE PROCEDURE p1//
CALL p1//
DROP PROCEDURE p1//
CREATE PROCEDURE p1 (a TIME(6))
BEGIN
SELECT a"
"END//
SHOW CREATE PROCEDURE p1//
CALL p1(112233)//
CALL p1(112233.123)//
CALL p1(112233.123e0)//
CALL p1('11:22:33.123')//
DROP PROCEDURE p1//
CREATE PROCEDURE p1()
BEGIN
DECLARE a TIME(6)"
"END//
SHOW CREATE FUNCTION p1//
SELECT p1(112233.123)//
DROP FUNCTION p1//
DELIMITER "
"//


CREATE TABLE t1 (a TIME(6))"
"SELECT DATE_ADD(TIME'00:00:00.0', INTERVAL 10.1 SECOND)"
"SELECT DATE_ADD(TIME'00:00:00.0', INTERVAL 10000000.1 SECOND)"
"SELECT DATE_ADD(TIME'00:00:00.0', INTERVAL 100000000000000000.1 SECOND)"
"SELECT DATE_ADD(TIME'00:00:00.0', INTERVAL 1000000000000000000000.1 SECOND)"
"CREATE TABLE t1 AS SELECT
DATE_ADD(TIME'00:00:00', INTERVAL 1 SECOND) AS t0s0,
DATE_ADD(TIME'00:00:00', INTERVAL 1.1 SECOND) AS t0s1,
DATE_ADD(TIME'00:00:00', INTERVAL 1.12 SECOND) AS t0s2,
DATE_ADD(TIME'00:00:00', INTERVAL 1.123 SECOND) AS t0s3,
DATE_ADD(TIME'00:00:00', INTERVAL 1.1234 SECOND) AS t0s4,
DATE_ADD(TIME'00:00:00', INTERVAL 1.12345 SECOND) AS t0s5,
DATE_ADD(TIME'00:00:00', INTERVAL 1.123456 SECOND) AS t0s6,
DATE_ADD(TIME'00:00:00.1', INTERVAL 1 SECOND) AS t1s0,
DATE_ADD(TIME'00:00:00.12', INTERVAL 1 SECOND) AS t2s0,
DATE_ADD(TIME'00:00:00.123', INTERVAL 1 SECOND) AS t3s0,
DATE_ADD(TIME'00:00:00.1234', INTERVAL 1 SECOND) AS t4s0,
DATE_ADD(TIME'00:00:00.12345', INTERVAL 1 SECOND) AS t5s0,
DATE_ADD(TIME'00:00:00.123456', INTERVAL 1 SECOND) AS t6s0,
DATE_ADD(TIME'00:00:00', INTERVAL 1 MICROSECOND) AS t0ms"
"SELECT * FROM t1 WHERE a BETWEEN TIMESTAMP'2000-01-01 01:02:03.456' AND TIMESTAMP'2000-01-01 01:02:03.45678'"
"INSERT INTO t1 VALUES (TIME'08:00:00.123456'), (TIME'240:00:00.000001')"
"INSERT INTO t1 VALUES (TIME'-10:00:00.000001'), (TIME'-240:00:00.000001')"
"CREATE TABLE t2 AS SELECT
t0 + 1, t3 + 1, t6 + 1,
t0 - 1, t3 - 1, t6 - 1,
t0 * 1, t3 * 1, t6 * 1,
t0 / 1, t3 / 1, t6 / 1,
TIMESTAMP'2001-01-01 10:10:10' + 1,
TIMESTAMP'2001-01-01 10:10:10.123' + 1,
TIMESTAMP'2001-01-01 10:10:10.123456' + 1,
TIMESTAMP'2001-01-01 10:10:10' - 1,
TIMESTAMP'2001-01-01 10:10:10.123' - 1,
TIMESTAMP'2001-01-01 10:10:10.123456' - 1,
TIMESTAMP'2001-01-01 10:10:10' * 1,
TIMESTAMP'2001-01-01 10:10:10.123' * 1,
TIMESTAMP'2001-01-01 10:10:10.123456' * 1,
TIMESTAMP'2001-01-01 10:10:10' / 1,
TIMESTAMP'2001-01-01 10:10:10.123' / 1,
TIMESTAMP'2001-01-01 10:10:10.123456' / 1
FROM t1"
"CREATE TABLE t1 AS SELECT
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1 SECOND) AS t0s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1.1 SECOND) AS t0s1,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1.12 SECOND) AS t0s2,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1.123 SECOND) AS t0s3,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1.1234 SECOND) AS t0s4,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1.12345 SECOND) AS t0s5,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1.123456 SECOND) AS t0s6,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00.1', INTERVAL 1 SECOND) AS t1s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00.12', INTERVAL 1 SECOND) AS t2s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00.123', INTERVAL 1 SECOND) AS t3s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00.1234', INTERVAL 1 SECOND) AS t4s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00.12345', INTERVAL 1 SECOND) AS t5s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00.123456', INTERVAL 1 SECOND) AS t6s0,
DATE_ADD(TIMESTAMP'2001-01-01 00:00:00', INTERVAL 1 MICROSECOND) AS t0ms"
"SELECT * FROM t1 WHERE a=TIME'10:50:50.123'"
"SELECT * FROM t1 WHERE TIME'10:50:50.123'=a"
"SELECT * FROM t1 WHERE a BETWEEN TIME'10:50:50.120' AND TIME'10:50:50.123'"
"SELECT * FROM t1 WHERE a BETWEEN TIMESTAMP'2010-01-01 10:50:50.120' AND TIME'10:50:50.123'"
"SELECT * FROM t1 WHERE a BETWEEN TIME'10:50:50.120' AND TIMESTAMP'2010-01-01 10:50:50.123'"
"CREATE TABLE t1 AS SELECT
TIMESTAMP(20010101101010),
TIMESTAMP(20010101101010.1),
TIMESTAMP(20010101101010.12),
TIMESTAMP(20010101101010.123),
TIMESTAMP(20010101101010.1234),
TIMESTAMP(20010101101010.12345),
TIMESTAMP(20010101101010.123456),
TIMESTAMP('2001-01-01 00:01:01'),
TIMESTAMP('2001-01-01 00:01:01.1'),
TIMESTAMP('2001-01-01 00:01:01.12'),
TIMESTAMP('2001-01-01 00:01:01.123'),
TIMESTAMP('2001-01-01 00:01:01.1234'),
TIMESTAMP('2001-01-01 00:01:01.12345'),
TIMESTAMP('2001-01-01 00:01:01.123456'),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','')),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','.1')),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','.12')),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','.123')),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','.1234')),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','.12345')),
TIMESTAMP(CONCAT('2001-01-01 00:01:01','.123456')),
TIMESTAMP(TIME'00:01:01'),
TIMESTAMP(TIME'00:01:01.1'),
TIMESTAMP(TIME'00:01:01.12'),
TIMESTAMP(TIME'00:01:01.123'),
TIMESTAMP(TIME'00:01:01.1234'),
TIMESTAMP(TIME'00:01:01.12345'),
TIMESTAMP(TIME'00:01:01.123456'),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00')),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00.1')),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00.12')),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00.123')),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00.1234')),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00.12345')),
TIMESTAMP(TIMESTAMP('2001-01-01 00:00:00.123456'))"
"CREATE TABLE t1 (s1 DATETIME(6))
PARTITION BY RANGE COLUMNS (s1)
(PARTITION p1 VALUES LESS THAN (TIMESTAMP'2001-01-01 01:01:01.000001'),
PARTITION p2 VALUES LESS THAN (DATE'2002-01-01'))"
"CREATE PROCEDURE p1 ()
BEGIN
DECLARE a DATETIME(6)"
"END//
SHOW CREATE PROCEDURE p1//
CALL p1//
DROP PROCEDURE p1//
CREATE PROCEDURE p1 (a DATETIME(6))
BEGIN
SELECT a"
"END//
SHOW CREATE PROCEDURE p1//
CALL p1(20010101112233)//
CALL p1(20010101112233.123)//
CALL p1(0.123e0)//
CALL p1('2001-01-01 11:22:33.123')//
DROP PROCEDURE p1//
CREATE PROCEDURE p1()
BEGIN
DECLARE a DATETIME(6)"
"END//
SHOW CREATE FUNCTION p1//
SELECT p1(20010101112233)//
SELECT p1(20010101112233.123)//
DROP FUNCTION p1//
DELIMITER "
"//

CREATE TABLE t1 (a DATETIME(6))"
"SELECT * FROM t1 WHERE a BETWEEN TIMESTAMP'2000-01-01 01:02:03.456' AND '2000-01-01 01:02:03.45678'"
"CREATE PROCEDURE p1 ()
BEGIN
DECLARE a TIMESTAMP(6)"
"END//
SHOW CREATE PROCEDURE p1//
CALL p1//
DROP PROCEDURE p1//
CREATE PROCEDURE p1 (a TIMESTAMP(6))
BEGIN
SELECT a"
"END//
SHOW CREATE PROCEDURE p1//
CALL p1(20010101112233)//
CALL p1(20010101112233.123)//
CALL p1(0.123e0)//
CALL p1('2001-01-01 11:22:33.123')//
DROP PROCEDURE p1//
CREATE PROCEDURE p1()
BEGIN
DECLARE a TIMESTAMP(6)"
"INSERT INTO t1 SET time_column=TIME'1.000001'"
"INSERT INTO t1 SET time_column=TIME'1.0000005'"
"INSERT INTO t1 SET time_column=TIME'1.0000005' + 0.000001"
"SELECT TIME'00:00:00.1' = TIME'00:00:00.100'"
"CREATE TABLE t1 AS SELECT
TIME'10:10:10' + INTERVAL 1 SECOND,
ADDTIME(TIME'10:10:10', '1.1')"
"SELECT TIME'10:10:10' + INTERVAL .6 SECOND"
"CREATE TABLE t1 AS SELECT
TIMESTAMP'2001-01-01 00:00:00' + INTERVAL 1 MICROSECOND AS a"
"INSERT INTO t1 VALUES (TIME'11:11:11.123456', TIME'11:11:11.123456')"
"INSERT INTO t1 VALUES (TIMESTAMP'1000-00-01 00:00:00')"
"INSERT INTO t1 VALUES (TIMESTAMP '0001-01-01 00:00:00.05')"
"UPDATE t1 SET time_column=TIME '1.0000005'"
"UPDATE t1 SET time_column=TIME '1.0000005' + 0.000001"
"SELECT * FROM t1
WHERE timestamp'2006-11-14 10:22:27.009969' IN (LEAST(a, MAKETIME(24,8,0)))"
"SELECT TIMESTAMP'2001-01-01 00:00:00' = TIME(NULL)"
"SELECT * FROM t1 WHERE a<=>TIME'19:20:30'"
"SELECT CAST(IF(1, TIME'00:00:00',TIME'00:00:00') AS CHAR)"
"SELECT CAST(CASE WHEN 1 THEN TIME'00:00:00' ELSE TIME'00:00:00' END AS CHAR)"
"SELECT CAST(CASE WHEN 0 THEN TIME'01:01:01' END AS TIME)"
"SELECT * FROM t1 WHERE a NOT IN (TIME'20:20:20',TIME'10:10:10')"
"SELECT * FROM t WHERE a = TIME'01:02:03'"
"SELECT * FROM t WHERE a = b and b = TIME'01:02:03'"
"SELECT TIMESTAMP'2000-01-27 23:13:41' - TIMESTAMP'2003-05-16 23:53:29'"
"CREATE TRIGGER trg BEFORE INSERT ON t1 FOR EACH ROW SET @a=1"
"CREATE TRIGGER trg AFTER INSERT ON t1 FOR EACH ROW SET @a=1"
"CREATE TRIGGER trg BEFORE UPDATE ON t1 FOR EACH ROW SET @a=1"
"CREATE TRIGGER trg AFTER UPDATE ON t1 FOR EACH ROW SET @a=1"
"INSERT INTO t1 VALUES (TIME'15:44:00')"
"INSERT INTO t1 VALUES (TIME'25:00:00')"
"INSERT INTO t1 VALUES(1901, DATE'1901-01-01', 1, 'one')"
"CREATE VIEW v1(c0) AS (SELECT CAST(2048 as year))"
"CREATE TABLE t5 (c1 YEAR AS (CAST(1985 AS YEAR)))"
"SELECT x FROM (SELECT NULL FROM t1 GROUP BY t1.c0) AS x(x)
INTERSECT
SELECT t0.c0 FROM t0"
"create table t1(sum int, price float(24))"
"select avgcost(sum, price) from t1"
"DROP FUNCTION fn"
"select distinct avgcost(sum,price) from t1 order by avgcost(sum,price)"
"DROP FUNCTION myfunc_double"
"DROP FUNCTION myfunc_int"
"DROP FUNCTION lookup"
"DROP FUNCTION reverse_lookup"
"DROP FUNCTION avgcost"
"drop function IS_const"
"drop function if exists is_const"
"drop function metaphon"
"drop function myfunc_double"
"drop function myfunc_int"
"CREATE TRIGGER check_const_len_trigger BEFORE INSERT ON const_len_bug FOR EACH ROW BEGIN
set NEW.str_const = 'bar';
set NEW.result2 = check_const_len(NEW.str_const);
END "
"DROP FUNCTION check_const_len"
"drop function if exists test.metaphon"
"drop function if exists metaphon"
"drop function if exists no_such_func"
"drop function if exists test.no_such_func"
"DROP FUNCTION my_median"
"DROP FUNCTION  is_const"
"EOF




connection default"
"DROP FUNCTION test_udf_services_udf"
"VALUES ROW(1,2),ROW(3,4),ROW(-1,2) ORDER BY 1"
"(VALUES ROW(1,2),ROW(3,4),ROW(-1,2) ORDER BY 1) ORDER BY 1 LIMIT 2"
"ALTER UNDO TABLESPACE undo_003 SET ACTIVE ENGINE InnoDB"
"ALTER UNDO TABLESPACE undo_003 SET INACTIVE ENGINE InnoDB"
"select count(*) from (
(select                      a,b from t1 limit 2)  union all (select a,b from t2 order by a)) q"
"(select * from t1 limit 3) intersect (select * from t1 limit 3) order by a"
"(select * from t1 limit 4) except (select * from t1 limit 1) order by a"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1) UNION all (SELECT * FROM t2)) q"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1 LIMIT 1) UNION all (SELECT * FROM t2)) q"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1) UNION all (SELECT * FROM t2 LIMIT 1)) q"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1 LIMIT 1) UNION SELECT * FROM t2) q"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1 LIMIT 1) UNION all SELECT * FROM t2) q"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1 LIMIT 100) UNION SELECT * FROM t2) q"
"SELECT COUNT(*) FROM (
(SELECT                     * FROM t1 limit 2,2) UNION SELECT * FROM t2) q"
"explain format=tree (select * from t1 where a=5) union (select * from t2 where a=1)"
"select * from ((select * from t1 limit 1) union (select * from t1 limit 1)) a"
"select * from ((select * from t1 limit 1) union (select * from t1 limit 1) union (select * from t1 limit 1)) a"
"select * from ((((select * from t1))) union (select * from t1) union (select * from t1)) a"
"select * from ((select * from t1) union (((select * from t1))) union (select * from t1)) a"
"SELECT c1, c2 FROM (
(
(SELECT c1, c2 FROM t1)
UNION
(SELECT c1, c2 FROM t2)
)
ORDER BY c2 DESC, c1 ASC LIMIT 1
) AS res"
"EXPLAIN FORMAT=tree SELECT a, SUM(a) FROM t2 UNION ALL SELECT a, MIN(a) FROM t1 "
"EXPLAIN FORMAT=TREE SELECT 1 UNION SELECT 1 LIMIT 0"
"((SELECT SQL_CALC_FOUND_ROWS * FROM r ORDER BY a LIMIT 5) ORDER BY -a LIMIT 4) ORDER BY a LIMIT 3"
"EXPLAIN FORMAT=TREE (SELECT b FROM t1 UNION SELECT b FROM t1)
UNION ALL SELECT b FROM t1"
"explain format=tree update t1 set t1.a=3 where a=(select a from t2)"
"explain format=tree delete from t1 where a=(select a from t2)"
"explain format=tree update t1 set t1.a=3 where a in (select /*+ subquery(intoexists) */ a from t2)"
"explain format=tree delete from t1 where a in (select /*+ subquery(intoexists) */ a from t2)"
"explain format=tree update t1 set t1.a=3 where a in (select a from t2)"
"explain format=tree delete from t1 where a in (select a from t2)"
"UPDATE t1 SET token = X'ad'"
"CREATE TABLE t1(a INTEGER, b INTEGER AS (a))"
"CREATE USER foo@localhost IDENTIFIED BY 'foo' FAILED_LOGIN_ATTEMPTS 4 PASSWORD_LOCK_TIME 6"
"ALTER USER foo@localhost FAILED_LOGIN_ATTEMPTS 2"
"ALTER USER foo@localhost PASSWORD_LOCK_TIME 3"
"ALTER USER foo@localhost ACCOUNT UNLOCK"
"CREATE USER bar@localhost IDENTIFIED BY 'bar'"
"CREATE USER foo@localhost FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3"
"CREATE USER failed_login_attempts@localhost FAILED_LOGIN_ATTEMPTS 2"
"CREATE USER password_lock_time@localhost PASSWORD_LOCK_TIME 3"
"CREATE USER foo@localhost IDENTIFIED BY 'foo' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3"
"ALTER USER foo@localhost FAILED_LOGIN_ATTEMPTS 0"
"ALTER USER foo@localhost FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 0"
"CREATE USER foo@localhost IDENTIFIED BY 'foo' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3 ACCOUNT LOCK"
"CREATE USER proxied_to_user@localhost IDENTIFIED WITH 'caching_sha2_password' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3"
"CREATE USER proxy_user@localhost IDENTIFIED WITH 'caching_sha2_password' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3"
"CREATE USER foo@localhost IDENTIFIED BY 'foo' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 2"
"CREATE USER u1 identified by 'pwd'"
"ALTER USER u1 FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3"
"ALTER USER u1 FAILED_LOGIN_ATTEMPTS 0 PASSWORD_LOCK_TIME 0"
"CREATE USER foo@localhost FAILED_LOGIN_ATTEMPTS 32767"
"CREATE USER foo@localhost PASSWORD_LOCK_TIME 32767"
"CREATE USER ''@localhost IDENTIFIED BY 'pwd' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME 3"
"CREATE USER foo@localhost IDENTIFIED BY 'foo' PASSWORD_LOCK_TIME 3 FAILED_LOGIN_ATTEMPTS 2"
"ALTER USER foo@localhost ATTRIBUTE ""{ \"test\": \"account locking\" }"""
"ALTER USER foo@localhost COMMENT ""This is a test account for verifying that password locking and user attributes won't interfer with one and another."""
"CREATE USER foo@localhost IDENTIFIED BY 'foo' FAILED_LOGIN_ATTEMPTS 2 PASSWORD_LOCK_TIME UNBOUNDED"
"ALTER USER u1 COMMENT 'free form text'"
"ALTER USER u1 COMMENT 'changed the free form text'"
"ALTER USER u1 ATTRIBUTE '{""uid"" : ""34234""}'"
"ALTER USER u1 ATTRIBUTE '{""speed"" : ""9000""}'"
"ALTER USER u1 ATTRIBUTE '{""speed"" : null }'"
"ALTER USER foo@localhost COMMENT 'password lock time'"
"ALTER USER foo@localhost ATTRIBUTE '{""flag"":""red""}'"
"ALTER USER foo@localhost ATTRIBUTE '{""flag"":null}'"
"ALTER USER foo@localhost COMMENT 'zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz'"
"ALTER USER foo@localhost COMMENT 'xxx'"
"CREATE USER foo2@localhost IDENTIFIED BY 'foo' COMMENT 'xxx'"
"CREATE USER foo3 PASSWORD EXPIRE DEFAULT COMMENT 'abc'"
"CREATE USER foo4 ACCOUNT LOCK ATTRIBUTE '{""stuff"":""ffuts""}'"
"ALTER USER foo4 ACCOUNT UNLOCK ATTRIBUTE '{""stuff"":""unlocked""}'"
"ALTER USER foo@localhost ATTRIBUTE '{""key"":""value""}'"
"ALTER USER foo@localhost COMMENT 'Added key/value pair'"
"CREATE USER redqueen@localhost IDENTIFIED BY 'shoo'"
"ALTER USER redqueen@localhost IDENTIFIED BY 'madness' RETAIN CURRENT PASSWORD"
"ALTER USER redqueen@localhost DISCARD OLD PASSWORD COMMENT 'Dropped old password'"
"CREATE USER u1 COMMENT 'Hello ""Smith""'"
"CREATE USER u1@localhost IDENTIFIED BY 'foo' COMMENT 'Not permitted to change this'"
"CREATE USER u1@localhost IDENTIFIED BY 'foo',u2@localhost IDENTIFIED BY 'foo' COMMENT ""Works with partial restrictions"""
"ALTER USER CURRENT_USER() COMMENT 'test'"
"ALTER USER CURRENT_USER() ATTRIBUTE '{ ""comment"" : null }'"
"ALTER USER u1@localhost ATTRIBUTE '{""Restrictions"": [{""Database"":""mysql"",""Privileges"": [ ""CREATE"" ]}]}'"
"CREATE USER wl8540@host1"
"CREATE USER wl8540@nohost1"
"CREATE USER user1@localhost
IDENTIFIED WITH 'caching_sha2_password' BY 'auth_string#%y'"
"CREATE USER user1@localhost
IDENTIFIED WITH 'caching_sha2_password'"
"create user mysqltest_1@localhost with max_queries_per_hour 2"
"create user mysqltest_1@localhost with max_updates_per_hour 2"
"create user mysqltest_1@localhost with max_connections_per_hour 2"
"create user mysqltest_1@localhost with max_user_connections 2"
"CREATE TRIGGER trig_t1_ins BEFORE INSERT ON t1 FOR EACH ROW
SET @aux = GET_LOCK(new.id,7200)"
"CREATE TRIGGER trig_t1_ins BEFORE INSERT ON t1 FOR EACH ROW
BEGIN
SET @aux = GET_LOCK(2,1)"
"IF @aux <> 1 THEN
SIGNAL SQLSTATE '45000'
SET MESSAGE_TEXT = 'LOCK 2 not got. Abort.', MYSQL_ERRNO = 9999"
"END IF"
END
"|
SELECT GET_LOCK(CAST(2 AS CHAR),0)"
"CREATE USER no_pwd_history@localhost
PASSWORD HISTORY 0 PASSWORD REUSE INTERVAL 0 DAY"
"CREATE USER default_def@localhost IDENTIFIED BY 'haha'"
"CREATE USER method_alter@localhost IDENTIFIED BY 'haha'"
"CREATE USER to_be_renamed@localhost IDENTIFIED BY 'haha' PASSWORD HISTORY 1"
"CREATE USER no_pwd_history@localhost IDENTIFIED BY 'haha'"
"CREATE USER dup_history@localhost IDENTIFIED BY 'haha'
PASSWORD HISTORY 1 PASSWORD HISTORY DEFAULT"
"CREATE USER dup_interval@localhost IDENTIFIED BY 'haha'
PASSWORD REUSE INTERVAL 10 DAY PASSWORD REUSE INTERVAL DEFAULT"
"CREATE USER empty_pwd@localhost IDENTIFIED BY ''
PASSWORD HISTORY 1"
"CREATE USER def_interval@localhost IDENTIFIED BY 'haha'"
"CREATE USER mohit@localhost IDENTIFIED BY 'mohit'
PASSWORD HISTORY 1 PASSWORD REUSE INTERVAL 2 DAY"
"CREATE USER mohit_sha@localhost IDENTIFIED WITH sha256_password BY 'mohit_sha'
PASSWORD HISTORY 1"
"CREATE USER amar@localhost IDENTIFIED BY 'amar'
PASSWORD REUSE INTERVAL 1 DAY"
"CREATE USER mohit_sha@localhost IDENTIFIED WITH caching_sha2_password BY 'mohit_sha'
PASSWORD HISTORY 1"
"select sql_small_result
distinct @var:=id2, @var1:=cast((avg(id) over(partition by id2)) as signed)
from tb1 order by 1 limit 1"
"set @rank := 0"
"select @rownum := @rownum + 1 as `row`,
@rank := IF(@prev_score!=a, @rownum, @rank) as `rank`,
@prev_score := a as score
from t1 order by score desc"
"CREATE TRIGGER t_after_insert AFTER INSERT ON t1 FOR EACH ROW SET @bug42188 = 10"
"CREATE TRIGGER trg1 BEFORE INSERT ON t1 FOR EACH ROW SET @aux = 1"
"SET @str_utf8mb4=CONVERT(x'616263C3A6C3B8C3A578797A' USING utf8mb4)"
"CREATE USER 'base_user'@'localhost' IDENTIFIED BY 'pass'"
"CREATE USER 'user1'@'localhost' IDENTIFIED BY 'pass'"
"CREATE USER 'user'@'localhost' IDENTIFIED BY 'aedfoiASE$%'"
"CREATE USER 'user2'@'localhost' IDENTIFIED BY 'PA00wrd!#'"
"password
validate
EOF

password
validate
monkey
EOF

CREATE USER 'user1'@'localhost' IDENTIFIED BY 'passWORD123#'"
"CREATE USER 'user2'@'localhost' IDENTIFIED BY 'passWORD123#'"
"my $dict_file= ""$ENV{MYSQLTEST_VARDIR}/tmp/dict.txt"""
"my $outer = 100000"
"open(DICT_FILE, "">"", $dict_file) or die ""Can't open $dict_file for write: $!"""
"EOF









SELECT @@GLOBAL.VALIDATE_PASSWORD.LENGTH"
"password
validate
EOF

eval SET @@global.validate_password.dictionary_file=""$MYSQLTEST_VARDIR/tmp/dictionary.txt"""
"CREATE USER 'passtest'@'localhost' IDENTIFIED BY 'My!Complex@Passw0rd'"
"create user user@localhost identified by 'ABCabc1!'"
"CREATE USER ""base_user""@localhost IDENTIFIED BY 'base_user'"
"REVOKE ALL PRIVILEGES ON test.* FROM ""base_user""@localhost"
"CREATE USER """"@localhost"
"REVOKE ALL PRIVILEGES ON test.* FROM """"@localhost"
"CREATE USER 'usr1'@'localhost' IDENTIFIED BY RANDOM PASSWORD"
"CREATE USER 'usr2'@'localhost' IDENTIFIED BY RANDOM PASSWORD"
"CREATE USER 'usr3'@'localhost' IDENTIFIED BY RANDOM PASSWORD"
"ALTER USER 'usr1'@'localhost' IDENTIFIED BY RANDOM PASSWORD"
"SET PASSWORD FOR 'usr1'@'localhost' TO RANDOM"
"CREATE USER 'base_user'@'localhost' IDENTIFIED BY 'pass',
'user1'@'localhost' IDENTIFIED BY 'pass'"
"select x'31',X'ffff'+0"
"create table table_28127_a(0b02 int)"
"create table table_28127_b(0b2 int)"
"SELECT 1.0 * (x'312E35' | x'312E35')"
"set @select=2,@t5=1.23456"
"set @test_int=10,@test_double=1e-10,@test_string=""abcdeghi"",@test_string2=""abcdefghij"",@select=NULL"
"select @test_int,@test_double,@test_string,@test_string2,@select"
"drop function if exists t1_max"
"drop function if exists t1_min"
"drop function t1_min"
"drop function t1_max"
"CONNECT (con1,localhost,root,,test)"
"drop function version_tokens_show"
"CREATE USER vbhagi@localhost"
"CONNECT (vtcon1, localhost, u1, foo,)"
"CONNECT (vtcon2, localhost, root,,)"
"CONNECT (vtcon3, localhost, root,,)"
"CONNECTION vtcon1"
"CONNECTION vtcon2"
"drop function version_tokens_set"
"drop function version_tokens_edit"
"drop function version_tokens_delete"
"drop function version_tokens_lock_shared"
"drop function version_tokens_lock_exclusive"
"drop function version_tokens_unlock"
"DROP FUNCTION version_tokens_set"
"DROP FUNCTION version_tokens_show"
"DROP FUNCTION version_tokens_edit"
"DROP FUNCTION version_tokens_delete"
"DROP FUNCTION version_tokens_lock_shared"
"DROP FUNCTION version_tokens_lock_exclusive"
"DROP FUNCTION version_tokens_unlock"
"drop table if exists t1,t2,t3,t4,t9,`t1a``b`,v1,v2,v3,v4,v5,v6"
"drop view if exists t1,t2,`t1a``b`,v1,v2,v3,v4,v5,v6"
"create table `t1a``b` (col1 char(2))"
"drop table `t1a``b`"
"create view v1 as select test.`f``1` ()"
"drop function `f``1`"
"drop function x1"
"create table tÃ¼ (cÃ¼ char)"
"create view vÃ¼ as select cÃ¼ from tÃ¼"
"insert into vÃ¼ values ('Ã¼')"
"select * from vÃ¼"
"drop view vÃ¼"
"drop table tÃ¼"
"create trigger t1_bi before insert on t1 for each row set new.s1 = 500"
"create view  v1 as select avg(distinct s1) from t1"
"ALTER DEFINER=s@1 VIEW v1 AS SELECT * FROM t1"
"grant select on mysqltest.t1 to mysqltest_1@localhost"
"revoke all privileges on test.* from mysqltest_1@localhost"
"grant select (c) on mysqltest.v1 to mysqltest_1@localhost"
"revoke all privileges on mysqltest.v1 from mysqltest_1@localhost"
"grant select on mysqltest.v1 to mysqltest_1@localhost"
"grant select on mysqltest.v2 to mysqltest_1@localhost"
"grant select on mysqltest.v3 to mysqltest_1@localhost"
"grant select on mysqltest.v4 to mysqltest_1@localhost"
"grant show view on mysqltest.v5 to mysqltest_1@localhost"
"grant select on mysqltest.v5 to mysqltest_1@localhost"
"grant show view on mysqltest.v1 to mysqltest_1@localhost"
"revoke select on mysqltest.v5 from mysqltest_1@localhost"
"grant update (a) on mysqltest.v2 to mysqltest_1@localhost"
"grant update on mysqltest.v1 to mysqltest_1@localhost"
"grant delete on mysqltest.v1 to mysqltest_1@localhost"
"grant insert on mysqltest.v1 to mysqltest_1@localhost"
"grant update(b) on mysqltest.t2 to mysqltest_1@localhost"
"grant create view on mysqltest.v3 to mysqltest_1@localhost"
"grant create view, update on mysqltest.v3 to mysqltest_1@localhost"
"grant update,select(b) on mysqltest.t2 to mysqltest_1@localhost"
"revoke select on mysqltest.t1 from mysqltest_1@localhost"
"grant execute on function f2 to mysqltest_1@localhost"
"revoke execute on function f2 from mysqltest_1@localhost"
"create user 'test14256'@'%'"
"CREATE USER readonly@localhost"
"GRANT SELECT, INSERT, UPDATE, DELETE ON mysqltest1.v_t1 TO readonly@localhost"
"GRANT SELECT ON mysqltest1.v_ts TO readonly@localhost"
"GRANT INSERT ON mysqltest1.v_ti TO readonly@localhost"
"GRANT UPDATE ON mysqltest1.v_tu TO readonly@localhost"
"GRANT UPDATE,SELECT ON mysqltest1.v_tus TO readonly@localhost"
"GRANT DELETE ON mysqltest1.v_td TO readonly@localhost"
"GRANT DELETE,SELECT ON mysqltest1.v_tds TO readonly@localhost"
"CREATE USER def_17254@localhost"
"CREATE USER inv_17254@localhost"
"GRANT SELECT ON db17254.t1 TO inv_17254@localhost"
"CREATE USER mysqltest_u2@localhost"
"REVOKE ALL ON mysqltest_db1.* FROM mysqltest_u1@localhost"
"REVOKE ALL ON mysqltest_db2.* FROM mysqltest_u2@localhost"
"CREATE USER u26813@localhost"
"GRANT DROP ON db26813.v1 TO u26813@localhost"
"GRANT CREATE VIEW ON db26813.v2 TO u26813@localhost"
"GRANT DROP, CREATE VIEW ON db26813.v3 TO u26813@localhost"
"GRANT SELECT ON db26813.t1 TO u26813@localhost"
"CREATE USER u29908_1@localhost"
"GRANT SELECT, DROP, CREATE VIEW, SHOW VIEW ON mysqltest_29908.v1 TO u29908_1@localhost"
"GRANT SELECT, DROP, CREATE VIEW, SHOW VIEW ON mysqltest_29908.v2 TO u29908_1@localhost"
"GRANT SELECT ON mysqltest_29908.t1 TO u29908_1@localhost"
"CREATE USER u29908_2@localhost"
"GRANT SELECT, DROP, CREATE VIEW ON mysqltest_29908.v1 TO u29908_2@localhost"
"GRANT SELECT, DROP, CREATE VIEW, SHOW VIEW ON mysqltest_29908.v2 TO u29908_2@localhost"
"GRANT SELECT ON mysqltest_29908.t1 TO u29908_2@localhost"
"GRANT SELECT ON mysqltest1.t1 TO mysqltest_u1@localhost"
"GRANT INSERT ON mysqltest1.t2 TO mysqltest_u1@localhost"
"GRANT SELECT, UPDATE ON mysqltest1.t3 TO mysqltest_u1@localhost"
"GRANT SELECT, DELETE ON mysqltest1.t4 TO mysqltest_u1@localhost"
"CREATE USER foo"
"REVOKE SELECT (f1) ON db1.t1 FROM foo"
"REVOKE SELECT (f1) ON db1.v1 FROM foo"
"create user alice@localhost"
"create user bob@localhost"
"create user cecil@localhost"
"create user dan@localhost"
"create user eugene@localhost"
"create user fiona@localhost"
"create user greg@localhost"
"create user han@localhost"
"create user inga@localhost"
"create user jamie@localhost"
"create user karl@localhost"
"create user lena@localhost"
"create user mhairi@localhost"
"create user noam@localhost"
"create user olga@localhost"
"create user pjotr@localhost"
"create user quintessa@localhost"
"grant select            on mysqltest1.v1 to bob@localhost"
"grant show view         on mysqltest1.v1 to cecil@localhost"
"grant select, show view on mysqltest1.v1 to dan@localhost"
"grant select            on mysqltest1.t1 to dan@localhost"
"grant select, show view on mysqltest1.v2 to fiona@localhost"
"grant select, show view on mysqltest1.v2 to greg@localhost"
"grant         show view on mysqltest1.v1 to greg@localhost"
"grant select(k)         on mysqltest1.t3 to han@localhost"
"grant select, show view on mysqltest1.v3 to han@localhost"
"grant select            on mysqltest1.t1 to inga@localhost"
"grant select            on mysqltest1.t2 to inga@localhost"
"grant select            on mysqltest1.v1 to inga@localhost"
"grant select, show view on mysqltest1.v2 to inga@localhost"
"grant select            on mysqltest1.t1 to jamie@localhost"
"grant select            on mysqltest1.t2 to jamie@localhost"
"grant         show view on mysqltest1.v1 to jamie@localhost"
"grant select, show view on mysqltest1.v2 to jamie@localhost"
"grant select            on mysqltest1.t1 to karl@localhost"
"grant select            on mysqltest1.t2 to karl@localhost"
"grant select, show view on mysqltest1.v1 to karl@localhost"
"grant select            on mysqltest1.v2 to karl@localhost"
"grant select            on mysqltest1.t1 to lena@localhost"
"grant select            on mysqltest1.t2 to lena@localhost"
"grant select, show view on mysqltest1.v1 to lena@localhost"
"grant         show view on mysqltest1.v2 to lena@localhost"
"grant select            on mysqltest1.t1 to mhairi@localhost"
"grant select            on mysqltest1.t2 to mhairi@localhost"
"grant select, show view on mysqltest1.v1 to mhairi@localhost"
"grant select, show view on mysqltest1.v2 to mhairi@localhost"
"grant select            on mysqltest1.t1 to noam@localhost"
"grant select, show view on mysqltest1.v1 to noam@localhost"
"grant select, show view on mysqltest1.v2 to noam@localhost"
"grant select            on mysqltest1.t2 to olga@localhost"
"grant select, show view on mysqltest1.v1 to olga@localhost"
"grant select, show view on mysqltest1.v2 to olga@localhost"
"grant select            on mysqltest1.t1 to pjotr@localhost"
"grant select            on mysqltest1.t2 to pjotr@localhost"
"grant select, show view on mysqltest1.v2 to pjotr@localhost"
"grant select, show view on mysqltest1.v1 to quintessa@localhost"
"CREATE USER mysqluser1@localhost"
"GRANT EXECUTE       ON FUNCTION f1 TO mysqluser1@localhost"
"REVOKE EXECUTE    ON FUNCTION f1 FROM mysqluser1@localhost"
"CREATE USER 'mysqluser1'@'%'"
"CREATE USER 'mysqluser2'@'%'"
"create user user_11766767"
"GRANT SELECT(cs,cus) ON test1.t1 TO user1@localhost"
"GRANT INSERT(ci) ON test1.t1 TO user1@localhost"
"GRANT UPDATE(cu,cus) ON test1.t1 TO user1@localhost"
"GRANT ALL PRIVILEGES ON test1.single TO user1@localhost"
"GRANT SELECT,INSERT,UPDATE,DELETE ON test1.v1_all TO user1@localhost"
"GRANT SELECT(cs,cus) ON test1.v1_same TO user1@localhost"
"GRANT INSERT(ci) ON test1.v1_same TO user1@localhost"
"GRANT UPDATE(cu,cus) ON test1.v1_same TO user1@localhost"
"GRANT SELECT(cu,ci) ON test1.v1_cross TO user1@localhost"
"GRANT INSERT(cus) ON test1.v1_cross TO user1@localhost"
"GRANT UPDATE(cs) ON test1.v1_cross TO user1@localhost"
"GRANT SELECT(cus) ON test1.v1_middle TO user1@localhost"
"GRANT SELECT(cs,cus) ON test1.v1_multi TO user1@localhost"
"GRANT INSERT(ci) ON test1.v1_multi TO user1@localhost"
"GRANT UPDATE(cu,cus) ON test1.v1_multi TO user1@localhost"
"GRANT SELECT(cs,cus) ON test1.v1_renamed TO user1@localhost"
"GRANT SELECT(cs) ON test1.t1 TO user1@localhost"
"REVOKE SELECT(cs) ON test1.t1 FROM user1@localhost"
"GRANT SELECT(cs) ON test1.v1_middle TO user1@localhost"
"GRANT SELECT ON test1.v1 TO user_name_len_22_01234@localhost"
"CREATE USER `u1`@`localhost`"
"CREATE USER `u2`@`localhost`"
"SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t"
"SELECT i, j, SUM(i+j) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) foo FROM t"
"SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo"
"SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC"
"SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC LIMIT 3"
"SELECT i, j, SUM(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) foo FROM t"
"SELECT i, j, SUM(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo"
"SELECT i, j, SUM(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC"
"SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t"
"CREATE VIEW v AS
SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t"
"SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo"
"SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC"
"SELECT SUM(i) OVER () FROM t"
"SELECT k, SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t"
"SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t GROUP BY (k)"
"SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t GROUP BY (k) ORDER BY wf DESC"
"SELECT k, GROUP_CONCAT(j ORDER BY j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"SELECT k, AVG(DISTINCT j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"SELECT k, GROUP_CONCAT(j ORDER BY j), SUM(k+1) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"SELECT k, GROUP_CONCAT(j ORDER BY j), SUM(k+1) OVER (ORDER BY k DESC ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex
WINDOW w AS () ORDER BY sex DESC"
"SELECT sex, AVG(id), SUM(AVG(id)) OVER w FROM t1
GROUP BY sex
WINDOW w AS (ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex HAVING sex='M' OR sex IS NULL
WINDOW w AS () ORDER BY sex DESC"
"SELECT sex, AVG(id), SUM(AVG(id)) OVER w FROM t1
GROUP BY sex HAVING sex='M' OR sex='F' OR sex IS NULL
WINDOW w AS (ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex HAVING sex=(SELECT c FROM ss LIMIT 1) OR sex IS NULL
WINDOW w AS () ORDER BY sex DESC"
"SELECT sex, AVG(id), SUM(AVG(id)) OVER w FROM t1
GROUP BY sex HAVING sex=(SELECT c FROM ss LIMIT 1) OR sex='F' OR sex IS NULL
WINDOW w AS (ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), NTILE(2) OVER w FROM t1
GROUP BY sex
WINDOW w AS (ORDER BY sex) ORDER BY sex DESC"
"SELECT sex, AVG(id), SUM(AVG(id)) OVER w, NTILE(2) OVER w FROM t1
GROUP BY sex
WINDOW w AS (ORDER BY sex ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), NTILE(2) OVER w FROM t1
GROUP BY sex HAVING sex=(SELECT c FROM ss LIMIT 1) OR sex IS NULL
WINDOW w AS (ORDER BY sex) ORDER BY sex DESC"
"SELECT sex, AVG(id), SUM(AVG(id)) OVER w, NTILE(2) OVER w FROM t1
GROUP BY sex HAVING sex=(SELECT c FROM ss LIMIT 1) OR sex='F' OR sex IS NULL
WINDOW w AS (ORDER BY sex ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t
GROUP BY (k) WITH ROLLUP"
"SELECT    MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t
GROUP BY (k) WITH ROLLUP"
"SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t
GROUP BY (k) WITH ROLLUP ORDER BY wf DESC"
"SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t
GROUP BY k,j WITH ROLLUP"
"SELECT    MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t
GROUP BY k,j WITH ROLLUP"
"SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex WITH ROLLUP WINDOW w AS ()"
"SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex WITH ROLLUP HAVING sex='M' OR sex IS NULL
WINDOW w AS ()"
"SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex WITH ROLLUP
HAVING (sex='M' OR sex IS NULL) AND AVG(id)=3.0
WINDOW w AS ()"
"SELECT (SELECT SUM(t_b.a) OVER () FROM t_b WHERE t_b.a = t_a.a) aa, b FROM t_a GROUP BY aa, b"
"SELECT sex, COUNT(id) OVER (ORDER BY id RANGE BETWEEN 1 PRECEDING and 2 PRECEDING) FROM t1"
"SELECT t, FIRST_VALUE(t) OVER (ORDER BY t ) FROM t_time"
"SELECT ADDTIME(FIRST_VALUE(time'18:00:00') OVER (ORDER BY NULL), '01:00:00')"
"SELECT ADDTIME(NTH_VALUE(time'18:00:00', 1) OVER (ORDER BY NULL), '01:00:00')"
"SELECT RANK() OVER (ORDER BY user_id) r FROM t2"
"SELECT PERCENT_RANK() OVER (ORDER BY user_id) r FROM t2"
"SELECT CUME_DIST() OVER (ORDER BY user_id) cd FROM t2"
"SELECT RANK() OVER () r FROM t2"
"SELECT PERCENT_RANK() OVER () r FROM t2"
"SELECT CUME_DIST() OVER () cd FROM t2"
"SELECT id, sex, RANK() OVER (ORDER BY sex) FROM t1 ORDER BY id"
"SELECT id, sex, PERCENT_RANK() OVER (ORDER BY sex) FROM t1 ORDER BY id"
"SELECT id, sex, CUME_DIST() OVER (ORDER BY sex) FROM t1 ORDER BY id"
"SELECT sex, RANK() OVER (ORDER BY sex DESC) `rank`, AVG(DISTINCT id) AS uids FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex ORDER BY sex"
"SELECT sex, PERCENT_RANK() OVER (ORDER BY sex DESC) `rank`, AVG(DISTINCT id) AS uids FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex ORDER BY sex"
"SELECT sex, CUME_DIST() OVER (ORDER BY sex DESC) `cume_dist`, AVG(DISTINCT id) AS uids FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex ORDER BY sex"
"SELECT  sex, AVG(id) AS uids, RANK() OVER w `rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(id))"
"SELECT  sex, AVG(id) AS uids, PERCENT_RANK() OVER w `p_rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(id))"
"SELECT  sex, AVG(id) AS uids, CUME_DIST() OVER w `c_dist` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(id))"
"SELECT  sex, AVG(DISTINCT id) AS uids, RANK() OVER w `rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(DISTINCT id) DESC) ORDER BY sex"
"SELECT  sex, AVG(DISTINCT id) AS uids, PERCENT_RANK() OVER w `p_rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(DISTINCT id) DESC) ORDER BY sex"
"SELECT  sex, AVG(DISTINCT id) AS uids, CUME_DIST() OVER w `c_dist` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(DISTINCT id) DESC) ORDER BY sex"
"SELECT  sex, AVG(id) AS uids, RANK() OVER w `rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(id) DESC)
ORDER BY `rank` DESC"
"SELECT  sex, AVG(id) AS uids, PERCENT_RANK() OVER w `p_rank`, CUME_DIST() OVER w `c_dist`
FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(id) DESC)
ORDER BY `p_rank` DESC"
"SELECT id, sex, PERCENT_RANK() OVER w, CUME_DIST() OVER w FROM t1
WINDOW w AS (ORDER BY sex) ORDER BY id"
"SELECT id, sex, RANK() OVER (ORDER BY sex DESC) FROM t1 ORDER BY id"
"SELECT id, sex, PERCENT_RANK() OVER (ORDER BY sex DESC) FROM t1 ORDER BY id"
"SELECT id, sex, CUME_DIST() OVER (ORDER BY sex DESC) FROM t1 ORDER BY id"
"SELECT id value,
SUM(id) OVER (ROWS UNBOUNDED PRECEDING)
FROM t1 u LEFT JOIN t2 ON t2.user_id = u.id"
"SELECT AVG(id) average,
SUM(AVG(id)) OVER (ORDER BY sex DESC ROWS UNBOUNDED PRECEDING)
FROM t1 u, t2 WHERE t2.user_id = u.id GROUP BY sex"
"SELECT sex, AVG(id), RANK() OVER (ORDER BY AVG(id) DESC) FROM t1 GROUP BY sex ORDER BY sex"
"SELECT sex, PERCENT_RANK() OVER (ORDER BY AVG(id) DESC) FROM t1 GROUP BY sex ORDER BY sex"
"SELECT sex, CUME_DIST() OVER (ORDER BY AVG(id) DESC) FROM t1 GROUP BY sex ORDER BY sex"
"SELECT sex, RANK() OVER (ORDER BY AVG(id) DESC) FROM t1 GROUP BY sex ORDER BY sex"
"SELECT          RANK() OVER (ORDER BY AVG(id)) FROM t1"
"SELECT          PERCENT_RANK() OVER (ORDER BY AVG(id)) FROM t1"
"SELECT          CUME_DIST() OVER (ORDER BY AVG(id)) FROM t1"
"SELECT AVG(id), RANK() OVER (ORDER BY AVG(id)) FROM t1"
"SELECT AVG(id), PERCENT_RANK() OVER (ORDER BY AVG(id)) FROM t1"
"SELECT AVG(id), CUME_DIST() OVER (ORDER BY AVG(id)) FROM t1"
"SELECT AVG(id), SUM(AVG(id)) OVER (ORDER BY AVG(id) ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT sex, id, RANK() OVER (PARTITION BY sex ORDER BY id DESC) FROM t1"
"SELECT sex, id, PERCENT_RANK() OVER (PARTITION BY sex ORDER BY id DESC) FROM t1"
"SELECT sex, id, CUME_DIST() OVER (PARTITION BY sex ORDER BY id DESC) FROM t1"
"SELECT sex, id, RANK() OVER (PARTITION BY sex ORDER BY id ASC) FROM t1"
"SELECT sex, id, PERCENT_RANK() OVER (PARTITION BY sex ORDER BY id ASC) FROM t1"
"SELECT sex, id, CUME_DIST() OVER (PARTITION BY sex ORDER BY id ASC) FROM t1"
"SELECT sex, id, SUM(id) OVER w summ, RANK() OVER w `rank` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ASC ROWS UNBOUNDED PRECEDING)"
"SELECT sex, id, SUM(id) OVER w summ, PERCENT_RANK() OVER w `p_rank`,
CUME_DIST() OVER w `c_dist` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ASC ROWS UNBOUNDED PRECEDING)"
"SELECT sex, id, SUM(id) OVER w summ, RANK() OVER w `rank` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ASC ROWS UNBOUNDED PRECEDING) ORDER BY summ"
"SELECT sex, id, SUM(id) OVER w summ, PERCENT_RANK() OVER w `p_rank`,
CUME_DIST() OVER w `c_dist` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ASC ROWS UNBOUNDED PRECEDING) ORDER BY summ"
"SELECT * FROM (SELECT  RANK() OVER (ORDER BY d) AS `rank`, d, date FROM t) alias ORDER BY `rank`, d, date"
"SELECT * FROM (SELECT  PERCENT_RANK() OVER (ORDER BY d) AS `p_rank`, d, date FROM t) alias ORDER BY `p_rank`, d, date"
"SELECT * FROM (SELECT  CUME_DIST() OVER (ORDER BY d) AS `c_dist`, d, date FROM t) alias ORDER BY `c_dist`, d, date"
"SELECT * FROM (SELECT RANK() OVER (ORDER BY date) AS `rank`, date, d FROM t) alias ORDER BY `rank`, d DESC"
"SELECT * FROM (SELECT PERCENT_RANK() OVER (ORDER BY date) AS `p_rank`, date, d FROM t) alias ORDER BY `p_rank`, d DESC"
"SELECT * FROM (SELECT CUME_DIST() OVER (ORDER BY date) AS `c_dist`, date, d FROM t) alias ORDER BY `c_dist`, d DESC"
"SELECT i, j, SUM(j) OVER (PARTITION BY i  ORDER BY j ROWS UNBOUNDED PRECEDING) FROM t"
"SELECT SUM(id), SUM(SUM(id)) OVER (ORDER BY sex ROWS UNBOUNDED PRECEDING) FROM t1,t2 WHERE t1.id=t2.user_id GROUP BY sex"
"SELECT RANK() OVER w FROM t1,t2 WHERE t1.id=t2.user_id WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT PERCENT_RANK() OVER w FROM t1,t2 WHERE t1.id=t2.user_id WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT CUME_DIST() OVER w FROM t1,t2 WHERE t1.id=t2.user_id WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT RANK() OVER w FROM (SELECT * FROM t1,t2 WHERE t1.id=t2.user_id) t WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT PERCENT_RANK() OVER w FROM (SELECT * FROM t1,t2 WHERE t1.id=t2.user_id) t WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT CUME_DIST() OVER w FROM (SELECT * FROM t1,t2 WHERE t1.id=t2.user_id) t WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT  SUM(id) OVER (PARTITION BY sex ORDER BY id ROWS UNBOUNDED PRECEDING) summ, sex FROM t1"
"SELECT t3_id, AVG(t3_id) OVER w,
CUME_DIST() OVER w,
k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id
RANGE BETWEEN 4 PRECEDING AND 2 PRECEDING)"
"SELECT t3_id, SUM(t3_id) OVER w,
CUME_DIST() OVER w,
LEAD(t3_id, 2) OVER w `lead2`,
NTH_VALUE(t3_id, 3) OVER w `nth`,
k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id)"
"SELECT t3_id, SUM(t3_id) OVER w,
CUME_DIST() OVER w,
LEAD(t3_id, 2) OVER w `lead2`,
NTH_VALUE(t3_id, 3) OVER w `nth`,
k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id RANGE UNBOUNDED PRECEDING)"
"SELECT t3_id, LAST_VALUE(t3_id) OVER w, k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id RANGE UNBOUNDED PRECEDING)"
"SELECT t3_id, LAST_VALUE(t3_id) OVER w, k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id RANGE 2 PRECEDING)"
"SELECT user_id, ROW_NUMBER() OVER (PARTITION BY user_id) FROM t2 t1"
"SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY id ORDER BY sex)"
"SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY date ORDER BY id)"
"SELECT CONCAT(ROW_NUMBER() OVER (), 1)"
"SELECT CONCAT(RANK() OVER (ORDER BY NULL), 1)"
"SELECT CONCAT(CUME_DIST() OVER (ORDER BY NULL), 1)"
"SELECT CONCAT(PERCENT_RANK() OVER (ORDER BY NULL), 1)"
"SELECT CONCAT(NTILE(3) OVER (ORDER BY NULL), 1)"
"SELECT  date,id, RANK() OVER w AS `rank` FROM t1,t2 WINDOW w AS (PARTITION BY date ORDER BY id)"
"SELECT * from (SELECT  date,id, RANK() OVER w AS `rank` FROM t1,t2 WINDOW w AS (PARTITION BY date ORDER BY id)) t"
"SELECT * from (SELECT  date,id, PERCENT_RANK() OVER w AS `p_rank`, CUME_DIST() OVER w as `c_dist` FROM t1,t2 WINDOW w AS (PARTITION BY date ORDER BY id)) t"
"SELECT t.*, SUM(t.`rank`) OVER (ROWS UNBOUNDED PRECEDING) FROM
(SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY date ORDER BY id)
) AS t"
"SELECT t.*, SUM(t.`p_rank`) OVER (ROWS UNBOUNDED PRECEDING) FROM
(SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, PERCENT_RANK() OVER w AS `p_rank`,
CUME_DIST() OVER w as `c_dist` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY date ORDER BY id)
) AS t"
"SELECT t1.*, RANK() OVER (ORDER BY sex), SUM(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT t1.*, PERCENT_RANK() OVER (ORDER BY sex), SUM(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT t1.*, CUME_DIST() OVER (ORDER BY sex), SUM(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT * from (SELECT t1.*, SUM(id) OVER (ROWS UNBOUNDED PRECEDING), RANK() OVER (ORDER BY sex) FROM t1) alias ORDER BY id"
"SELECT * from (SELECT t1.*, SUM(id) OVER (ROWS UNBOUNDED PRECEDING), PERCENT_RANK() OVER (ORDER BY sex) FROM t1) alias ORDER BY id"
"SELECT * from (SELECT t1.*, SUM(id) OVER (ROWS UNBOUNDED PRECEDING), CUME_DIST() OVER (ORDER BY sex) FROM t1) alias ORDER BY id"
"SELECT t1.*, SUM(id) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING),
RANK() OVER (ORDER BY sex,id),
ROW_NUMBER() OVER (ORDER BY sex,id)
FROM t1"
"SELECT t1.*, SUM(id) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING),
PERCENT_RANK() OVER (ORDER BY sex,id),
CUME_DIST() OVER (ORDER BY sex,id),
ROW_NUMBER() OVER (ORDER BY sex,id)
FROM t1"
"SELECT t.*, SUM(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS s FROM (
SELECT t1.*,
RANK() OVER (ORDER BY sex, id) AS r00,
RANK() OVER (ORDER BY sex, id DESC) AS r01,
RANK() OVER (ORDER BY sex, id DESC) AS r02,
RANK() OVER (PARTITION BY id ORDER BY sex) AS r03,
RANK() OVER (ORDER BY sex,id) AS r04,
RANK() OVER (ORDER BY sex,id) AS r05,
RANK() OVER (ORDER BY sex, id) AS r06,
RANK() OVER (ORDER BY sex, id) AS r07,
RANK() OVER (ORDER BY sex, id) AS r08,
RANK() OVER (ORDER BY sex, id) AS r09,
RANK() OVER (ORDER BY sex, id) AS r10,
RANK() OVER (ORDER BY sex, id) AS r11,
RANK() OVER (ORDER BY sex, id) AS r12,
RANK() OVER (ORDER BY sex, id) AS r13,
RANK() OVER (ORDER BY sex, id) AS r14
FROM t1) t"
"SELECT t.*, SUM(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS s FROM (
SELECT t1.*,
RANK() OVER (ORDER BY sex, id) AS r00,
RANK() OVER (ORDER BY sex DESC, id) AS r01,
RANK() OVER (ORDER BY sex, id DESC) AS r02,
RANK() OVER (PARTITION BY id ORDER BY sex) AS r03,
RANK() OVER (ORDER BY sex, id) AS r04,
RANK() OVER (ORDER BY sex, id) AS r05,
RANK() OVER (ORDER BY sex, id) AS r06,
RANK() OVER (ORDER BY sex, id) AS r07,
RANK() OVER (ORDER BY sex, id) AS r08,
RANK() OVER (ORDER BY sex, id) AS r09,
RANK() OVER (ORDER BY sex, id) AS r10,
RANK() OVER (ORDER BY sex, id) AS r11,
RANK() OVER (ORDER BY sex, id) AS r12,
RANK() OVER (ORDER BY sex, id) AS r13,
RANK() OVER (ORDER BY sex, id) AS r14
FROM t1 LIMIT 4) t"
"SELECT t.*, SUM(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS s FROM (
SELECT t1.*,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r00,
PERCENT_RANK() OVER (ORDER BY sex DESC, id) AS r01,
PERCENT_RANK() OVER (ORDER BY sex, id DESC) AS r02,
PERCENT_RANK() OVER (PARTITION BY id ORDER BY sex) AS r03,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r04,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r05,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r06,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r07,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r08,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r09,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r10,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r11,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r12,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r13,
PERCENT_RANK() OVER (ORDER BY sex, id) AS r14
FROM t1) t"
"SELECT t.*, SUM(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS s FROM (
SELECT t1.*,
CUME_DIST() OVER (ORDER BY sex, id) AS r00,
CUME_DIST() OVER (ORDER BY sex DESC, id) AS r01,
CUME_DIST() OVER (ORDER BY sex, id DESC) AS r02,
CUME_DIST() OVER (PARTITION BY id ORDER BY sex) AS r03,
CUME_DIST() OVER (ORDER BY sex, id) AS r04,
CUME_DIST() OVER (ORDER BY sex, id) AS r05,
CUME_DIST() OVER (ORDER BY sex, id) AS r06,
CUME_DIST() OVER (ORDER BY sex, id) AS r07,
CUME_DIST() OVER (ORDER BY sex, id) AS r08,
CUME_DIST() OVER (ORDER BY sex, id) AS r09,
CUME_DIST() OVER (ORDER BY sex, id) AS r10,
CUME_DIST() OVER (ORDER BY sex, id) AS r11,
CUME_DIST() OVER (ORDER BY sex, id) AS r12,
CUME_DIST() OVER (ORDER BY sex, id) AS r13,
CUME_DIST() OVER (ORDER BY sex, id) AS r14
FROM t1) t"
"SELECT SUM(id) OVER w * 2, AVG(id) OVER w, COUNT(id) OVER w FROM t1
WINDOW w AS (PARTITION BY sex)"
"SELECT * FROM (
SELECT id, SUM(id) OVER w, COUNT(*) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex)
) alias ORDER BY id"
"SELECT SUM(id) OVER w FROM t1 WINDOW w AS (PARTITION BY sex)"
"SELECT id, SUM(id) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"CREATE VIEW v AS
SELECT id, SUM(id) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT SUM(id) OVER w FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, AVG(id) OVER (ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT d, SUM(d) OVER (ORDER BY d), AVG(d) OVER (ORDER BY d) FROM td"
"SELECT d, SUM(d) OVER (ORDER BY d), AVG(d) OVER () FROM td"
"SELECT d, SUM(d) OVER w, AVG(d) OVER w FROM td
WINDOW w AS (ORDER BY d RANGE BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT id, NTILE(1) OVER w FROM t1 WINDOW w AS ()"
"SELECT id, NTILE(5) OVER w FROM t1 WINDOW w AS ()"
"SELECT id, NTILE(1) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"SELECT id, NTILE(2) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"SELECT id, NTILE(5) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"SELECT id, NTILE(11) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"SELECT id, ROW_NUMBER() OVER w, NTILE(4) OVER w, SUM(id) OVER w FROM t1
WINDOW w AS (ORDER BY id ROWS 1 PRECEDING)"
"SELECT id, NTILE(3) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"SELECT (ROW_NUMBER() OVER w1 * 5 - 1) DIV (COUNT(*) OVER w2) + 1 AS cnt
FROM t1 WINDOW w1 AS (ORDER BY id ASC),
w2 AS ()"
"SELECT  (ROW_NUMBER() OVER w1 * 5 - 1) DIV (COUNT(*) OVER w2) + 1 AS ntile_manually,
COUNT(*) OVER w3
FROM t1 WINDOW w1 AS (ORDER BY id ASC),
w2 AS (), w3 AS ()"
"SELECT id, ROW_NUMBER() OVER w, SUM(id) OVER w, NTILE(5) OVER w FROM t1
WINDOW w AS (ORDER BY id ROWS BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING)"
"SELECT RANK() OVER w, id, SUM(id) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id)"
"SELECT id, sex, SUM(id) OVER w,
ROW_NUMBER() OVER w,
RANK() OVER w  FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, sex, SUM(id) OVER w,
ROW_NUMBER() OVER w,
CUME_DIST() OVER w  FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id+2, ROW_NUMBER() OVER () FROM t1"
"SELECT id+2, NTILE(2) OVER (ORDER BY sex) FROM t1"
"SELECT NTILE(2) OVER (ORDER BY sex) FROM t1 ORDER BY id+2 DESC"
"SELECT FIRST_VALUE(6) OVER ()"
"SELECT FIRST_VALUE(6.0) OVER ()"
"SELECT FIRST_VALUE(CAST(6.0 AS DECIMAL(4,2))) OVER ()"
"SELECT FIRST_VALUE('6') OVER ()"
"SELECT FIRST_VALUE(NULL) OVER ()"
"SELECT FIRST_VALUE(6)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT FIRST_VALUE(NULL) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LAST_VALUE(6)    OVER ()"
"SELECT LAST_VALUE(NULL) OVER ()"
"SELECT LAST_VALUE(6)    OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT LAST_VALUE(NULL) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS ()"
"select id, FIRST_VALUE(id) OVER (ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (PARTITION BY sex ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id DESC)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id RANGE 2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS ()"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (PARTITION BY sex ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id DESC)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id RANGE 2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS ()"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (PARTITION BY sex ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id DESC)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id RANGE 2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS ()"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (PARTITION BY sex ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id DESC)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS ()"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id DESC)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id RANGE INTERVAL 2 DAY PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id RANGE BETWEEN INTERVAL 2 DAY PRECEDING AND INTERVAL 1 DAY PRECEDING)"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS ()"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t)"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t DESC)"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t ROWS  2 PRECEDING)"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t RANGE INTERVAL 2 HOUR PRECEDING)"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t RANGE BETWEEN INTERVAL 2 HOUR PRECEDING AND INTERVAL 1 HOUR PRECEDING)"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p )"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t)"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t DESC)"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t ROWS  2 PRECEDING)"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t RANGE INTERVAL 2 HOUR PRECEDING)"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t RANGE BETWEEN INTERVAL 2 HOUR PRECEDING AND INTERVAL 1 HOUR PRECEDING)"
"SELECT id, SUM(id) OVER (ORDER BY id RANGE 2 PRECEDING) FROM t1 ORDER BY id"
"SELECT id, SUM(id) OVER (ORDER BY id RANGE UNBOUNDED PRECEDING) FROM t1 ORDER BY id"
"SELECT p, id, SUM(id) OVER (PARTITION BY p ORDER BY id RANGE 2 PRECEDING) FROM t11 ORDER BY p,id"
"SELECT p, id, SUM(id) OVER (PARTITION BY p ORDER BY id RANGE UNBOUNDED PRECEDING) FROM t11 ORDER BY p,id"
"SELECT user_id, SUM(user_id) OVER w, AVG(user_id) OVER w FROM t2 WINDOW w AS (ORDER BY user_id)"
"SELECT p, user_id, SUM(user_id) OVER w, AVG(user_id) OVER w FROM t22 WINDOW w AS (PARTITION BY p ORDER BY user_id) ORDER BY p"
"SELECT user_id, SUM(user_id) OVER w, AVG(user_id) OVER w1 FROM t2
WINDOW w AS (ORDER BY user_id), w1 AS (ORDER BY user_id)"
"SELECT NTILE(5) OVER w, ROW_NUMBER() OVER w, id, SUM(id) OVER w FROM t1
WINDOW w AS (ORDER BY id DESC RANGE 2 PRECEDING)"
"SELECT p, NTILE(5) OVER w, ROW_NUMBER() OVER w, id, SUM(id) OVER w FROM t11
WINDOW w AS (PARTITION BY p ORDER BY id DESC RANGE 2 PRECEDING)"
"SELECT user_id, date, COUNT(*) OVER (ORDER BY date RANGE INTERVAL 1 DAY PRECEDING) FROM t2"
"SELECT CAST(SUM(j) OVER () AS JSON) FROM tj"
"SELECT DISTINCT i,COUNT(*) OVER () FROM tj"
"SELECT DISTINCT i,NTILE(3) OVER (ORDER BY i), SUM(i) OVER (), COUNT(*) OVER () FROM tj ORDER BY NTILE(3) OVER (ORDER BY i)"
"SELECT          COUNT(*) OVER (), MOD(SUM(i),2) FROM tj2 GROUP BY i"
"SELECT DISTINCT COUNT(*) OVER (), MOD(SUM(i),2) FROM tj2 GROUP BY i"
"SELECT i, SUM(i) OVER (), MOD(SUM(i),2) FROM tj2 GROUP BY i"
"SELECT i, SUM(SUM(i)) OVER (), SUM(i) OVER (ORDER BY i), MOD(SUM(i),2), SUM(i) FROM tj2 GROUP BY i"
"SELECT LAST_VALUE(j) OVER w, FIRST_VALUE(j) OVER w FROM tj WINDOW w AS (PARTITION BY i ORDER BY j ROWS UNBOUNDED PRECEDING)"
"SELECT i, LAST_VALUE((CAST(j AS UNSIGNED))) OVER w, FIRST_VALUE(CAST(j AS UNSIGNED)) OVER w FROM tj
WINDOW w AS (PARTITION BY i ORDER BY CAST(j AS UNSIGNED) RANGE UNBOUNDED PRECEDING)"
"SELECT j,CAST(SUM(j) OVER (PARTITION BY i) AS JSON), CAST(SUM(j) OVER () AS JSON) FROM tj"
"SELECT j,CAST(SUM(j) OVER (PARTITION BY i ROWS UNBOUNDED PRECEDING) AS JSON), CAST(SUM(j) OVER (PARTITION BY i ROWS UNBOUNDED PRECEDING) AS JSON) FROM tj"
"SELECT i, ROW_NUMBER() OVER () FROM tj UNION ALL SELECT i, ROW_NUMBER() OVER () FROM tj"
"SELECT * FROM (SELECT i, j, ROW_NUMBER() OVER (ORDER BY j) FROM tj UNION SELECT i, j, ROW_NUMBER() OVER (ORDER BY j) FROM tj) alias"
"SELECT i, RANK() OVER (ORDER BY i) FROM tj UNION ALL SELECT i, RANK() OVER (ORDER BY i) FROM tj"
"SELECT i, CUME_DIST() OVER (ORDER BY i) FROM tj UNION ALL SELECT i, CUME_DIST() OVER (ORDER BY i) FROM tj"
"SELECT i, PERCENT_RANK() OVER (ORDER BY i) FROM tj UNION ALL SELECT i, PERCENT_RANK() OVER (ORDER BY i) FROM tj"
"SELECT i, NTILE(3) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, NTILE(3) OVER (ORDER BY i) FROM tj"
"SELECT i, SUM(i) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, SUM(i) OVER (ORDER BY i) FROM tj"
"SELECT i, NTH_VALUE(i,3) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, NTH_VALUE(i, 3) OVER (ORDER BY i) FROM tj"
"SELECT i, NTH_VALUE(i + 3,3) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, NTH_VALUE(i + 3, 3) OVER (ORDER BY i) FROM tj"
"SELECT i, LEAD(i,3) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, LEAD(i, 3) OVER (ORDER BY i) FROM tj"
"SELECT i, FIRST_VALUE(i) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, FIRST_VALUE(i) OVER (ORDER BY i) FROM tj"
"SELECT i, LAST_VALUE(i) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, LAST_VALUE(i) OVER (ORDER BY i) FROM tj"
"SELECT j, JSON_TYPE(j), SUM(j) OVER (ORDER BY j ROWS 3 PRECEDING) FROM tj"
"SELECT j,
JSON_TYPE(j),
SUM(CASE WHEN JSON_TYPE(j) = 'ARRAY' THEN j->""$[0]"" ELSE j END)
OVER (ORDER BY j ROWS 3 PRECEDING)
FROM tj"
"SELECT id, AVG(id) OVER (PARTITION BY id) summ FROM t1"
"SELECT     AVG(id) OVER (PARTITION BY id) summ FROM t1"
"SELECT id, AVG(id) OVER (PARTITION BY id) summ,
AVG(id) OVER (PARTITION BY id) summ2 FROM t1"
"SELECT     AVG(id) OVER (PARTITION BY id) summ,
AVG(id) OVER (PARTITION BY id) summ2 FROM t1"
"SELECT COUNT(id) OVER w, id, AVG(id) OVER w, SUM(id) OVER w, FIRST_VALUE(id) OVER w FROM t1
WINDOW w AS (ORDER BY id RANGE 1 PRECEDING)"
"SELECT COUNT(id) OVER w, id, AVG(id) OVER w, SUM(id) OVER w, FIRST_VALUE(id) OVER w FROM t1r
WINDOW w AS (ORDER BY id RANGE 1 PRECEDING)"
"SELECT id, count(id) over w, count(*) over w, FIRST_VALUE(id) OVER w FROM t1
WINDOW w AS (ORDER BY id ASC  RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, count(id) over w, count(*) over w, FIRST_VALUE(id) OVER w FROM t1
WINDOW w AS (ORDER BY id DESC RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT COUNT(*) OVER (ORDER BY i RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING) FROM  t"
"SELECT COUNT(*) OVER (ORDER BY i RANGE BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING) FROM  t"
"SELECT COUNT(*) OVER (ORDER BY i DESC RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING) FROM  t"
"SELECT COUNT(*) OVER (ORDER BY i DESC RANGE BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING) FROM  t"
"SELECT *, RANK() OVER (ORDER BY i,j,k) AS O_IJK,
RANK() OVER (ORDER BY j) AS O_J,
RANK() OVER (ORDER BY k,j) AS O_KJ FROM t ORDER BY i,j,k"
"SELECT ROW_NUMBER() OVER ()"
"SELECT *, ABS(ROW_NUMBER() OVER (ORDER BY s1,s2))
- ROW_NUMBER() OVER (ORDER BY s1,s2) AS X FROM t1"
"SELECT RANK() OVER (ORDER BY AVG(s1)) FROM t1"
"SELECT COUNT(*) OVER (ORDER BY s2) FROM t1 WHERE s2 IS NULL"
"SELECT * FROM (
SELECT *, SUM(s1) OVER (ORDER BY s1) FROM t1 ORDER BY s1
) alias ORDER BY s1,s2"
"SELECT *, AVG(s1) OVER () FROM t1"
"SELECT *, AVG(s1) OVER (ROWS UNBOUNDED PRECEDING) FROM t1"
"SELECT * FROM t ORDER BY RANK() OVER (ORDER BY a DESC,b,c)"
"SELECT *, RANK() OVER (ORDER BY a DESC,b,c) AS `rank` FROM t ORDER BY `rank`"
"(select a from t) union (select a from t order by (row_number() over ()))"
"SELECT * FROM (
SELECT a,b,c, RANK() OVER (ORDER BY 1*1) FROM t
) alias ORDER BY a,b,c"
"SELECT * FROM (SELECT count(*) OVER (), sum(c) OVER () AS sum1, a from t) as alias"
"SELECT * FROM (SELECT count(*) OVER () + sum(c) OVER () AS sum1, a from t) as alias"
"SELECT * FROM (SELECT SUM(b) OVER (), a FROM t) AS alias"
"SELECT * FROM (SELECT SUM(b) OVER (), b FROM t) AS alias"
"SELECT SUM(a) OVER (ORDER BY b) FROM t"
"SELECT COUNT(*) OVER (ORDER BY b) FROM t"
"SELECT AVG(b) OVER (ORDER BY b) FROM t"
"SELECT a,b,LAST_VALUE(a) OVER (ORDER BY b,a) FROM t"
"SELECT NTILE(2) OVER (ORDER BY b) FROM t"
"SELECT t1_id, ROW_NUMBER() OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT t1_id, ROW_NUMBER() OVER () FROM t1"
"SELECT SUM(1) OVER ()"
"SELECT SUM(1.2) OVER ()"
"SELECT SUM(CAST(4 as JSON)) OVER ()"
"SELECT SUM('e') OVER ()"
"SELECT SUM(1)   OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT SUM(1.2) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT SUM(CAST(4 as JSON)) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT SUM('e') OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT AVG(1) OVER ()"
"SELECT AVG(1.2) OVER ()"
"SELECT AVG(CAST(4 as JSON)) OVER ()"
"SELECT AVG('e') OVER ()"
"SELECT AVG(1)   OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT AVG(1.2) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT AVG(CAST(4 as JSON)) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT AVG('e') OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT i FROM t1 WHERE i IN ( SELECT CAST(  SUM(i) OVER (ROWS CURRENT ROW) AS UNSIGNED) FROM t1)"
"SELECT i FROM t1 WHERE i IN ( SELECT CAST(0+SUM(i) OVER (ROWS CURRENT ROW) AS UNSIGNED) FROM t1)"
"SELECT LAST_VALUE(1) OVER (PARTITION BY t1.j), t2.pk FROM t1 LEFT JOIN
t1 as t2 ON t1.pk = t2.pk WHERE t1.pk=1"
"SELECT a, RANK() OVER (ORDER BY a) rank_asc,
RANK() OVER (ORDER BY a desc) rank_desc,
RANK() OVER (ORDER BY a) + RANK() OVER (ORDER BY a desc) rank_asc_desc FROM t1"
"EXPLAIN FORMAT=JSON SELECT a, RANK() OVER (ORDER BY a) rank_asc,
RANK() OVER (ORDER BY a desc) rank_desc,
RANK() OVER (ORDER BY a) + RANK() OVER (ORDER BY a desc) rank_asc_desc FROM t1"
"SELECT ROW_NUMBER () OVER (), COUNT(*) FROM t WHERE a < 5"
"SELECT SUM(i) OVER W FROM t1 WINDOW w AS (PARTITION BY j ORDER BY i)
ORDER BY SUM(i) OVER w"
"SELECT SUM(i) OVER W FROM t1 WINDOW w AS (PARTITION BY j ORDER BY i)
ORDER BY 1+SUM(i) OVER w"
"SELECT SUM(SUM(i)) OVER W FROM t1 GROUP BY i WINDOW w AS (PARTITION BY i ORDER BY i)
ORDER BY SUM(SUM(i)) OVER w"
"SELECT 1+SUM(SUM(i)) OVER W FROM t1 GROUP BY i WINDOW w AS (PARTITION BY i ORDER BY i)
ORDER BY 1+SUM(SUM(i)) OVER w"
"SELECT 1+SUM(i) OVER W FROM t1 WINDOW w AS (PARTITION BY j ORDER BY i)
ORDER BY SUM(i) OVER w"
"SELECT SUM(2+SUM(i)) OVER W FROM t1 GROUP BY j WINDOW w AS (PARTITION BY j ORDER BY j)
ORDER BY SUM(2+SUM(i)) OVER w DESC"
"SELECT a,b, RANK() OVER (ORDER BY a), RANK() OVER (order BY a) FROM t1"
"EXPLAIN FORMAT=JSON SELECT a,b, RANK() OVER (ORDER BY a), RANK() OVER (ORDER BY a) FROM t1"
"SELECT * FROM t WHERE a IN (SELECT ROW_NUMBER() OVER () FROM t)"
"SELECT * FROM t WHERE a IN (SELECT ROW_NUMBER() OVER () + 1 FROM t)"
"EXPLAIN FORMAT=JSON SELECT * FROM t WHERE a IN (SELECT ROW_NUMBER() OVER () FROM t)"
"SELECT * FROM t WHERE a = SOME(SELECT ROW_NUMBER() OVER () + 1 FROM t)"
"SELECT * FROM t WHERE a = ANY(SELECT ROW_NUMBER() OVER () + 1 FROM t)"
"SELECT * FROM t WHERE a <> ALL(SELECT ROW_NUMBER() OVER () + 1 FROM t)"
"SELECT * FROM t WHERE a >= ALL(SELECT ROW_NUMBER() OVER () + 1 FROM t)"
"SELECT * FROM t WHERE a >= SOME(SELECT ROW_NUMBER() OVER () + 1 FROM t)"
"SELECT * from t WHERE EXISTS(SELECT ROW_NUMBER() OVER () FROM t)"
"EXPLAIN FORMAT=JSON SELECT * from t WHERE EXISTS(SELECT ROW_NUMBER() OVER () FROM t)"
"SELECT (SELECT ROW_NUMBER() OVER (ORDER BY upper.j) FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT (SELECT ROW_NUMBER() OVER (PARTITION BY upper.j) FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT (SELECT ROW_NUMBER() OVER (PARTITION BY upper.j)
FROM t1 LIMIT 1 OFFSET 1)
FROM t1 AS upper"
"SELECT (SELECT FIRST_VALUE(j) OVER (ORDER BY upper.j) FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT (SELECT FIRST_VALUE(j) OVER (ORDER BY upper.j DESC) FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT (SELECT FIRST_VALUE(upper.j) OVER (ORDER BY upper.j DESC)
FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT (SELECT LAST_VALUE(j) OVER (ORDER BY upper.j) FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT (SELECT LAST_VALUE(j) OVER (ORDER BY upper.j DESC) FROM t1 LIMIT 1)
FROM t1 AS upper"
"SELECT * FROM t1 AS upper
WHERE (SELECT FIRST_VALUE(upper.j) OVER (ORDER BY upper.j)
FROM t1 LIMIT 1) = 1
"
"SELECT * FROM t1 AS upper
WHERE (SELECT FIRST_VALUE(upper.j) OVER (ORDER BY upper.j)
FROM t1 LIMIT 1) = 2"
"SELECT FIRST_VALUE(j) OVER (ORDER BY 0 +
(SELECT FIRST_VALUE(upper.j) OVER (ORDER BY upper.j)
FROM t1 LIMIT 1))
FROM t1 AS upper"
"SELECT LAST_VALUE(j)  OVER (ORDER BY 0 +
(SELECT FIRST_VALUE(upper.j) OVER (ORDER BY upper.j)
FROM t1 LIMIT 1))
FROM t1 AS upper"
"SELECT * FROM t1 AS upper ORDER BY (0 + (SELECT FIRST_VALUE(upper.j) OVER (ORDER BY upper.j)
FROM t1 LIMIT 1))"
"SELECT LAST_VALUE((SELECT upper.j FROM t1 LIMIT 1)) OVER (ORDER BY i)
FROM t1 AS upper"
"SELECT FIRST_VALUE((SELECT upper.j FROM t1 LIMIT 1)) OVER (ORDER BY i)
FROM t1 AS upper"
"SELECT SUM(j + (SELECT upper.j FROM t1 LIMIT 1)) OVER (ORDER BY i)
FROM t1 AS upper"
"SELECT LAST_VALUE(1 IN (SELECT upper.j FROM t1)) OVER (ORDER BY i)
FROM t1 AS upper"
"SELECT LAST_VALUE(upper.j IN (SELECT 2 FROM t1)) OVER (ORDER BY i)
FROM t1 AS upper"
"SELECT i, SUBSTR(c,1,2), SUM(i) OVER (PARTITION BY SUBSTR(c,1,2)) `sum` FROM t"
"select I, substr(c,1,2), SUM(i) OVER (PARTITION BY SUBSTR(c,1,1)) `sum` FROM t"
"SELECT j AS Having_same_sum_of_i, SUM(i), SUM(SUM(i)) OVER (PARTITION BY SUM(i)) AS sum_sum
FROM t1 GROUP BY j"
"SELECT ROW_NUMBER() OVER (), c
FROM t1 LEFT JOIN t2 ON a = c GROUP BY c"
"SELECT ROW_NUMBER() OVER (), 'c'
FROM t1 LEFT JOIN t2 ON a = c GROUP BY 'c'"
"SELECT (SELECT SUM(a) OVER ())  FROM t"
"SELECT (SELECT SUM(a) OVER () FROM t LIMIT 1)  FROM t"
"SELECT (SELECT SUM(a) OVER () FROM t2 LIMIT 1)  FROM t"
"SELECT SUM(a) OVER () AS c FROM t ORDER BY c"
"SELECT AVG(a+(SELECT SUM(a) OVER () FROM t LIMIT 1)) FROM t"
"SELECT RANK() OVER (PARTITION BY c ORDER BY c) FROM t"
"SELECT RANK() OVER (PARTITION BY a ORDER BY b) FROM t GROUP BY a,b"
"SELECT RANK() OVER (PARTITION BY a ORDER BY b) FROM t"
"SELECT RANK() OVER (PARTITION BY (a+b) ORDER BY (b+a)) FROM t GROUP BY a,b"
"SELECT i, SUM(i), 1+SUM(i), SUM(SUM(i)) OVER w, 1+SUM(SUM(i)) OVER w FROM t1
GROUP BY i WINDOW w AS (PARTITION BY i)"
"SELECT SUM(c/d), LAST_VALUE(SUM(c/d)) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT LAST_VALUE(SUM(c/d)) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT 1+FIRST_VALUE(SUM(c/d)) OVER (ORDER BY a)  FROM t GROUP BY a,b"
"SELECT ROW_NUMBER() OVER () rn,
1+FIRST_VALUE(SUM(c/d)) OVER (ORDER BY a) plus_fv,
1+LAST_VALUE(SUM(c/d)) OVER (ORDER BY a) plus_lv FROM t GROUP BY a,b"
"SELECT a, SUM(SUM(b)) OVER () FROM t1 GROUP BY a HAVING a=1"
"SELECT sex, id, PERCENT_RANK() OVER w, CUME_DIST() OVER w, SUM(d) OVER w
FROM t1 WINDOW w AS (PARTITION BY sex ORDER BY id DESC ROWS
BETWEEN 1 PRECEDING AND CURRENT ROW)"
"SELECT COUNT(*), ROW_NUMBER() OVER (ORDER BY a) AS rownum
FROM t ORDER BY rownum"
"SELECT NTILE (3) OVER (ORDER BY alias1.a), AVG(alias1.a)  OVER ()
FROM t AS alias1 RIGHT JOIN t AS alias2 ON (alias1.a = alias2.b)"
"SELECT t1.a, FIRST_VALUE(t2.a) OVER () FROM t1 LEFT JOIN t2 ON 0"
"SELECT SUM(MAX(id)) OVER (ORDER BY MAX(id)) FROM t1"
"SELECT SUM(MAX(id)) OVER (ORDER BY MAX(id)) AS ss FROM t1"
"SELECT NTILE(2) OVER (ORDER BY a) FROM t WHERE a = 1"
"SELECT CUME_DIST() OVER (ORDER BY a) FROM t WHERE a = 1"
"SELECT dt, FIRST_VALUE(dt) OVER w1 fv,
CAST(FIRST_VALUE(ge) OVER w1 AS JSON) ge FROM test WHERE `pk` = 2 WINDOW w1 AS ()"
"SELECT dt, FIRST_VALUE(dt) OVER w1,
CAST(FIRST_VALUE(ge) OVER w1 AS JSON) ge FROM test WHERE `pk` > 3 WINDOW w1 AS ()"
"SELECT dt, FIRST_VALUE(CAST(dt AS TIME)) OVER w1 FROM test WHERE `pk` > 3 WINDOW w1 AS ()"
"SELECT STRAIGHT_JOIN CUME_DIST() OVER (ORDER BY alias1.a)
FROM t AS alias1 RIGHT JOIN t AS alias2 ON alias1.a = alias2.a
WHERE  alias1.a = 1 "
"SELECT STRAIGHT_JOIN CUME_DIST() OVER (ORDER BY alias1.a)
FROM t AS alias1 RIGHT JOIN t AS alias2 ON alias1.a = alias2.a
WHERE  alias1.a > 1 "
"SELECT ROW_NUMBER() OVER (ORDER BY AVG(a)) AS rn FROM t ORDER BY rn "
"EXPLAIN             SELECT ROW_NUMBER() OVER (ORDER BY AVG(a)) AS rn FROM t ORDER BY rn "
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (ORDER BY AVG(a)) AS rn FROM t ORDER BY rn "
"SELECT ROW_NUMBER() OVER (ORDER BY AVG(a)) AS rn, SUM(AVG(a)) OVER (),
CUME_DIST() OVER (ORDER BY AVG(a)) FROM t ORDER BY rn"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (ORDER BY AVG(a)) AS rn, SUM(AVG(a)) OVER (),
CUME_DIST() OVER (ORDER BY AVG(a)) FROM t ORDER BY rn"
"SELECT ROW_NUMBER() OVER w
FROM t1
WINDOW w AS (w2), w1 AS (), w2 as (w1)"
"SELECT SUM(a) OVER w, ROW_NUMBER() OVER () FROM t1 WINDOW w AS ()"
"SELECT SUM(a) OVER w1, ROW_NUMBER() OVER w2 FROM t1
WINDOW w2 AS (),
w1 AS (w2 ORDER BY a)"
"SELECT RANK() OVER () FROM tno"
"SELECT PERCENT_RANK() OVER () FROM tno"
"SELECT CUME_DIST() OVER () FROM tno"
"SELECT RANK() OVER (PARTITION BY a) FROM tno"
"SELECT PERCENT_RANK() OVER (PARTITION BY a) FROM tno"
"SELECT CUME_DIST() OVER (PARTITION BY a) FROM tno"
"SELECT RANK() OVER () FROM (SELECT 1) t"
"SELECT PERCENT_RANK() OVER () FROM (SELECT 1) t"
"SELECT CUME_DIST() OVER () FROM (SELECT 1) t"
"SELECT 1 UNION
(SELECT ROW_NUMBER() OVER ( ORDER BY b ) AS rn    FROM t ORDER BY b)"
"UPDATE
D AS OUTR1 LEFT JOIN D AS OUTR2
ON ( OUTR1 . pk = OUTR2 . col_int_key )
SET OUTR1.col_varchar_key = 0
WHERE OUTR1 . col_int_key < (
SELECT DISTINCT FIRST_VALUE(7) OVER (  ) AS y
FROM AA AS INNR1
WHERE OUTR2 . col_dec_key <= 6
ORDER BY INNR1 . col_varchar_key LIMIT 1)"
"SELECT
alias1 . col_varchar_10_latin1 AS field1,
NTH_VALUE(alias2.col_int, 4) OVER ( ORDER BY alias1.col_varchar_10_utf8 ASC )
AS field2
FROM  ( SELECT * FROM  H  ) AS  alias1  LEFT  JOIN ( SELECT * FROM  G  ) AS
alias2
ON  alias1 . pk =  alias2 . pk
WHERE  alias1 . pk = 1"
"SELECT  ROW_NUMBER() OVER ( ORDER BY a ) AS f1,
RANK() OVER ( ORDER BY c ) AS f2,
LEAD(c) OVER ( ORDER BY a ROWS UNBOUNDED PRECEDING ) AS f7
FROM t"
"SELECT RANK() OVER w1 AS rnk FROM t
WINDOW w1 AS (ORDER BY AVG(a))
ORDER BY b"
"SELECT ROW_NUMBER() OVER ( ORDER BY t1.a ) AS rn
FROM t1, t2 WHERE t1.a = 1 GROUP BY t1.a"
"SELECT a AS field1, ROW_NUMBER() OVER () AS field2 FROM t
HAVING field1 >= 2"
"SELECT a AS field1, ROW_NUMBER() OVER () AS field2 FROM t
HAVING field1 >= 2 ORDER BY field1"
"EXPLAIN FORMAT=tree SELECT ROW_NUMBER() OVER (ORDER BY a.c)
FROM  a LEFT JOIN b
ON a.c = b.c
WHERE (b.pk IS NULL AND a.pk IN (6))"
"SELECT ROW_NUMBER() OVER (ORDER BY a.c)
FROM  a LEFT JOIN b
ON a.c = b.c
WHERE (b.pk IS NULL AND a.pk IN (6))"
"SELECT NTH_VALUE(view_t1.col1,2) OVER (), view_t1.col1, view_t1.pk FROM view_t1 LEFT JOIN t1
ON  view_t1.pk = t1.pk WHERE t1.pk BETWEEN 4 AND 10 AND t1.pk IN (4)"
"SELECT  RANK() OVER ( ORDER BY a ) + 1 AS rank_expr FROM t1, t2"
"SELECT a, b, LEAD (b, 1) OVER (ORDER BY a,b ASC) AS c FROM t1 a ORDER BY a, b, c"
"SELECT a, b, LEAD (b, 1) OVER (PARTITION BY NULL ORDER BY a,b ASC) AS c FROM t1 a ORDER BY a, b, c"
"SELECT SUM((SELECT v FROM t LIMIT 1)) OVER ()"
"SELECT i, i+1, SUM(i) OVER () FROM t1 GROUP BY i WITH ROLLUP"
"SELECT * FROM (SELECT b, RANK() OVER (ORDER BY b) AS c FROM t GROUP BY a,b) s1 UNION
(SELECT b, MAX(a) AS c FROM t GROUP BY a,b ) ORDER BY b"
"SELECT nt, COUNT(*) FROM
(SELECT  col_int, NTILE( 9 ) OVER ( ORDER BY col_int) nt FROM t ) AS s1
GROUP BY nt"
"SELECT a, b, c, SUM(a) OVER
(RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)
FROM t1"
"SELECT a, b, c, SUM(a) OVER
(ORDER BY b RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)
FROM t1"
"SELECT a, b, c, SUM(a) OVER
(w RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)
FROM t1
WINDOW w AS (ORDER BY b)"
"SELECT a, b, c, d, SUM(a) OVER
(ORDER BY d RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)
FROM t1"
"SELECT a, b, c, SUM(a) OVER
(RANGE UNBOUNDED PRECEDING)
FROM t1"
"SELECT a, b, c, SUM(a) OVER
(w RANGE UNBOUNDED PRECEDING)
FROM t1
WINDOW w AS ()"
"SELECT a, b, c, SUM(a) OVER
(ORDER BY a RANGE BETWEEN 2 PRECEDING AND CURRENT ROW)
FROM t1"
"SELECT a, b, c, SUM(a) OVER
(ORDER BY c RANGE BETWEEN INTERVAL 1 HOUR PRECEDING AND CURRENT ROW)
FROM t1"
"SELECT ROW_NUMBER() OVER (ORDER BY t2.col_int) AS rn,
COUNT(DISTINCT t1.col_int) AS cnt,
SUM(DISTINCT t1.col_int) AS `sum`
FROM t1 LEFT JOIN t2 ON t1.pk = t2.pk WHERE t1.pk IN (1)
GROUP BY t1.pk"
"SELECT ROW_NUMBER() OVER () AS rn,
COUNT(DISTINCT t1.col_int) AS cnt,
SUM(DISTINCT t1.col_int) AS `sum`
FROM t1 LEFT JOIN t2 ON t1.pk = t2.pk WHERE t1.pk IN (1)
GROUP BY t1.pk"
"SELECT ROW_NUMBER() OVER (),
FIRST_VALUE(SUM(DISTINCT t1.col_int)) OVER (ORDER BY t1.pk),
FIRST_VALUE(SUM(DISTINCT t1.col_int) + 1) OVER (ORDER BY t1.pk),
SUM(DISTINCT t1.col_int),
RANK() OVER (ORDER BY t1.pk)
FROM t1 LEFT JOIN t2 ON t1.pk = t2.pk WHERE t1.pk IN (1)
GROUP BY t1.pk"
"CREATE VIEW v1 AS
SELECT STDDEV_SAMP(a) OVER ( ORDER BY a ROWS CURRENT ROW) AS std_dev_samp FROM t"
"SELECT STDDEV_SAMP(a) OVER ( ORDER BY a ROWS CURRENT ROW ) AS std_dev_samp FROM t"
"SELECT RANK() OVER ( ORDER BY MIN( t2 . c1 ) + MAX( t1 . c2 )  ) AS rnk
FROM t1 RIGHT OUTER JOIN t2 ON t1.c1 = t2.c2
ORDER BY rnk"
"SELECT 2 FROM t1
ORDER BY SUM(c1) OVER
(PARTITION BY COUNT(c2)+(SELECT SUM(c1) FROM t2)) DESC"
"CREATE PROCEDURE p1() SELECT  AVG(c2)  OVER ( ) AS res FROM  te2"
"SET @sav_big= (SELECT COALESCE(@session.big_tables, 0))"
"SELECT outr1.col_varchar AS f1, outr2.col_varchar AS f2
FROM `C` AS outr1 LEFT JOIN `E` AS outr2
ON (outr1.col_int_key = outr2.col_int_key)
WHERE outr1.col_varchar_key !=
(SELECT LEAD(innr1.pk, 5) OVER () AS y
FROM `DD` AS innr2 LEFT OUTER JOIN `DD` AS innr1
ON (innr2.col_date <> innr1.col_date_key)
WHERE innr1.col_int < 5 XOR outr2.col_date IS NULL
LIMIT 1)"
"SELECT
alias1 . col_int AS field1 ,
CUME_DIST() OVER (   ORDER BY alias1 . pk) AS field2 ,
alias1 . col_int_key AS field3 ,
PERCENT_RANK() OVER ( ORDER BY  alias2 .col_varchar_255_utf8_key,
alias1 . col_varchar_10_latin1_key,  alias1. col_varchar_255_utf8 )
AS field4 ,
alias1 . col_int_key AS field5 ,
PERCENT_RANK() OVER (
PARTITION BY  alias2 .col_varchar_10_utf8,  alias1 .col_int_key,
alias2 .col_varchar_255_utf8
ORDER BY alias1. col_varchar_10_latin1
ROWS CURRENT ROW  ) AS field6 ,
alias1 . col_int AS field7 ,
RANK() OVER ( ORDER BY  alias1 . col_int ) AS field8 ,
alias2 . pk AS field9 ,
NTILE ( 1 ) OVER (
PARTITION BY
alias1 .col_varchar_255_latin1,alias2 . col_varchar_255_latin1,
alias1. col_varchar_255_utf8_key,  alias1. col_varchar_10_latin1,
alias2 . col_int_key
ORDER BY alias1 . col_int,  alias1 . col_int_key)
AS field10 ,
alias1 . col_int AS field11 ,
NTILE ( 5 ) OVER ( ORDER BY  alias1. col_int ) AS field12
FROM DD AS alias1 LEFT  JOIN H AS alias2
ON alias1 . pk =  alias2 . col_int
WHERE alias1 . pk > 3
GROUP BY
field1, alias1.pk, field3,alias2.col_varchar_255_utf8_key,
alias1.col_varchar_10_latin1_key,alias1.col_varchar_255_utf8, field5,
alias2.col_varchar_10_utf8,alias1.col_int_key,
alias2.col_varchar_255_utf8,alias1.col_varchar_10_latin1, field7,
alias1.col_int, field9,alias1.col_varchar_255_latin1,
alias2.col_varchar_255_latin1,alias1.col_varchar_255_utf8_key,
alias1.col_varchar_10_latin1,alias2.col_int_key, alias1.col_int,
alias1.col_int_key, field11,alias1.col_int
HAVING field3 >= 7
ORDER BY field10  , field6  , field4"
"SELECT a, PERCENT_RANK() OVER w1 FROM t GROUP BY b,1 WITH ROLLUP WINDOW w1 AS()"
"SELECT a, PERCENT_RANK() OVER w1 FROM v GROUP BY b,1 WITH ROLLUP WINDOW w1 AS()"
"SELECT i, LAST_VALUE(i) OVER w FROM t1
WINDOW w AS (ORDER BY i RANGE BETWEEN 7 PRECEDING AND 1 PRECEDING)"
"SELECT EXISTS
(SELECT a, LAST_VALUE(INET_ATON(1)) OVER() FROM t WHERE BIT_OR(1))"
"SELECT LEAD(f1,1,1) OVER (ORDER BY f1) FROM t GROUP BY f1 WITH ROLLUP"
"SELECT * FROM (SELECT IF(1, WEEKDAY('1'), ROW_NUMBER() OVER (PARTITION BY f1))
FROM t) AS a"
"DO ST_CROSSES(@g,SUM(SHA(@g))OVER())"
"DO UNHEX(SUM(@g)OVER())"
"DO BIT_LENGTH(AVG(@f)OVER())"
"DO COMPRESS(SUM(' >')OVER())"
"DO LTRIM(AVG(LOG2(@c))OVER())"
"DO (~(SUM(@f)OVER()))"
"DO IS_UUID(SUM(@e)OVER())"
"DO TO_BASE64(AVG(@d)OVER())"
"SELECT bit_count(sum(cos(-66365726))over())"
"SELECT bit_count(avg(cos(-66365726))over())"
"SELECT SUM(a) OVER(ORDER BY a ROWS BETWEEN 9223372036854775807 PRECEDING AND
9223372036854775805 PRECEDING) as `sum` FROM t"
"WITH der AS (SELECT CASE WHEN i IN ('0') THEN i END AS a FROM t1),
der1 AS (SELECT ROW_NUMBER() OVER (ORDER BY a), a FROM der)
SELECT * FROM der1"
"WITH der AS (SELECT CASE WHEN i IN ('0') THEN i END AS a FROM t1),
der1 AS (SELECT ROW_NUMBER() OVER (ORDER BY a) FROM der)
SELECT * FROM der1"
"WITH der AS (SELECT i AS a FROM t1),
der1 AS (SELECT ROW_NUMBER() OVER (ORDER BY a) FROM der)
SELECT * FROM der1"
"SELECT 3 AS i, ROW_NUMBER() OVER (ORDER BY i) FROM t1"
"CREATE TABLE t(
a TEXT CHARACTER SET CP1251
GENERATED ALWAYS AS (LPAD(1,10621933,10)) VIRTUAL,
b BLOB
GENERATED ALWAYS AS (LPAD(1,10622,10)) VIRTUAL
) ENGINE=INNODB"
"SELECT DISTINCT i, 1 + SUM(i) OVER (ORDER BY i ROWS UNBOUNDED PRECEDING) FROM t"
"SELECT DISTINCT 1 + SUM(i) OVER (ORDER BY i ROWS UNBOUNDED PRECEDING) FROM t"
"SELECT a,b, FIRST_VALUE(b) OVER w AS first, LAST_VALUE (a) OVER w AS last
FROM t WINDOW w AS (ORDER BY a  desc RANGE 3 PRECEDING)"
"WITH RECURSIVE cte AS (
SELECT 1 num
UNION ALL
SELECT num+1 FROM cte WHERE num < 5
)
SELECT num, COUNT(*) OVER (frame) cnt_named,
COUNT(*) OVER (ORDER BY num DESC) cnt_direct
FROM cte
WINDOW frame AS (ORDER BY num DESC)"
"SELECT a + INTERVAL(LAST_VALUE(1) OVER ()) SECOND FROM (SELECT a FROM t1) q"
"SELECT 0.2 * AVG(f1) OVER w AS avg, f1
FROM t1 JOIN t2 ON t1_partkey = t2_partkey
WINDOW w AS (PARTITION BY t1_partkey)"
"SELECT FIRST_VALUE(f2) OVER(ORDER BY f1 RANGE CURRENT ROW) FROM t"
"SELECT a, SUM(a) OVER () AS s
FROM t1
GROUP BY a
ORDER BY a, s"
"SELECT ROW_NUMBER() OVER (ORDER BY a), COUNT(*) AS m
FROM t1
GROUP BY a, b
ORDER BY a, b, m"
"SELECT a
FROM t1 AS outer_t1
WHERE (a,a) IN (
SELECT MAX(a) OVER (), a FROM t1
)"
"SELECT
CUME_DIST() OVER (ORDER BY t1.a)
FROM
t1
NATURAL JOIN t1 AS t2
NATURAL JOIN t1 AS t3
NATURAL JOIN t1 AS t4
GROUP BY t1.a
WITH ROLLUP"
"SELECT
a,
SUM(1) OVER (ORDER BY b),
SUM(1) OVER (ORDER BY b DESC)
FROM t1"
"SELECT MIN(a) AS field1 FROM t1 WHERE b IN ( SELECT a FROM t2 ) ORDER BY LEAD(a, 5, 7) OVER (ORDER BY b)"
"SELECT MIN(a), LEAD(a, 5, 7) OVER (ORDER BY b) AS field1 FROM t1 WHERE b IN ( SELECT a FROM t2 ) ORDER BY b"
"SELECT DISTINCT
0 AS field1,
RANK() OVER (ORDER BY a) AS field2,
LAST_VALUE(a) OVER (ORDER BY a + 1) AS field3
FROM t1
GROUP BY a, field1 WITH ROLLUP
ORDER BY field1, field2, field3"
"SELECT LAST_VALUE(0) OVER (ORDER BY (@f:='x')) FROM t1"
"SELECT a, SUM(b)+1 AS cnt,
ROW_NUMBER() OVER (ORDER BY SUM(b) DESC) AS rn
FROM t GROUP BY a ORDER BY rn"
"SELECT a, ROUND(SUM(b), 2) AS cnt,
ROW_NUMBER() OVER (ORDER BY SUM(b) DESC) AS rn
FROM t GROUP BY a ORDER BY rn DESC"
"SELECT DISTINCT
FIRST_VALUE(col1) OVER (ORDER BY col1) AS wf1,
FIRST_VALUE(col1) OVER (ORDER BY col2) AS wf2,
FIRST_VALUE(col1) OVER (ORDER BY col3) AS wf3,
FIRST_VALUE(col1) OVER (ORDER BY col4) AS wf4,
FIRST_VALUE(col1) OVER (ORDER BY col5) AS wf5,
FIRST_VALUE(col1) OVER (ORDER BY col6) AS wf6,
FIRST_VALUE(col1) OVER (ORDER BY col7) AS wf7,
FIRST_VALUE(col1) OVER (ORDER BY col8) AS wf8,
FIRST_VALUE(col1) OVER (ORDER BY col9) AS wf9,
FIRST_VALUE(col1) OVER (ORDER BY col10) AS wf10,
FIRST_VALUE(col1) OVER (ORDER BY col11) AS wf11,
FIRST_VALUE(col1) OVER (ORDER BY col12) AS wf12,
FIRST_VALUE(col1) OVER (ORDER BY col13) AS wf13,
FIRST_VALUE(col1) OVER (ORDER BY col14) AS wf14,
FIRST_VALUE(col1) OVER (ORDER BY col15) AS wf15,
FIRST_VALUE(col1) OVER (ORDER BY col16) AS wf16,
FIRST_VALUE(col1) OVER (ORDER BY col17) AS wf17,
FIRST_VALUE(col1) OVER (ORDER BY col18) AS wf18,
FIRST_VALUE(col1) OVER (ORDER BY col19) AS wf19,
FIRST_VALUE(col1) OVER (ORDER BY col20) AS wf20,
FIRST_VALUE(col1) OVER (ORDER BY col21) AS wf21,
FIRST_VALUE(col1) OVER (ORDER BY col22) AS wf22,
FIRST_VALUE(col1) OVER (ORDER BY col23) AS wf23,
FIRST_VALUE(col1) OVER (ORDER BY col24) AS wf24,
FIRST_VALUE(col1) OVER (ORDER BY col25) AS wf25,
FIRST_VALUE(col1) OVER (ORDER BY col26) AS wf26,
FIRST_VALUE(col1) OVER (ORDER BY col27) AS wf27,
FIRST_VALUE(col1) OVER (ORDER BY col28) AS wf28,
FIRST_VALUE(col1) OVER (ORDER BY col29) AS wf29,
FIRST_VALUE(col1) OVER (ORDER BY col30) AS wf30,
FIRST_VALUE(col1) OVER (ORDER BY col31) AS wf31,
FIRST_VALUE(col1) OVER (ORDER BY col32) AS wf32,
FIRST_VALUE(col1) OVER (ORDER BY col33) AS wf33,
FIRST_VALUE(col1) OVER (ORDER BY col34) AS wf34,
FIRST_VALUE(col1) OVER (ORDER BY col35) AS wf35,
FIRST_VALUE(col1) OVER (ORDER BY col36) AS wf36,
FIRST_VALUE(col1) OVER (ORDER BY col37) AS wf37,
FIRST_VALUE(col1) OVER (ORDER BY col38) AS wf38,
FIRST_VALUE(col1) OVER (ORDER BY col39) AS wf39,
FIRST_VALUE(col1) OVER (ORDER BY col40) AS wf40,
FIRST_VALUE(col1) OVER (ORDER BY col41) AS wf41,
FIRST_VALUE(col1) OVER (ORDER BY col42) AS wf42,
FIRST_VALUE(col1) OVER (ORDER BY col43) AS wf43,
FIRST_VALUE(col1) OVER (ORDER BY col44) AS wf44,
FIRST_VALUE(col1) OVER (ORDER BY col45) AS wf45,
FIRST_VALUE(col1) OVER (ORDER BY col46) AS wf46,
FIRST_VALUE(col1) OVER (ORDER BY col47) AS wf47,
FIRST_VALUE(col1) OVER (ORDER BY col48) AS wf48,
FIRST_VALUE(col1) OVER (ORDER BY col49) AS wf49,
FIRST_VALUE(col1) OVER (ORDER BY col50) AS wf50,
FIRST_VALUE(col1) OVER (ORDER BY col51) AS wf51,
FIRST_VALUE(col1) OVER (ORDER BY col52) AS wf52,
FIRST_VALUE(col1) OVER (ORDER BY col53) AS wf53,
FIRST_VALUE(col1) OVER (ORDER BY col54) AS wf54,
FIRST_VALUE(col1) OVER (ORDER BY col55) AS wf55,
FIRST_VALUE(col1) OVER (ORDER BY col56) AS wf56,
FIRST_VALUE(col1) OVER (ORDER BY col57) AS wf57,
FIRST_VALUE(col1) OVER (ORDER BY col58) AS wf58,
FIRST_VALUE(col1) OVER (ORDER BY col59) AS wf59,
FIRST_VALUE(col1) OVER (ORDER BY col60) AS wf60,
FIRST_VALUE(col1) OVER (ORDER BY col61) AS wf61,
FIRST_VALUE(col1) OVER (ORDER BY col62) AS wf62,
FIRST_VALUE(col1) OVER (ORDER BY col63) AS wf63,
FIRST_VALUE(col1) OVER (ORDER BY col64) AS wf64,
FIRST_VALUE(col1) OVER (ORDER BY col65) AS wf65,
FIRST_VALUE(col1) OVER (ORDER BY col66) AS wf66,
FIRST_VALUE(col1) OVER (ORDER BY col67) AS wf67,
FIRST_VALUE(col1) OVER (ORDER BY col68) AS wf68,
FIRST_VALUE(col1) OVER (ORDER BY col69) AS wf69,
FIRST_VALUE(col1) OVER (ORDER BY col70) AS wf70
FROM t"
"SELECT a, PERCENT_RANK() OVER (ORDER BY a) FROM t1"
"SELECT 1 FROM t1
ORDER BY BIT_OR(a) OVER (ORDER BY b ROWS CURRENT ROW)"
"SELECT SUM(a) OVER w
FROM t1
WINDOW w AS (ORDER BY b ROWS CURRENT ROW)
ORDER BY SUM(b) OVER w"
"SELECT a, b, SUM(a) OVER w, SUM(b) OVER w
FROM t1
WINDOW w AS (ORDER BY b ROWS CURRENT ROW)
ORDER BY SUM(b) OVER w"
"SELECT DISTINCT BIT_XOR( c2 )
FROM t1
WINDOW w1 AS (ORDER BY c2),
w2 AS (ORDER BY c3 ROWS UNBOUNDED PRECEDING)
ORDER BY ( EXPORT_SET( c2,
c1,
SUM( pk ) OVER w1 ,
FIRST_VALUE( pk ) OVER w2
)
)"
"SELECT AVG( @A := c1 ) OVER (ROWS 1 PRECEDING) FROM t1"
"SELECT DISTINCT
pow( COUNT(*), @a:=(SELECT 1 FROM t1 LEFT JOIN
t1 t2
ON @a)
) AS `pow`,
AVG( @a:= a ) OVER (ROWS 1 PRECEDING) AS `avg`
FROM t1 GROUP BY a"
"SELECT DISTINCT
pow( COUNT(*), @a:=(SELECT MAX( @a := t1.a) OVER w
FROM t1
LEFT JOIN
t1 t2
ON @a
WINDOW w AS (ROWS 1 PRECEDING)
)
) AS `pow`
FROM t1 GROUP BY a"
"SELECT @A := (CUME_DIST() OVER () + f1 + RANK() OVER ()) FROM t1 GROUP BY f1 WITH ROLLUP"
"SELECT i, COUNT(*) OVER w FROM (SELECT i, i = 2 AS cmp FROM t) AS dt
WHERE cmp > 0 WINDOW w AS (PARTITION BY cmp)"
"SELECT i, COUNT(*) OVER w FROM (SELECT i, i = 2 AS cmp FROM t) AS dt
WHERE cmp > 0 WINDOW w AS (ORDER BY cmp)"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) foo FROM t"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC LIMIT 3"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) foo FROM t"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC"
"EXPLAIN FORMAT=JSON SELECT * FROM v"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) foo FROM t ORDER BY foo DESC"
"EXPLAIN FORMAT=JSON SELECT SUM(i) OVER () FROM t"
"EXPLAIN FORMAT=JSON SELECT k, SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t"
"EXPLAIN FORMAT=JSON SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t GROUP BY (k)"
"EXPLAIN FORMAT=JSON SELECT k, MIN(i), SUM(j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) wf FROM t GROUP BY (k) ORDER BY wf DESC"
"EXPLAIN FORMAT=JSON SELECT k, GROUP_CONCAT(j ORDER BY j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"EXPLAIN FORMAT=JSON SELECT k, AVG(DISTINCT j), SUM(k) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"EXPLAIN FORMAT=JSON SELECT k, GROUP_CONCAT(j ORDER BY j), SUM(k+1) OVER (ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"EXPLAIN FORMAT=JSON SELECT k, GROUP_CONCAT(j ORDER BY j), SUM(k+1) OVER (ORDER BY k DESC ROWS UNBOUNDED PRECEDING) foo FROM t GROUP BY (k)"
"EXPLAIN FORMAT=JSON SELECT RANK() OVER (ORDER BY user_id) r FROM t2"
"EXPLAIN FORMAT=JSON SELECT sex, SUM(DISTINCT id) AS uids FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex ORDER BY uids"
"EXPLAIN FORMAT=JSON SELECT id, sex, RANK() OVER (ORDER BY sex) FROM t1 ORDER BY id"
"EXPLAIN FORMAT=JSON SELECT sex, RANK() OVER (ORDER BY sex DESC) `rank`, AVG(DISTINCT id) AS uids FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex ORDER BY sex"
"EXPLAIN FORMAT=JSON SELECT  sex, AVG(id) AS uids, RANK() OVER w `rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(id))"
"EXPLAIN FORMAT=JSON SELECT  sex, AVG(DISTINCT id) AS uids, RANK() OVER w `rank` FROM t1 u, t2
WHERE t2.user_id = u.id GROUP BY sex
WINDOW w AS (ORDER BY AVG(DISTINCT id) DESC) ORDER BY sex"
"EXPLAIN FORMAT=JSON SELECT id, sex, RANK() OVER (ORDER BY sex DESC) FROM t1 ORDER BY id"
"EXPLAIN FORMAT=JSON SELECT id value,
SUM(id) OVER (ROWS UNBOUNDED PRECEDING)
FROM t1 u, t2 WHERE t2.user_id = u.id"
"EXPLAIN FORMAT=JSON SELECT AVG(id) average,
SUM(AVG(id)) OVER (ROWS UNBOUNDED PRECEDING)
FROM t1 u, t2 WHERE t2.user_id = u.id GROUP BY sex"
"EXPLAIN FORMAT=JSON SELECT sex, AVG(id), RANK() OVER (ORDER BY AVG(id) DESC) FROM t1 GROUP BY sex ORDER BY sex"
"EXPLAIN FORMAT=JSON SELECT sex, RANK() OVER (ORDER BY AVG(id) DESC) FROM t1 GROUP BY sex ORDER BY sex"
"EXPLAIN FORMAT=JSON SELECT          RANK() OVER (ORDER BY AVG(id)) FROM t1"
"EXPLAIN FORMAT=JSON SELECT AVG(id), RANK() OVER (ORDER BY AVG(id)) FROM t1"
"EXPLAIN FORMAT=JSON SELECT AVG(id), SUM(AVG(id)) OVER (ORDER BY AVG(id) ROWS UNBOUNDED PRECEDING) FROM t1"
"EXPLAIN FORMAT=JSON SELECT sex, id, RANK() OVER (PARTITION BY sex ORDER BY id DESC) FROM t1"
"EXPLAIN FORMAT=JSON SELECT sex, id, RANK() OVER (PARTITION BY sex ORDER BY id ASC) FROM t1"
"EXPLAIN FORMAT=JSON SELECT sex, id, SUM(id) OVER w summ, RANK() OVER w `rank` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ASC ROWS UNBOUNDED PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT sex, id, SUM(id) OVER w summ, RANK() OVER w `rank` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ASC ROWS UNBOUNDED PRECEDING) ORDER BY summ"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT  RANK() OVER (ORDER BY d) AS `rank`, d, date FROM t) alias ORDER BY `rank`, d, date"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT RANK() OVER (ORDER BY date) AS `rank`, date, d FROM t) alias ORDER BY `rank`, d DESC"
"EXPLAIN FORMAT=JSON SELECT i, j, SUM(j) OVER (PARTITION BY i  ORDER BY j ROWS UNBOUNDED PRECEDING) FROM t"
"EXPLAIN FORMAT=JSON SELECT SUM(id), SUM(SUM(id)) OVER (ORDER BY sex ROWS UNBOUNDED PRECEDING) FROM t1,t2 WHERE t1.id=t2.user_id GROUP BY sex"
"EXPLAIN FORMAT=JSON SELECT RANK() OVER w FROM t1,t2 WHERE t1.id=t2.user_id WINDOW w AS (PARTITION BY id ORDER BY sex)"
"EXPLAIN FORMAT=JSON SELECT RANK() OVER w FROM (SELECT * FROM t1,t2 WHERE t1.id=t2.user_id) t WINDOW w AS (PARTITION BY id ORDER BY sex)"
"EXPLAIN FORMAT=JSON SELECT  SUM(id) OVER (PARTITION BY sex ORDER BY id ROWS UNBOUNDED PRECEDING) summ, sex FROM t1"
"EXPLAIN FORMAT=JSON SELECT user_id, ROW_NUMBER() OVER (PARTITION BY user_id) FROM t2"
"EXPLAIN FORMAT=JSON SELECT * FROM t1,t2 WHERE t1.id=t2.user_id"
"EXPLAIN FORMAT=JSON SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY id ORDER BY sex)"
"EXPLAIN FORMAT=JSON SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY date ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT  date,id, RANK() OVER w AS `rank` FROM t1,t2 WINDOW w AS (PARTITION BY date ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT * from (SELECT  date,id, RANK() OVER w AS `rank` FROM t1,t2 WINDOW w AS (PARTITION BY date ORDER BY id)) t"
"EXPLAIN FORMAT=JSON SELECT t.*, SUM(t.`rank`) OVER (ROWS UNBOUNDED PRECEDING) FROM
(SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY date ORDER BY id)
) AS t"
"EXPLAIN FORMAT=JSON SELECT t1.*, RANK() OVER (ORDER BY sex), SUM(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) FROM t1"
"EXPLAIN FORMAT=JSON SELECT * from (SELECT t1.*, SUM(id) OVER (ROWS UNBOUNDED PRECEDING), RANK() OVER (ORDER BY sex) FROM t1) alias ORDER BY id"
"EXPLAIN FORMAT=JSON SELECT t1.*, SUM(id) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING),
RANK() OVER (ORDER BY sex,id),
ROW_NUMBER() OVER (ORDER BY sex,id)
FROM t1"
"EXPLAIN FORMAT=JSON SELECT t.*, SUM(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS s FROM (
SELECT t1.*,
RANK() OVER (ORDER BY sex) AS r00,
RANK() OVER (ORDER BY sex DESC) AS r01,
RANK() OVER (ORDER BY sex, id DESC) AS r02,
RANK() OVER (PARTITION BY id ORDER BY sex) AS r03,
RANK() OVER (ORDER BY sex) AS r04,
RANK() OVER (ORDER BY sex) AS r05,
RANK() OVER (ORDER BY sex) AS r06,
RANK() OVER (ORDER BY sex) AS r07,
RANK() OVER (ORDER BY sex) AS r08,
RANK() OVER (ORDER BY sex) AS r09,
RANK() OVER (ORDER BY sex) AS r10,
RANK() OVER (ORDER BY sex) AS r11,
RANK() OVER (ORDER BY sex) AS r12,
RANK() OVER (ORDER BY sex) AS r13,
RANK() OVER (ORDER BY sex) AS r14
FROM t1) t"
"EXPLAIN FORMAT=JSON SELECT t.*, SUM(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS s FROM (
SELECT t1.*,
RANK() OVER (ORDER BY sex) AS r00,
RANK() OVER (ORDER BY sex DESC) AS r01,
RANK() OVER (ORDER BY sex, id DESC) AS r02,
RANK() OVER (PARTITION BY id ORDER BY sex) AS r03,
RANK() OVER (ORDER BY sex) AS r04,
RANK() OVER (ORDER BY sex) AS r05,
RANK() OVER (ORDER BY sex) AS r06,
RANK() OVER (ORDER BY sex) AS r07,
RANK() OVER (ORDER BY sex) AS r08,
RANK() OVER (ORDER BY sex) AS r09,
RANK() OVER (ORDER BY sex) AS r10,
RANK() OVER (ORDER BY sex) AS r11,
RANK() OVER (ORDER BY sex) AS r12,
RANK() OVER (ORDER BY sex) AS r13,
RANK() OVER (ORDER BY sex) AS r14
FROM t1 LIMIT 4) t"
"EXPLAIN FORMAT=JSON SELECT SUM(id) OVER w * 2, AVG(id) OVER w, COUNT(id) OVER w FROM t1
WINDOW w AS (PARTITION BY sex)"
"EXPLAIN FORMAT=JSON SELECT * FROM (
SELECT id, SUM(id) OVER w, COUNT(*) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex)
) alias ORDER BY id"
"EXPLAIN FORMAT=JSON SELECT SUM(id) OVER w FROM t1 WINDOW w AS (PARTITION BY sex)"
"EXPLAIN FORMAT=JSON SELECT id, SUM(id) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT SUM(id) OVER w FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, AVG(id) OVER (ROWS UNBOUNDED PRECEDING) FROM t1"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER (ORDER BY d), AVG(d) OVER (ORDER BY d) FROM td"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER (ORDER BY d), AVG(d) OVER () FROM td"
"EXPLAIN FORMAT=JSON SELECT d, SUM(d) OVER w, AVG(d) OVER w FROM td
WINDOW w AS (ORDER BY d RANGE BETWEEN 2 PRECEDING AND CURRENT ROW)"
"EXPLAIN FORMAT=JSON SELECT id, NTILE(1) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, NTILE(2) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, NTILE(5) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, NTILE(11) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, ROW_NUMBER() OVER w, NTILE(4) OVER w, SUM(id) OVER w FROM t1
WINDOW w AS (ORDER BY id ROWS 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, NTILE(3) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT (ROW_NUMBER() OVER w1 * 5 - 1) DIV (COUNT(*) OVER w2) + 1 AS cnt
FROM t1 WINDOW w1 AS (ORDER BY id ASC),
w2 AS ()"
"EXPLAIN FORMAT=JSON SELECT  (ROW_NUMBER() OVER w1 * 5 - 1) DIV (COUNT(*) OVER w2) + 1 AS ntile_manually,
COUNT(*) OVER w3
FROM t1 WINDOW w1 AS (ORDER BY id ASC),
w2 AS (), w3 AS ()"
"EXPLAIN FORMAT=JSON SELECT id, ROW_NUMBER() OVER w, SUM(id) OVER w, NTILE(5) OVER w FROM t1
WINDOW w AS (ORDER BY id ROWS BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT RANK() OVER w, id, SUM(id) OVER w, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, sex, SUM(id) OVER w,
ROW_NUMBER() OVER w,
RANK() OVER w  FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS ()"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (PARTITION BY sex ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id DESC)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t1 WINDOW w AS (ORDER BY id RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS ()"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (PARTITION BY sex ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id DESC)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td1 WINDOW w AS (ORDER BY id RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS ()"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (PARTITION BY sex ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id DESC)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_dec WINDOW w AS (ORDER BY id RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS ()"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (PARTITION BY sex ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id DESC)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM td_str WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS ()"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id DESC)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id RANGE INTERVAL 2 DAY PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, FIRST_VALUE(id) OVER w FROM t_date WINDOW w AS (ORDER BY id RANGE BETWEEN INTERVAL 2 DAY PRECEDING AND INTERVAL 1 DAY PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS ()"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t)"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t DESC)"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t RANGE INTERVAL 2 HOUR PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT t, FIRST_VALUE(t) OVER w FROM t_time WINDOW w AS (ORDER BY t RANGE BETWEEN INTERVAL 2 HOUR PRECEDING AND INTERVAL 1 HOUR PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t)"
"EXPLAIN FORMAT=JSON SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t DESC)"
"EXPLAIN FORMAT=JSON SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t ROWS  2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t RANGE INTERVAL 2 HOUR PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t ROWS  BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT p, t, FIRST_VALUE(t) OVER w FROM t_time2 WINDOW w AS (PARTITION by p ORDER BY t RANGE BETWEEN INTERVAL 2 HOUR PRECEDING AND INTERVAL 1 HOUR PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT * FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, SUM(id) OVER (ORDER BY id RANGE 2 PRECEDING) FROM t1 ORDER BY id"
"EXPLAIN FORMAT=JSON SELECT id, SUM(id) OVER (ORDER BY id RANGE UNBOUNDED PRECEDING) FROM t1 ORDER BY id"
"EXPLAIN FORMAT=JSON SELECT p, id, SUM(id) OVER (PARTITION BY p ORDER BY id RANGE 2 PRECEDING) FROM t11 ORDER BY p,id"
"EXPLAIN FORMAT=JSON SELECT p, id, SUM(id) OVER (PARTITION BY p ORDER BY id RANGE UNBOUNDED PRECEDING) FROM t11 ORDER BY p,id"
"EXPLAIN FORMAT=JSON SELECT user_id, SUM(user_id) OVER w, AVG(user_id) OVER w FROM t2 WINDOW w AS (ORDER BY user_id)"
"EXPLAIN FORMAT=JSON SELECT p, user_id, SUM(user_id) OVER w, AVG(user_id) OVER w FROM t22 WINDOW w AS (PARTITION BY p ORDER BY user_id) ORDER BY p"
"EXPLAIN FORMAT=JSON SELECT user_id, SUM(user_id) OVER w, AVG(user_id) OVER w1 FROM t2
WINDOW w AS (ORDER BY user_id), w1 AS (ORDER BY user_id)"
"EXPLAIN FORMAT=JSON SELECT NTILE(5) OVER w, ROW_NUMBER() OVER w, id, SUM(id) OVER w FROM t1
WINDOW w AS (ORDER BY id DESC RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT p, NTILE(5) OVER w, ROW_NUMBER() OVER w, id, SUM(id) OVER w FROM t11
WINDOW w AS (PARTITION BY p ORDER BY id DESC RANGE 2 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT user_id, date, COUNT(*) OVER (ORDER BY date RANGE INTERVAL 1 DAY PRECEDING) FROM t2"
"EXPLAIN FORMAT=JSON SELECT CAST(SUM(j) OVER () AS JSON) FROM tj"
"EXPLAIN FORMAT=JSON SELECT DISTINCT i,COUNT(*) OVER () FROM tj"
"EXPLAIN FORMAT=JSON SELECT DISTINCT i,NTILE(3) OVER (ORDER BY i), SUM(i) OVER (), COUNT(*) OVER () FROM tj ORDER BY NTILE(3) OVER (ORDER BY i)"
"EXPLAIN FORMAT=JSON SELECT * FROM tj2"
"EXPLAIN FORMAT=JSON SELECT          COUNT(*) OVER (), MOD(SUM(i),2) FROM tj2 GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT DISTINCT COUNT(*) OVER (), MOD(SUM(i),2) FROM tj2 GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT i, SUM(i) OVER (), MOD(SUM(i),2) FROM tj2 GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT i, SUM(SUM(i)) OVER (), SUM(i) OVER (ORDER BY i), MOD(SUM(i),2), SUM(i) FROM tj2 GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT LAST_VALUE(j) OVER w, FIRST_VALUE(j) OVER w FROM tj WINDOW w AS (PARTITION BY i ORDER BY j ROWS UNBOUNDED PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT i, LAST_VALUE((CAST(j AS UNSIGNED))) OVER w, FIRST_VALUE(CAST(j AS UNSIGNED)) OVER w FROM tj
WINDOW w AS (PARTITION BY i ORDER BY CAST(j AS UNSIGNED) RANGE UNBOUNDED PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT j,CAST(SUM(j) OVER (PARTITION BY i) AS JSON), CAST(SUM(j) OVER () AS JSON) FROM tj"
"EXPLAIN FORMAT=JSON SELECT j,CAST(SUM(j) OVER (PARTITION BY i ROWS UNBOUNDED PRECEDING) AS JSON), CAST(SUM(j) OVER (PARTITION BY i ROWS UNBOUNDED PRECEDING) AS JSON) FROM tj"
"EXPLAIN FORMAT=JSON SELECT i, ROW_NUMBER() OVER () FROM tj UNION ALL SELECT i, ROW_NUMBER() OVER () FROM tj"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT i, j, ROW_NUMBER() OVER (ORDER BY j) FROM tj UNION SELECT i, j, ROW_NUMBER() OVER (ORDER BY j) FROM tj) alias"
"EXPLAIN FORMAT=JSON SELECT j, JSON_TYPE(j), SUM(j) OVER (ORDER BY j ROWS 3 PRECEDING) FROM tj"
"EXPLAIN FORMAT=JSON SELECT j,
JSON_TYPE(j),
SUM(CASE WHEN JSON_TYPE(j) = 'ARRAY' THEN j->""$[0]"" ELSE j END)
OVER (ORDER BY j ROWS 3 PRECEDING)
FROM tj"
"EXPLAIN FORMAT=JSON SELECT id, AVG(id) OVER (PARTITION BY id) summ FROM t1"
"EXPLAIN FORMAT=JSON SELECT     AVG(id) OVER (PARTITION BY id) summ FROM t1"
"EXPLAIN FORMAT=JSON SELECT id, AVG(id) OVER (PARTITION BY id) summ,
AVG(id) OVER (PARTITION BY id) summ2 FROM t1"
"EXPLAIN FORMAT=JSON SELECT     AVG(id) OVER (PARTITION BY id) summ,
AVG(id) OVER (PARTITION BY id) summ2 FROM t1"
"EXPLAIN FORMAT=JSON SELECT COUNT(id) OVER w, id, AVG(id) OVER w, SUM(id) OVER w, FIRST_VALUE(id) OVER w FROM t1
WINDOW w AS (ORDER BY id RANGE 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, count(id) over w, count(*) over w, FIRST_VALUE(id) OVER w FROM t1
WINDOW w AS (ORDER BY id ASC  RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT id, count(id) over w, count(*) over w, FIRST_VALUE(id) OVER w FROM t1
WINDOW w AS (ORDER BY id DESC RANGE BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"EXPLAIN FORMAT=JSON SELECT sex, AVG(id), ROW_NUMBER() OVER w FROM t1
GROUP BY sex HAVING sex='M' OR sex IS NULL
WINDOW w AS (ORDER BY AVG(id)) ORDER BY sex DESC"
"EXPLAIN FORMAT=JSON SELECT *, RANK() OVER (ORDER BY i,j,k) AS O_IJK,
RANK() OVER (ORDER BY j) AS O_J,
RANK() OVER (ORDER BY k,j) AS O_KJ FROM t ORDER BY i,j,k"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER ()"
"EXPLAIN FORMAT=JSON SELECT *, ABS(ROW_NUMBER() OVER (ORDER BY s1,s2))
- ROW_NUMBER() OVER (ORDER BY s1,s2) AS X FROM t1"
"EXPLAIN FORMAT=JSON SELECT RANK() OVER (ORDER BY AVG(s1)) FROM t1"
"EXPLAIN FORMAT=JSON SELECT COUNT(*) OVER (ORDER BY s2) FROM t1 WHERE s2 IS NULL"
"EXPLAIN FORMAT=JSON SELECT * FROM (
SELECT *, SUM(s1) OVER (ORDER BY s1) FROM t1 ORDER BY s1
) alias ORDER BY s1,s2"
"EXPLAIN FORMAT=JSON SELECT *, AVG(s1) OVER () FROM t1"
"EXPLAIN FORMAT=JSON SELECT *, AVG(s1) OVER (ROWS UNBOUNDED PRECEDING) FROM t1"
"EXPLAIN FORMAT=JSON SELECT * FROM t ORDER BY RANK() OVER (ORDER BY a DESC,b,c)"
"EXPLAIN FORMAT=JSON SELECT *, RANK() OVER (ORDER BY a DESC,b,c) AS `rank` FROM t ORDER BY `rank`"
"EXPLAIN FORMAT=JSON SELECT * FROM (
SELECT a,b,c, RANK() OVER (ORDER BY 1*1) FROM t
) alias ORDER BY a,b,c"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT count(*) OVER (), sum(c) OVER () AS sum1, a from t) as alias"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT count(*) OVER () + sum(c) OVER () AS sum1, a from t) as alias"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT SUM(b) OVER (), a FROM t) AS alias"
"EXPLAIN FORMAT=JSON SELECT * FROM (SELECT SUM(b) OVER (), b FROM t) AS alias"
"EXPLAIN FORMAT=JSON SELECT SUM(a) OVER (ORDER BY b) FROM t"
"EXPLAIN FORMAT=JSON SELECT COUNT(*) OVER (ORDER BY b) FROM t"
"EXPLAIN FORMAT=JSON SELECT AVG(b) OVER (ORDER BY b) FROM t"
"EXPLAIN FORMAT=JSON SELECT a,b,LAST_VALUE(a) OVER (ORDER BY b,a) FROM t"
"EXPLAIN FORMAT=JSON SELECT NTILE(2) OVER (ORDER BY b) FROM t"
"EXPLAIN FORMAT=JSON SELECT SUM(j) OVER w, COUNT(j) OVER (),
AVG(j) OVER (w ORDER BY j), FIRST_VALUE(j) OVER w
FROM t WINDOW w AS (PARTITION BY i)
ORDER BY LAST_VALUE(j) OVER w, NTH_VALUE(j,1) OVER (),
ROW_NUMBER() OVER (PARTITION BY j)"
"EXPLAIN FORMAT=JSON
SELECT ROW_NUMBER() OVER () AS rn
FROM ( t1 LEFT JOIN t2 ON (t2.a <= t1 . a ) )
WHERE t1.a = 3
GROUP BY t1.a"
"EXPLAIN FORMAT=JSON SELECT * FROM t"
"EXPLAIN FORMAT=JSON SELECT * FROM t ORDER BY i"
"EXPLAIN FORMAT=JSON SELECT * FROM t GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT * FROM t GROUP BY i ORDER BY i DESC"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER () FROM t"
"EXPLAIN FORMAT=JSON SELECT DISTINCT i FROM t"
"EXPLAIN FORMAT=JSON SELECT DISTINCT ROW_NUMBER() OVER () FROM t"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER () FROM t ORDER BY i"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER () FROM t GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i) FROM t"
"EXPLAIN FORMAT=JSON SELECT DISTINCT ROW_NUMBER() OVER (PARTITION BY i) FROM t"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i) FROM t ORDER BY i"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i) FROM t ORDER BY i DESC"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER () FROM t"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i) FROM t"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i DESC) FROM t"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i DESC) FROM t GROUP BY i"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i DESC) FROM t GROUP BY i ORDER BY i DESC"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i DESC) FROM t GROUP BY i ORDER BY i"
"EXPLAIN FORMAT=JSON SELECT ROW_NUMBER() OVER (ORDER BY AVG(i)) AS rn FROM t"
"SELECT ROW_NUMBER() OVER (PARTITION BY i), SUM(i) OVER (ORDER BY i DESC) FROM t GROUP BY i ORDER BY i"
"EXPLAIN FORMAT=tree SELECT SUM(c) OVER (PARTITION BY a ORDER BY b) FROM t1"
"EXPLAIN FORMAT=tree SELECT SUM(c) OVER (PARTITION BY a ORDER BY b), SUM(c) OVER (ORDER BY a,b) FROM t1"
"EXPLAIN FORMAT=tree SELECT SUM(b) OVER (PARTITION BY a), SUM(c) OVER (ORDER BY a,b) FROM t1"
"EXPLAIN FORMAT=tree SELECT SUM(c) OVER (PARTITION BY a ORDER BY b), SUM(c) OVER (ORDER BY b,a) FROM t1"
"EXPLAIN FORMAT=tree SELECT SUM(a) OVER (PARTITION BY a) FROM t1"
"EXPLAIN FORMAT=tree SELECT SUM(a) OVER (PARTITION BY a ORDER BY b) FROM t1"
"EXPLAIN FORMAT=tree SELECT a, SUM(c) OVER (PARTITION BY a) FROM t1 ORDER BY a"
"EXPLAIN FORMAT=tree SELECT a, SUM(c) OVER (ORDER BY b), AVG(c) OVER (ORDER BY a), SUM(c) OVER (PARTITION BY a) AS x FROM t1 ORDER BY b, x"
"EXPLAIN FORMAT=tree SELECT SQL_BIG_RESULT DISTINCT a, SUM(c) OVER (ORDER BY b) FROM t1"
"EXPLAIN FORMAT=tree SELECT DISTINCT a, b, SUM(b) OVER (PARTITION BY a) FROM t1 ORDER BY a"
"EXPLAIN FORMAT=tree SELECT SQL_BIG_RESULT DISTINCT a, SUM(c) OVER (ORDER BY b) FROM t1 ORDER BY a"
"EXPLAIN FORMAT=tree SELECT SUM(a) OVER (ORDER BY b) FROM t1 WHERE b=3"
"EXPLAIN FORMAT=tree SELECT t1.a, SUM(t1.a) OVER (ORDER BY t1.a), SUM(t2.b) OVER (ORDER BY t2.b) FROM t1 JOIN t1 AS t2 ON t1.a = t2.b"
"EXPLAIN FORMAT=TREE
SELECT ROW_NUMBER() OVER (PARTITION BY t1.x)
FROM t1, t2 WHERE t1.x = t2.pk
GROUP BY t1.pk"
"SELECT ROW_NUMBER() OVER () , BIT_AND(i) FROM ot WHERE f(2)<2"
"SELECT ROW_NUMBER() OVER () AS RN, BIT_AND(i) AS x FROM ot WHERE f(2) < 2 HAVING x < 2"
"SELECT SUM(BIT_AND(i)) OVER (ORDER BY BIT_AND(i)) , BIT_AND(i) FROM ot WHERE f(2)<2"
"SELECT j, i, f, JSON_ARRAYAGG(i) OVER w jarray_i, JSON_ARRAYAGG(f)
OVER w jarray_f FROM t1 WINDOW w AS (ORDER BY j)"
"SELECT j, s, JSON_ARRAYAGG(s) OVER w jarray_s, JSON_ARRAYAGG(j)
OVER w jarray_j FROM t1 WINDOW w AS (ORDER BY j)"
"SELECT i, JSON_ARRAYAGG(i) OVER() FROM t1"
"SELECT s, j, JSON_ARRAYAGG(s) OVER w jarray_s, JSON_ARRAYAGG(j)
OVER w jarray_j FROM t1 WINDOW w AS (ORDER BY j) ORDER BY j DESC"
"SELECT j, i, f, JSON_ARRAYAGG(i) OVER w jarray_i, JSON_ARRAYAGG(f)
OVER w jarray_f FROM t1 WINDOW w AS (ORDER BY j DESC)"
"CREATE VIEW v AS SELECT i, j, JSON_ARRAYAGG(j)
OVER (ORDER BY i DESC ROWS UNBOUNDED PRECEDING) jarray_j FROM t1"
"SELECT s, j, JSON_ARRAYAGG(s) OVER w jarray_s, JSON_ARRAYAGG(j)
OVER w jarray_j FROM t1 GROUP BY s,j WINDOW w AS (ORDER BY j)"
"SELECT i, PERCENT_RANK() OVER (ORDER BY f) p_rank, JSON_ARRAYAGG(j)
OVER (ORDER BY i,j ROWS UNBOUNDED PRECEDING) jarray_j FROM t1"
"SELECT i, f, MIN(i) OVER w min, JSON_ARRAYAGG(i) OVER w jarray_i FROM t1
WINDOW w AS (PARTITION BY f)"
"SELECT i, f, MAX(i) OVER w max, JSON_ARRAYAGG(i) OVER w jarray_i FROM t1
WINDOW w AS (PARTITION BY i ROWS UNBOUNDED PRECEDING)"
"SELECT i, j, f, RANK() OVER w rank1, JSON_ARRAYAGG(i)
OVER w jarray_i FROM t1 WINDOW w AS (PARTITION BY i ORDER BY j ROWS
BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT j, s, f, JSON_OBJECTAGG(j,f) OVER w jobject_f, JSON_OBJECTAGG(j,s)
OVER w jobject_s FROM t1 WINDOW w AS (ORDER BY j)"
"SELECT i, JSON_OBJECTAGG(i,j) OVER() FROM t1"
"SELECT j, s, JSON_OBJECTAGG(j,s) OVER w jobject_s, JSON_OBJECTAGG(f,j)
OVER w jobject_j FROM t1 WINDOW w AS (ORDER BY j) ORDER BY j DESC"
"SELECT j, i, JSON_OBJECTAGG(j,i) OVER w jobject_i, JSON_OBJECTAGG(j,f)
OVER w jobject_f FROM t1 WINDOW w AS (ORDER BY j DESC)"
"SELECT i, j, JSON_OBJECTAGG(j,f) OVER w jobject_i, JSON_OBJECTAGG(j,s)
OVER w jobject_f FROM t1 WINDOW w AS (PARTITION BY i ORDER BY j)"
"SELECT j, s, f, JSON_OBJECTAGG(j,s) OVER w jobject_s, JSON_OBJECTAGG(f,j)
OVER w jobject_j FROM t1 WINDOW w AS (PARTITION BY i ORDER BY s)"
"SELECT i, JSON_OBJECTAGG(i,j) OVER(PARTITION BY i) FROM t1"
"CREATE VIEW v AS SELECT i, j, JSON_OBJECTAGG(i,j)
OVER (ORDER BY i DESC ROWS UNBOUNDED PRECEDING) jobject_j FROM t1"
"SELECT j, s, JSON_OBJECTAGG(j, s) OVER w jobject_s FROM t1
GROUP BY j,s WINDOW w AS (ORDER BY j)"
"SELECT i, j, f, JSON_OBJECTAGG(j,f) OVER w jobject_f, RANK()
OVER w rank1 FROM t1 WINDOW w AS (PARTITION BY i ORDER BY i)"
"SELECT i, f, PERCENT_RANK() OVER (ORDER BY f) p_rank, JSON_OBJECTAGG(i,j)
OVER (ORDER BY i,j ROWS UNBOUNDED PRECEDING) jobject_j FROM t1"
"SELECT i, j, f, JSON_OBJECTAGG(i,j) OVER w jobject_i, MIN(i)
OVER w min FROM t1 WINDOW w AS (PARTITION BY i)"
"SELECT i, j, f, JSON_OBJECTAGG(j,f) OVER w jobject_j, MAX(i)
OVER w max FROM t1 WINDOW w AS (PARTITION BY f ROWS UNBOUNDED PRECEDING)"
"SELECT i, j, f, JSON_OBJECTAGG(j,f) OVER w jobject_j, RANK()
OVER w rank1 FROM t1 WINDOW w AS (PARTITION BY f ORDER BY j ROWS
BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT i, j, f, JSON_OBJECTAGG(j,f) OVER w jobject_j, RANK()
OVER w rank1 FROM t1 WINDOW w AS (PARTITION BY f ORDER BY j ROWS
BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT i, j, f, JSON_OBJECTAGG(i,j) OVER w jobject_i, MAX(i) OVER w max FROM t1
WINDOW w AS (PARTITION BY f ROWS UNBOUNDED PRECEDING)"
"SELECT i, j, f, JSON_OBJECTAGG(i,j) OVER w jobject_i, RANK()
OVER w rank1 FROM t1 WINDOW w AS (PARTITION BY f ORDER BY j ROWS
BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT i, j, f, JSON_OBJECTAGG(i,j) OVER w jobject_i, RANK()
OVER w rank1 FROM t1 WINDOW w AS (PARTITION BY f ORDER BY j ROWS
BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT 0 & (JSON_ARRAYAGG(1) OVER w) FROM (select 1) as dt  WINDOW w as ()"
"SELECT MAKETIME(((1)<=> (JSON_OBJECTAGG('1',1)OVER())),'1',1)"
"SELECT MAKETIME(((1)<=> (2*JSON_OBJECTAGG('1',1)OVER())),'1',1)"
"SELECT (1 + CAST(JSON_OBJECTAGG(1,2) OVER () AS DECIMAL))"
"SELECT JSON_OBJECTAGG(`key`, i) OVER w AS agg
FROM t WINDOW w AS (ORDER BY `key` ROWS CURRENT ROW)"
"SELECT JSON_OBJECTAGG(`key`, i) OVER w AS agg
FROM t WINDOW w AS (ORDER BY i ROWS CURRENT ROW)"
"SELECT i, j, MIN(i) OVER (ROWS UNBOUNDED PRECEDING) min,
MAX(j) OVER (ROWS UNBOUNDED PRECEDING) max FROM t"
"SELECT i, j, MIN(i) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) min,
MAX(j) OVER (ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW) max FROM t"
"SELECT i, j, MIN(i+j) OVER (ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY j"
"SELECT i, j, MAX(i+j) OVER (ROWS UNBOUNDED PRECEDING) max FROM t ORDER BY j"
"SELECT i, j, MIN(i+j) OVER (ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY j DESC"
"SELECT i, j, MAX(i+j) OVER (ROWS UNBOUNDED PRECEDING) max FROM t ORDER BY j DESC"
"SELECT i, j, MIN(i) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) min,
MAX(j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) max FROM t"
"SELECT i, j, MIN(j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) min,
MAX(i) OVER (ORDER BY i ROWS UNBOUNDED PRECEDING) max FROM t ORDER BY j "
"SELECT i, j, MIN(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY j DESC"
"SELECT i, j, MAX(i+j) OVER (ORDER BY j ROWS UNBOUNDED PRECEDING) max FROM t ORDER BY j DESC"
"SELECT i, j, MIN(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY j DESC"
"SELECT i, j, MAX(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) max FROM t ORDER BY j DESC"
"SELECT i, j, MIN(i+j) OVER (ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY NULL DESC"
"EXPLAIN FORMAT=JSON SELECT i, j, MIN(i+j) OVER (ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY NULL DESC"
"SELECT i, j, MIN(i+j) OVER (ROWS UNBOUNDED PRECEDING) min FROM t ORDER BY j DESC LIMIT 3"
"CREATE VIEW v AS
SELECT i, j, MIN(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) min,
MAX(i+j) OVER (ORDER BY j DESC ROWS UNBOUNDED PRECEDING) max FROM t"
"SELECT MIN(i) OVER () FROM t"
"SELECT MAX(i) OVER () FROM t"
"SELECT k, MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min,
MAX(k) OVER (ROWS UNBOUNDED PRECEDING) max FROM t"
"SELECT k, MIN(i), SUM(j), MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min_wf FROM t GROUP BY (k)"
"SELECT k, MIN(i), SUM(j), MAX(k) OVER (ROWS UNBOUNDED PRECEDING) max_wf FROM t GROUP BY (k)"
"SELECT k, MIN(i), SUM(j), MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min_wf FROM t GROUP BY (k) ORDER BY min_wf DESC"
"SELECT k, MIN(i), SUM(j), MAX(k) OVER (ROWS UNBOUNDED PRECEDING) max_wf FROM t GROUP BY (k) ORDER BY max_wf DESC"
"SELECT k, GROUP_CONCAT(j ORDER BY j), MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min,
MAX(k) OVER (ROWS UNBOUNDED PRECEDING) max FROM t GROUP BY (k)"
"SELECT k, AVG(DISTINCT j), MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min,
MAX(k) OVER (ROWS UNBOUNDED PRECEDING) max FROM t GROUP BY (k)"
"SELECT k, GROUP_CONCAT(j ORDER BY j), MIN(k+1) OVER (ROWS UNBOUNDED PRECEDING) min FROM t GROUP BY (k)"
"SELECT k, GROUP_CONCAT(j ORDER BY j), MAX(k+1) OVER (ROWS UNBOUNDED PRECEDING) max FROM t GROUP BY (k)"
"SELECT k, GROUP_CONCAT(j ORDER BY j), MIN(k+1) OVER (ORDER BY k DESC ROWS UNBOUNDED PRECEDING) min FROM t GROUP BY (k)"
"SELECT k, GROUP_CONCAT(j ORDER BY j), MAX(k+1) OVER (ORDER BY k DESC ROWS UNBOUNDED PRECEDING) max FROM t GROUP BY (k)"
"SELECT sex, AVG(id), MIN(AVG(id)) OVER w min, MAX(AVG(id)) OVER w max FROM t1
GROUP BY sex HAVING sex='M' OR sex='F' OR sex IS NULL
WINDOW w AS (ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), MIN(AVG(id)) OVER w min, MAX(AVG(id)) OVER w max FROM t1
GROUP BY sex HAVING sex=(SELECT c FROM ss LIMIT 1) OR sex='F' OR sex IS NULL
WINDOW w AS (ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), MIN(AVG(id)) OVER w min, MAX(AVG(id)) OVER w max, NTILE(2) OVER w FROM t1
GROUP BY sex
WINDOW w AS (ORDER BY sex ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT sex, AVG(id), MIN(AVG(id)) OVER w min, MAX(AVG(id)) OVER w max, NTILE(2) OVER w FROM t1
GROUP BY sex HAVING sex=(SELECT c FROM ss LIMIT 1) OR sex='F' OR sex IS NULL
WINDOW w AS (ORDER BY sex ROWS UNBOUNDED PRECEDING) ORDER BY sex DESC"
"SELECT k, MIN(i), SUM(j), MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min_wf FROM t
GROUP BY (k) WITH ROLLUP"
"SELECT k, MIN(i), SUM(j), MAX(k) OVER (ROWS UNBOUNDED PRECEDING) max_wf FROM t
GROUP BY (k) WITH ROLLUP"
"SELECT k, MIN(i), SUM(j), MIN(k) OVER (ORDER BY k DESC ROWS UNBOUNDED PRECEDING) min_wf FROM t
GROUP BY (k) WITH ROLLUP ORDER BY k DESC"
"SELECT k, MIN(i), SUM(j), MIN(k) OVER (ROWS UNBOUNDED PRECEDING) min_wf FROM t
GROUP BY k,j WITH ROLLUP"
"SELECT t3_id, MIN(t3_id) OVER w min,
MAX(t3_id) OVER w max,
CUME_DIST() OVER w c_dist,
LEAD(t3_id, 2) OVER w lead2,
NTH_VALUE(t3_id, 3) OVER w nth,
k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id)"
"SELECT t3_id, MIN(t3_id) OVER w min,
MAX(t3_id) OVER w max,
CUME_DIST() OVER w c_dist,
LEAD(t3_id, 2) OVER w lead2,
NTH_VALUE(t3_id, 3) OVER w nth,
k FROM t3
WINDOW w AS (PARTITION BY k ORDER BY t3_id RANGE UNBOUNDED PRECEDING)"
"SELECT t.*, MIN(t.rank) OVER (ROWS UNBOUNDED PRECEDING) min,
MAX(t.rank) OVER (ROWS UNBOUNDED PRECEDING) max FROM
(SELECT sex, id, date, ROW_NUMBER() OVER w AS row_no, RANK() OVER w AS `rank` FROM t1,t2
WHERE t1.id=t2.user_id
WINDOW w AS (PARTITION BY date ORDER BY id)
) AS t"
"SELECT t1.*, RANK() OVER (ORDER BY sex) `rank`, MIN(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) min FROM t1"
"SELECT t1.*, PERCENT_RANK() OVER (ORDER BY sex) p_rank, MAX(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) max FROM t1"
"SELECT t1.*, CUME_DIST() OVER (ORDER BY sex) c_dist, MIN(id) OVER (ORDER BY sex,id ROWS UNBOUNDED PRECEDING) min FROM t1"
"SELECT * from (SELECT t1.*, MIN(id) OVER (ROWS UNBOUNDED PRECEDING) min, RANK() OVER (ORDER BY sex) `rank` FROM t1) alias ORDER BY id"
"SELECT * from (SELECT t1.*, MAX(id) OVER (ROWS UNBOUNDED PRECEDING) max, PERCENT_RANK() OVER (ORDER BY sex) p_rank FROM t1) alias ORDER BY id"
"SELECT * from (SELECT t1.*, MAX(id) OVER (ROWS UNBOUNDED PRECEDING) max, CUME_DIST() OVER (ORDER BY sex) c_dist FROM t1) alias ORDER BY id"
"SELECT t1.*, MIN(id) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) min,
MAX(id) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) max,
RANK() OVER (ORDER BY sex,id) `rank`,
ROW_NUMBER() OVER (ORDER BY sex,id) row_num
FROM t1"
"SELECT t.*, MIN(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS min,
MAX(id + r00 + r01) OVER (ORDER BY id ROWS UNBOUNDED PRECEDING) AS max FROM (
SELECT t1.*,
RANK() OVER (ORDER BY sex, id) AS r00,
RANK() OVER (ORDER BY sex, id DESC) AS r01,
RANK() OVER (ORDER BY sex, id DESC) AS r02,
RANK() OVER (PARTITION BY id ORDER BY sex) AS r03,
RANK() OVER (ORDER BY sex,id) AS r04,
RANK() OVER (ORDER BY sex,id) AS r05,
RANK() OVER (ORDER BY sex, id) AS r06,
RANK() OVER (ORDER BY sex, id) AS r07,
RANK() OVER (ORDER BY sex, id) AS r08,
RANK() OVER (ORDER BY sex, id) AS r09,
RANK() OVER (ORDER BY sex, id) AS r10,
RANK() OVER (ORDER BY sex, id) AS r11,
RANK() OVER (ORDER BY sex, id) AS r12,
RANK() OVER (ORDER BY sex, id) AS r13,
RANK() OVER (ORDER BY sex, id) AS r14
FROM t1) t"
"SELECT AVG(id) OVER w, MIN(id) OVER w min, MAX(id) OVER w max FROM t1
WINDOW w AS (PARTITION BY sex)"
"SELECT * FROM (
SELECT id, SUM(id) OVER w, MIN(id) OVER w min, MAX(id) OVER w max, sex FROM t1
WINDOW w AS (PARTITION BY sex)
) alias ORDER BY id"
"SELECT MIN(id) OVER w min FROM t1 WINDOW w AS (PARTITION BY sex)"
"SELECT MAX(id) OVER w max FROM t1 WINDOW w AS (PARTITION BY sex)"
"SELECT id, MIN(id) OVER w min, MAX(id) OVER w max, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"CREATE VIEW v AS
SELECT id, SUM(id) OVER w, MIN(id) OVER w min, MAX(id) OVER w max, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT SUM(id) OVER w, MIN(id) OVER w min,
MAX(id) OVER w max FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id
ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, AVG(id) OVER (ROWS UNBOUNDED PRECEDING) avg,
MIN(id) OVER (ROWS UNBOUNDED PRECEDING) min FROM t1"
"SELECT id, AVG(id) OVER (ROWS UNBOUNDED PRECEDING),
MAX(id) OVER (ROWS UNBOUNDED PRECEDING) max FROM t1"
"SELECT d, MIN(d) OVER (ORDER BY d) min, MAX(d) OVER (ORDER BY d) max FROM td"
"SELECT d, MIN(d) OVER () min, MAX(d) OVER () max FROM td"
"SELECT d, MIN(d) OVER w min, MAX(d) OVER w max FROM td
WINDOW w AS (ORDER BY d RANGE BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT d, SUM(d) OVER w sum, MAX(d) OVER w max, MIN(d) OVER w min FROM td
WINDOW w AS (ORDER BY d RANGE BETWEEN 2 PRECEDING AND CURRENT ROW)"
"SELECT RANK() OVER w `rank`, id, MIN(id) OVER w min, MAX(id) OVER w max, sex FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id)"
"SELECT id, sex, MIN(id) OVER w min,
MAX(id) OVER w max,
ROW_NUMBER() OVER w `row_number`,
RANK() OVER w  `rank` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, sex, MIN(id) OVER w min,
MAX(id) OVER w max,
ROW_NUMBER() OVER w `row_number`,
CUME_DIST() OVER w  `cume_dist` FROM t1
WINDOW w AS (PARTITION BY sex ORDER BY id ROWS BETWEEN 2 PRECEDING AND 1 PRECEDING)"
"SELECT id, MIN(id) OVER (ORDER BY id RANGE 2 PRECEDING) min FROM t1 ORDER BY id"
"SELECT id, MIN(id) OVER (ORDER BY id RANGE 2 PRECEDING) max FROM t1 ORDER BY id"
"SELECT id, MIN(id) OVER (ORDER BY id RANGE UNBOUNDED PRECEDING) min FROM t1 ORDER BY id"
"SELECT id, MAX(id) OVER (ORDER BY id RANGE UNBOUNDED PRECEDING) max FROM t1 ORDER BY id"
"SELECT p, id, MIN(id) OVER (PARTITION BY p ORDER BY id RANGE 2 PRECEDING) min FROM t11 ORDER BY p,id"
"SELECT p, id, MAX(id) OVER (PARTITION BY p ORDER BY id RANGE 2 PRECEDING) max FROM t11 ORDER BY p,id"
"SELECT p, id, MIN(id) OVER (PARTITION BY p ORDER BY id RANGE UNBOUNDED PRECEDING) min FROM t11 ORDER BY p,id"
"SELECT p, id, MAX(id) OVER (PARTITION BY p ORDER BY id RANGE UNBOUNDED PRECEDING) max FROM t11 ORDER BY p,id"
"SELECT user_id, MIN(user_id) OVER w, MAX(user_id) OVER w FROM t2 WINDOW w AS (ORDER BY user_id)"
"SELECT p, user_id, MIN(user_id) OVER w, MAX(user_id) OVER w FROM t22 WINDOW w AS (PARTITION BY p ORDER BY user_id) ORDER BY p"
"SELECT user_id, MIN(user_id) OVER w, MAX(user_id) OVER w1 FROM t2
WINDOW w AS (ORDER BY user_id), w1 AS (ORDER BY user_id)"
"SELECT NTILE(5) OVER w, ROW_NUMBER() OVER w, id, MIN(id) OVER w FROM t1
WINDOW w AS (ORDER BY id DESC RANGE 2 PRECEDING)"
"SELECT p, NTILE(5) OVER w, ROW_NUMBER() OVER w, id, MAX(id) OVER w FROM t11
WINDOW w AS (PARTITION BY p ORDER BY id DESC RANGE 2 PRECEDING)"
"SELECT MIN(j) OVER () AS JSON FROM tj"
"SELECT j, JSON_TYPE(j), MIN(j) OVER (ORDER BY j ROWS 3 PRECEDING) FROM tj"
"SELECT j, JSON_TYPE(j), MAX(j) OVER (ORDER BY j ROWS 3 PRECEDING) FROM tj"
"SELECT j, JSON_TYPE(j), JSON_TYPE(MAX(j) OVER (ORDER BY j ROWS 3 PRECEDING)) FROM tj"
"SELECT j,
JSON_TYPE(j),
MIN(CASE WHEN JSON_TYPE(j) = 'ARRAY' THEN j->""$[0]"" ELSE j END)
OVER (ORDER BY j ROWS 3 PRECEDING)
FROM tj"
"SELECT DISTINCT i,NTILE(3) OVER (ORDER BY i), MAX(i) OVER (), COUNT(*) OVER () FROM tj ORDER BY NTILE(3) OVER (ORDER BY i)"
"SELECT          COUNT(*) OVER (), MOD(MIN(i),2) FROM tj2 GROUP BY i "
"SELECT DISTINCT COUNT(*) OVER (), MOD(MAX(i),2) FROM tj2 GROUP BY i "
"SELECT i, MIN(i) OVER (), MOD(MIN(i),2) FROM tj2 GROUP BY i "
"SELECT i, MAX(MAX(i)) OVER (), MAX(i) OVER (ORDER BY i), MOD(MAX(i),2), MAX(i) FROM tj2 GROUP BY i "
"SELECT i, MIN(i) OVER (ORDER BY i) FROM tj UNION ALL SELECT i, MIN(i) OVER (ORDER BY i) FROM tj"
"SELECT j,CAST(MIN(j) OVER (PARTITION BY i) AS JSON), CAST(MAX(j) OVER () AS JSON) FROM tj"
"SELECT j,CAST(MIN(j) OVER (PARTITION BY i ROWS UNBOUNDED PRECEDING) AS JSON), CAST(MAX(j) OVER (PARTITION BY i ROWS UNBOUNDED PRECEDING) AS JSON) FROM tj"
"SELECT i, j, MIN(i) OVER (PARTITION BY j ORDER BY i) FROM t1"
"SELECT a, MAX(a) OVER (ORDER BY a DESC ROWS BETWEEN 1 PRECEDING AND CURRENT ROW) FROM t1"
"SELECT a, COUNT(a) OVER w, MAX(a) OVER w, MIN(a) OVER w FROM t1 WINDOW w AS (ORDER BY a DESC ROWS BETWEEN 1 PRECEDING AND CURRENT ROW)"
"SELECT a, COUNT(a) OVER w, MIN(a) OVER w                FROM t1 WINDOW w AS (ORDER BY a DESC ROWS BETWEEN 1 PRECEDING AND CURRENT ROW)"
"SELECT a, COUNT(a) OVER w, MAX(a) OVER w, MIN(a) OVER w FROM t1 WINDOW w AS (ORDER BY a DESC RANGE BETWEEN 1 PRECEDING AND CURRENT ROW)"
"SELECT a, COUNT(a) OVER w, MIN(a) OVER w                FROM t1 WINDOW w AS (ORDER BY a DESC RANGE BETWEEN 1 PRECEDING AND CURRENT ROW)"
"SELECT a, MIN(a) OVER w min, MAX(a) OVER w max FROM t1 WINDOW w AS (ORDER BY a DESC RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)"
"SELECT MIN(DATE'2000-01-01') OVER () AS c1,
MIN(TIME'12:00:00') OVER () AS c2,
MIN(TIMESTAMP'2000-01-01 12:00:00') OVER () AS c3,
JSON_ARRAY(MIN(CAST('123' AS JSON)) OVER ()) AS c4,
MIN(DATE'2000-01-01') OVER () = DATE'2000-01-01' AS c5,
MIN(TIME'12:00:00') OVER () = TIME '12:00:00' AS c6,
MIN(TIMESTAMP'2000-01-01 12:00:00') OVER () =
TIMESTAMP'2000-01-01 12:00:00' AS c7"
"DROP FUNCTION `TESTDB`.`test_fn`"
"DROP FUNCTION `testdb`.`test_fn2`"
"GRANT SELECT (pub) ON mysqltest1.t1 TO user1@localhost"
"SELECT *
FROM
(VALUES ROW(1),ROW(1)) AS dt(a)
WHERE
EXISTS(
WITH RECURSIVE qn AS (SELECT a*0 AS b UNION ALL SELECT b+1 FROM qn WHERE b=0)
SELECT * FROM qn WHERE b=a
)"
"SELECT *
FROM
(VALUES ROW(1),ROW(1)) AS dt(a)
WHERE
NOT EXISTS(
WITH RECURSIVE qn AS (SELECT a*0 AS b UNION ALL SELECT b+1 FROM qn WHERE b=0)
SELECT * FROM qn WHERE b=a
)"
"create procedure solver(initial_leftm varchar(200), initial_rightm varchar(200))

begin
declare initial_leftm_j  json;
declare initial_rightm_j json;
set initial_leftm_j  = cast(initial_leftm as json),
initial_rightm_j = cast(initial_rightm as json);

with recursive

number_of_lines (value) as
(select json_length(initial_rightm_j)),

number_of_columns (value) as
(select json_length(json_extract(initial_leftm_j,""$[0]""))),

line_numbers (n) as
(
select 0
union all
select n+1 from line_numbers, number_of_lines where n<(value-1)
),

column_numbers (n) as
(
select 0
union all
select n+1 from line_numbers, number_of_columns where n<(value-1)
),


equations (null_if_done, leftm, rightm, pivot_lines, pivot_columns) as
(
select 0, initial_leftm_j, initial_rightm_j,
cast("""" as char(200)), cast("""" as char(200))

union all

select

cur_pivot.cur_pivot_line
,

(

select
""["" ||

group_concat(

(
select
""["" ||

group_concat(


json_extract(json_extract(eq.leftm, ""$["" || ln.n || ""]""),
""$["" || cn.n || ""]"")
-

(case when find_in_set(ln.n,eq.pivot_lines)=0 and ln.n<>cur_pivot.cur_pivot_line
then json_extract(json_extract(eq.leftm, ""$["" || ln.n || ""]""),
""$["" || cur_pivot.cur_pivot_column || ""]"") *
json_extract(json_extract(eq.leftm, ""$["" || cur_pivot.cur_pivot_line || ""]""),
""$["" || cn.n || ""]"") /
cur_pivot.cur_pivot_value
else 0 end)


order by cn.n separator ',')
|| ""]""

from column_numbers cn

)


order by ln.n separator ',')
|| ""]""

from line_numbers ln
),

(

select
""["" ||

group_concat(
json_extract(eq.rightm, ""$["" || ln.n || ""]"")
-
(case when find_in_set(ln.n,eq.pivot_lines)=0 and ln.n<>cur_pivot.cur_pivot_line
then json_extract(json_extract(eq.leftm, ""$["" || ln.n || ""]""),
""$["" || cur_pivot.cur_pivot_column || ""]"") *
json_extract(eq.rightm, ""$["" || cur_pivot.cur_pivot_line || ""]"") /
cur_pivot.cur_pivot_value
else 0 end)

order by ln.n separator ',')
|| ""]""

from line_numbers
ln
),

coalesce(cur_pivot.cur_pivot_line, """") || "","" || eq.pivot_lines,

coalesce(cur_pivot.cur_pivot_column, """") || "","" || eq.pivot_columns

from equations eq
left join
lateral
(
select
ln.n as cur_pivot_line,
cn.n as cur_pivot_column,
(
# Extract the ln.n-th line of the left member, and from it, extract the
# cn.n-th column, getting a number
json_extract(json_extract(eq.leftm, ""$["" || ln.n || ""]""),
""$["" || cn.n || ""]"")
) as cur_pivot_value
from line_numbers ln join column_numbers cn
where
find_in_set(ln.n,eq.pivot_lines)=0 and
json_extract(json_extract(eq.leftm, ""$["" || ln.n || ""]""),
""$["" || cn.n || ""]"") <> 0
order by cur_pivot_line,cur_pivot_column
limit 1
) as cur_pivot

on 1

where eq.null_if_done is not null

),


final_equations as
(
select * from equations where null_if_done is null
)


select
json_extract(eq.leftm, ""$["" || ln.n || ""]"")  as left_member,
json_extract(eq.rightm, ""$["" || ln.n || ""]"") as right_member,
free.value as list_of_free_unknowns
from final_equations eq, line_numbers ln,
(
select group_concat(cn.n+1) as value
from final_equations eq, column_numbers cn
where find_in_set(cn.n,eq.pivot_columns)=0
) as free

order by find_in_set(ln.n,eq.pivot_lines), ln.n;

end

"
"CREATE USER wl14965_u2"
"SEND UPDATE t1 SET a=5 WHERE a=2"
"XA START X'1A2B3C4D5E6F',X'F6E5D4C3B2A1',12345"
"XA END X'1A2B3C4D5E6F',X'F6E5D4C3B2A1',12345"
"XA PREPARE X'1A2B3C4D5E6F',X'F6E5D4C3B2A1',12345"
"XA ROLLBACK X'1A2B3C4D5E6F',X'F6E5D4C3B2A1',12345"
"CREATE USER xau"
"SELECT AVG(DISTINCT EXTRACTVALUE((''),('$@k')))"
